---
id: database
title: 데이터베이스
description: 데이터베이스의 지표별 이벤트 조건 설정을 통해 경고 알림을 보냅니다. 
keywords: [ 경고 알림, 이벤트 설정, 데이터베이스 ]
toc_max_heading_level: 3
---

> 홈 화면 &gt; 프로젝트 선택 &gt; ![알림 아이콘](/img/ic-alert.svg) <Cmdname sid="side_event" className="uitext" /> &gt; <Cmdname sid="side_eventSetting" className="uitext" /> <code class="classicfunc">classic</code>

데이터베이스의 지표별 이벤트 조건 설정을 통해 경고 알림을 보냅니다. 지표별 임계치 값을 입력해 <span className="vslow">위험</span>, <span className="slow">경고</span> 수준으로 나누어 알림을 보낼 수 있습니다.

## 기본 옵션 {#default-options}

데이터베이스 인스턴스에 대한 주요 지표를 기준으로 이벤트 조건을 설정할 수 있습니다.

* **인스턴스**: 이벤트 조건을 설정할 데이터베이스 에이전트

* **데이터베이스**: 모니터링 대상 데이터베이스

* **에이전트 비활성 경고**: 설정한 시간 후까지 응답이 없으면 에이전트로부터 경고 알림 보냄

<div class="table-title"> 표 | 데이터베이스 이벤트 설정 화면 구성</div>

| 항목 | 설명 |
| :---: | --- |
| 메트릭스 | 이벤트 조건을 설정할 데이터베이스 지표 |
| 위험 | 위험(<span className="vslow">Critical</span>) 수준 임계치 |
| 경고 | 경고(<span className="slow">Warning</span>) 수준 임계치 |
| 탐지횟수 | 지표가 5초마다 수집될 때 기준을 연속해서 몇 번 초과했는지를 나타내는 값 <br /> – 예: 3회로 설정 시, `5초 간격 × 3회 연속` 조건 충족 시 알림 발생 |
| 이벤트 상태가 해소되면 추가 알림 | 이벤트가 발생한 뒤 정상 상태로 복구되었음을 알리는 추가 알림<br />– **DBX 에이전트 1.6.30 이상 지원** |
| ![삭제 아이콘](/img/ico-trash-red.svg) | 이벤트 삭제 |
| ![토글 비활성화 아이콘](/img/ic-toggle-off.svg) | 이벤트의 활성화 여부 <br /> - 활성화: 조건을 충족하면 이벤트 발생 <br /> - 비활성화: 이벤트가 동작하지 않으며, 조건을 검사하지 않음 |

### 이벤트 추가 {#add-alert-policy}

사용자가 선택한 **메트릭스** 지표 항목에 따라 입력한 <span className="vslow">위험</span>과 <span className="slow">경고</span> 항목 수치의 조건을 만족하는 이벤트가 **탐지 횟수**만큼 발생하면 경고 알림을 보내도록 설정할 수 있습니다.

1. <Cmdname sid="side_event" className="uitext" /> &gt; <Cmdname sid="side_eventSetting" className="uitext" /> <code class="classicfunc">classic</code>으로 이동하세요.

1. **인스턴스**에서 경고 알림을 설정할 에이전트를 선택하세요. 

1. [ + 이벤트 추가 ] 버튼을 클릭하세요.

1. **메트릭스** 항목에서 원하는 지표를 선택하세요.

1. **위험**과 **경고** 항목의 비교 연산자(`<`, `≤`, `>`, `≥`) 선택하고, 수치를 입력하세요.  

    - 설정값을 초과하면 경고 알림 발생합니다.

1. **탐지 횟수**에 원하는 수치를 입력하세요.  

    - 5초 연속으로 설정한 횟수만큼 발생할 경우 알림이 발생합니다.  
    - 예:  탐지 횟수가 3인 경우 `5초(1회) - 5초(2회) - 5초(3회) → 총 15초 경과 → 알림 발송`

1. **이벤트 상태가 해소되면 추가 알림**을 활성화하면 발생한 이벤트 상태가 해소(RECOVERED)되면 추가 알림이 전송됩니다. 
    
    :::note
    
    **이벤트 상태가 해소되면 추가 알림** 기능은 **DBX 에이전트 버전 1.6.30 이상**에서 지원됩니다
    
    :::
    
1. 가장 오른쪽의 토글 버튼을 활성화(![토글 활성화 아이콘](/img/ic-toggle-on.svg))하면 경고 알림이 전송됩니다. 

    a. 이벤트를 삭제하고 싶다면, 해당 이벤트의 ![삭제 아이콘](/img/ico-trash-red.svg) 아이콘을 클릭하세요.

### 알림 복제 {#copy-alert-policy}

현재 선택한 인스턴스에 생성한 경고 알림 이벤트를 다른 인스턴스로 복사할 수 있습니다.

1. <Cmdname sid="side_event" className="uitext" /> &gt; <Cmdname sid="side_eventSetting" className="uitext" /> <code class="classicfunc">classic</code>으로 이동하세요.

2. [ 알림 복제 ] 버튼을 선택하세요.
    
3. **알림 복제** 창에서 복사 대상 인스턴스를 선택하세요. 모든 인스턴스에 복사하려면 **전체 선택**을 선택하세요.

4. [ 복사 ] 버튼을 클릭해 알림을 복제합니다. 

:::caution

복사 대상 인스턴스에 이미 만들어 놓은 경고 알림 이벤트가 있는 상태에서 **알림 복제** 기능을 이용하면 기존의 경고 알림 이벤트는 삭제됩니다.

:::

### 에이전트 비활성 경고 {#agent-inactive-warning}

설정한 시간 후까지 응답이 없으면 에이전트로부터 경고 알림을 보냅니다.

1. <Cmdname sid="side_event" className="uitext" /> &gt; <Cmdname sid="side_eventSetting" className="uitext" /> <code class="classicfunc">classic</code>으로 이동하세요.

2. **에이전트 비활성 경고**에서 원하는 시간(`30초`, `1분`, `2분`, `3분`, `5분`, `10분`, `30분`)을 선택하세요. 

3. 오른쪽 토클 버튼을 클릭해 활성화합니다.  

    - ![토글 활성화 아이콘](/img/ic-toggle-on.svg) **활성화**: 설정한 시간 동안 에이전트로부터 데이터를 수신하지 못하면 **INACTIVE MONITORING AGENT** 이벤트가 발생합니다.

## 기본 알림: Connection FAILED

이벤트 규칙을 별도로 설정하지 않아도 에이전트에서 DB 접속에 15회 이상 실패한 경우 알림을 보냅니다. DB 셧다운(shutdown) 및 네트워크 장애, 계정 또는 권한 문제로 연결이 안될 수 있습니다.

<ImgLang img='db-default-alert-connection-failed.svg' desc='Connection Failed'/>