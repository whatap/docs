---
id: metrics
title: 메트릭스
description: 메트릭스 이벤트는 실시간 데이터를 기반으로 시스템 및 애플리케이션의 성능 지표를 모니터링하는 기능입니다.
keywords: [ 경고 알림, 이벤트 설정, 메트릭스 ]
toc_max_heading_level: 4
---

> 홈 &gt; 프로젝트 선택 &gt; ![알림 아이콘](/img/ic-alert.svg) <Cmdname sid="side_event" className="uitext" /> &gt; <Cmdname sid="side_eventSetting" className="uitext" /> &gt; <Cmdname sid="metrics" className="uitext" /> 탭

프로젝트에 설정된 모든 메트릭스 기반 이벤트 목록을 확인할 수 있습니다. 사용자가 설정한 메트릭스 이벤트를 확인, 수정, 삭제하거나, 새로운 이벤트를 추가할 수 있습니다. 

## 기본 옵션 {#default-options}

- **이벤트 레벨**: 이벤트의 심각도를 의미하며 정상(<span className="info">Info</span>), 경고(<span className="slow">Warning</span>), 위험(<span className="vslow">Critical</span>) 세 단계로 구분

- **에이전트 중복 알림**: 설정한 시간(30초, 1분, 3분, 5분, 10분)에 같은 이름의 에이전트가 동시에 2개 이상 동작하는 경우, 선택한 시간 동안 알림을 받지 않음

- **검색**: 이벤트 이름을 기준으로 검색

- **JSON 다운로드/업로드**: 이벤트 규칙은 JSON 편집기를 통해 바로 수정하거나, 파일로 다운로드하여 수정 후 다시 업로드 가능

- **+ 이벤트 추가**: 새로운 메트릭스 이벤트 추가

- **컬럼 크기 조정**: 각 컬럼의 경계를 드래그하여 너비 조정 가능

<div class="table-title">표 | 메트릭스 이벤트 목록 구성</div>

| 항목 | 설명 |
| :---: | --- |
| No. | 이벤트의 순번 |
| ![토글 비활성화 아이콘](/img/ic-toggle-off.svg) | 이벤트의 활성화 여부 <br /> - 활성화: 조건을 충족하면 이벤트 알림 전송 켜기 <br /> - 비활성화: 이벤트 알림 전송 끄기 |
| ![수정 아이콘](/img/ic-edit.svg) | 이벤트 설정 편집 및 삭제 |
| 이벤트 이름 | 사용자가 지정한 이벤트명 |
| 규칙 | 이벤트 발생 조건 |
| 대상 | 이벤트가 적용되는 모니터링 대상 |
| 발생 횟수 | 알림 발생 기준이 되는 기간과 횟수 <br /> - 선택한 시간 동안 설정한 이벤트가 입력 횟수만큼 발생하면 알림 |
| 일시 중지 | 이벤트 알림 발생 후, 같은 이벤트 알림을 일정 시간 동안 멈춤 <br /> - 선택 가능 시간: 사용 안 함, 5분, 10분, 15분, 20분, 30분, 1시간, 2시간, 3시간, 6시간, 12시간, 1일 <br /> - 해소된 알림이 활성화된 경우, 정상(RECOVERED) 상태 알림을 받은 후 선택한 시간 동안 같은 이벤트가 발생해도 알림이 발생하지 않음 |
| 해소된 알림 | <span className="vslow">Critical</span>과 <span className="slow">Warning</span> 레벨의 이벤트가 해소되면 정상(RECOVERED) 상태의 알림 수신 여부 <br /> - 활성화: 진행 중 → 정상 상태로 전환되면 RECOVERED 알림을 보내고, 이벤트 기록에서 진행 중/해소 상태를 구분해 볼 수 있음 <br />- 비활성화: 해소 알림 미전송 |
| 이벤트 수신 | 해당 이벤트 알림을 받을 사용자 또는 그룹(수신 태그) |

## 이벤트 설정 {#event-configuration}

메트릭스 이벤트는 모니터링 대상에서 발생하는 이벤트를 조건에 따라 정의하고, 효율적으로 알림을 받을 수 있도록 설정할 수 있는 기능을 제공합니다.

### 이벤트 추가 {#add-alert-policy}

메트릭스 이벤트를 추가하려면 <Cmdname sid="side_eventSetting" className="uitext" /> &gt; <Cmdname sid="metrics" className="uitext" /> 탭으로 이동한 후, 오른쪽 상단의 [ + 이벤트 추가 ] 버튼을 클릭하세요. 

| 메트릭스 이벤트 추가 방법 |
| :-----: | 
| **[Step 1. 템플릿 선택](#select-template)**: 이벤트의 기본 구조를 선택합니다. |
| **[Step 2. 이벤트 조건 정의](#define-event-condition)**: 이벤트 알림을 어떤 기준으로 발생시킬지 조건을 설정합니다.|
| **[Step 3. 이벤트 대상 선택](#select-event-target)**: 이벤트가 발생하는 모니터링 대상을 선택합니다. |
|  **[Step 4. 기본 정보 및 수신 설정](#basic-information-and-notification-setting)**: 이벤트 이름 및 메시지, 수신 대상을 설정합니다. |

#### 템플릿 선택 {#select-template}

1. 이벤트를 어떻게 구성할지에 따라 화면 왼쪽의 3가지 템플릿 중 하나를 선택하세요.

    - **새로 만들기**: 카테고리와 지표를 처음부터 자유롭게 구성할 수 있으며, 복잡한 조건이나 세밀한 모니터링 규칙이 필요한 고급 사용자에게 적합

    - **빠른 설정**: 사전 정의된 카테고리, 지표, 기본 임계치가 제공되며, 임계값만 조정하여 빠르게 적용할 수 있어 초급 사용자에게 적합

    - **고급 설정**: 사전 정의된 카테고리와 지표를 기반으로 조건을 추가하거나 자유롭게 변경

:::note

메트릭스 이벤트에서는 다양한 설정 방식을 지원합니다. 모니터링 플랫폼에 따라 제공하는 템플릿은 다를 수 있습니다. 

:::

#### 이벤트 조건 정의 {#define-event-condition}

**이벤트 조건 정의** 단계에서 이벤트가 언제 발생할지 결정하는 지표 설정, 발생 횟수, 일시 중지, 해소된 알림, 이벤트 동작 시간을 설정합니다. 

##### 지표 설정 {#indicator-settings}

1. 검색창에서 카테고리를 입력하거나, 카테고리 목록에서 카테고리(지표)를 선택하세요.  
카테고리를 선택해야 이후 지표 설정을 진행할 수 있습니다.

    - 카테고리 목록은 카테고리 이름, 데이터 수집 주기, 키를 확인할 수 있습니다. 최근 3시간 동안 프로젝트에서 수집된 메트릭스 데이터가 표시됩니다.
    
1. 목록에 없는 지표를 사용하려면 **직접 입력하기**를 선택하여 카테고리를 직접 입력하세요. 

    - 검색 결과에서 필요한 메트릭스의 [ 선택 ] 버튼을 클릭하면, 선택한 값이 이벤트 설정 화면에 자동 반영됩니다.
    
    :::note
    
    **카테고리와 지표를 모르는 경우 메트릭스 검색기를 활용하세요.**
    
    - 처음 지표를 설정하는 경우 메트릭스 검색기를 활용하면 더 빠르게 지표를 찾을 수 있습니다.

    - 메트릭스 검색기에서 원하는 지표를 검색하면 관련 카테고리와 상세 정보를 확인할 수 있습니다.
    
        <ImgLang img='metrics-finder.png' />
    
    :::

1. 이벤트 레벨(<span className="vslow">Critical</span>, <span className="slow">Warning</span>, <span className="info">Info</span>)을 선택하세요. 하나의 지표에 여러 레벨을 설정할 수 있습니다. 
    
    :::note
    
    **이벤트 레벨 동작**
    
    여러 조건을 만족하더라도 가장 높은 우선 순위(<span className="vslow">Critical</span> → <span className="slow">Warning</span> → <span className="info">Info</span>)의 레벨만 알림이 발생합니다. 레벨 동작 방식은 [레벨 동작 가이드](#level-guide)를 참고하세요.
    
        - 알림 레벨 수준은 위험(<span className="vslow">Critical</span>)과 경고(<span className="slow">Warning</span>), 정상(<span className="info">Info</span>)으로 구분합니다.

        - 같은 지표로 레벨을 설정하고 단계별 임계치를 설정하는 것을 권장합니다.

    :::

1. 선택한 이벤트 레벨의 필드, 연산자, 값을 입력하세요.

    a. **+ 추가**를 클릭해 조건을 추가할 수 있습니다. 
        - `&&` 또는 `and`: **모든 조건을 동시에 만족**해야 이벤트 발생
        - `||` 또는 `or`: **하나 이상의 조건만 만족**하면 이벤트 발생

    b. **—** 를 클릭하면 해당 조건이 삭제됩니다. 
    
    :::note
    
    조건식 작성 방법과 지원되는 연산자는 [조건 설정 가이드](#condition-settings-guide)를 참고하세요.
    
    :::

##### 발생 횟수 {#number-of-event}

이벤트가 몇 번이나 반복될 때 알림을 보낼지 설정합니다. 지속적인 문제만 감지하고 싶을 때 유용합니다.

1. 발생 빈도를 선택하세요.

    - **연속**: 설정한 횟수만큼 이벤트가 연속으로 발생하는 경우 알림 발생

    - **최근**: 선택한 시간 내에 설정한 횟수만큼 이벤트가 발생하는 경우 알림 발생
        - 선택 가능 시간: `5초`, `10초`, `15초`, `30초`, `1분`, `2분`, `3분`, `4분`, `5분`, `10분`, `30분`, `1시간`

1. 발생 횟수를 입력하세요. 

    - **Interval** 값은 선택한 카테고리의 데이터 수집 간격입니다. (Interval: 10s)

##### 일시 중지 {#pause}

과도한 이벤트 알림을 방지하기 위해, 알림을 일시 중지할 시간을 선택하세요. 

- 이벤트 발생 후 설정한 시간 동안 동일한 이벤트가 발생하지 않습니다.

- 선택 가능 시간: `사용 안 함`, `5분`, `10분`, `15분`, `20분`, `30분`, `1시간`, `2시간`, `3시간`, `6시간`, `12시간`, `1일`

:::note

**해소된 알림 활성화 시**

알림은 정상 상태 알림(**RECOVERED**)을 받은 시점을 기준으로 설정한 시간이 지나기 전까지 동일한 이벤트가 발생해도 알림이 발생하지 않습니다. 

:::

##### 해소된 알림 {#resolved-notification}

해소된 알림 기능을 활성화하면, 이벤트 발생 이후 상태 변화(진행 중 → 해소됨)를 추적할 수 있습니다. **이벤트 기록** 메뉴에서 진행 중인 이벤트로 표시됩니다. 

- 해소된 알림은 <span className="vslow">Critical</span>과 <span className="slow">Warning</span> 레벨에만 적용되며, Info 레벨은 항상 단발성 이벤트로 동작합니다.

- <span className="vslow">Critical</span>과 <span className="slow">Warning</span> 레벨의 이벤트가 해소되면, 정상(RECOVERED) 상태의 알림이 전송됩니다.

- 토글 버튼을 클릭해 **활성화** 또는 **비활성화** 하세요.

    - ![토글 활성화 아이콘](/img/ic-toggle-on.svg) **활성화**: 이벤트는 상태 기반으로 동작하며, 임계치 초과 시 진행중, 임계치 이하로 복구 시 해소 상태로 전환됨

    - ![토글 비활성화 아이콘](/img/ic-toggle-off.svg) **비활성화**: 임계치 초과할 때 마다 단발성 알림 발생

##### 이벤트 동작 시간 {#event-operation-time}

이벤트가 특정 시간대(근무/비근무/점검 시간 등)에 동작하도록 태그를 설정하세요. 태그를 설정하지 않으면 이벤트가 활성화된 상태에서 24시간 상시 동작합니다.

1. **+ 추가**를 클릭하세요.

1. 이벤트 동작 시간에서 **+새로운 태그 생성**을 클릭하세요. 

1. **이벤트 동작 시간 태그 생성**에서 **태그 이름, 요일, 시간, 색상**을 선택하고 [ 적용 ] 버튼을 클릭하세요. 

1. 생성한 태그는 태그 목록에서 확인할 수 있으며, 체크 박스를 선택하면 적용됩니다. 

1. 수정 또는 삭제할 태그의 ![수정 아이콘](/img/ic-edit.svg) 아이콘을 클릭해 **이벤트 동작 시간 태그 수정**에서 태그를 수정하거나 태그 삭제할 수 있습니다. 

:::caution

태그 삭제 시 해당 태그가 적용된 모든 알림에서 삭제됩니다. 단, 이벤트 설정에서 사용 중인 태그는 삭제할 수 없습니다.

:::

##### 시뮬레이션 {#Simulation}

시뮬레이션 기능은 설정한 이벤트 조건을 과거 데이터에 기반으로 사전 테스트 할 수 있습니다. 예상 알림 수가 지나치게 많거나 부족하다면 조건을 조정해 최적의 임계값을 찾을 수 있습니다.

- **규칙 검증**: 새로운 이벤트 규칙을 만들었을 때, 과거 데이터에 적용하면 어떤 결과가 나오는지 확인 가능

- **임계값 튜닝**: 알림이 너무 자주 오거나 전혀 오지 않을 때 적절한 수준으로 임계값 조정

<br />

> **시뮬레이션 시작하기**

1. 이벤트 조건 설정이 완료되면 [ 시뮬레이션 ] 버튼을 클릭하세요.

1. 알림 예상 건수와 시각화된 결과를 확인합니다. 

> **시뮬레이션 결과 이해하기**

<ImgLang img='merics-event-simulation.png' />

1. **시계열 데이터**
    
    지표의 시간대별 변화와 각 레벨의 임계선이 그래프로 표시되어 이벤트 발생 시점을 직관적으로 확인할 수 있습니다.
    
2. **레벨별 발생 현황**
    
    화면 우측에 Critical, Warning, Info 레벨의 이벤트 발생 횟수가 표시됩니다. 전체 이벤트 분포와 빈도를 파악할 수 있습니다.
    
3. **대상별 상세 정보**
    
    차트의 특정 지점에 마우스를 올리면 해당 시점의 정확한 지표 값과 모니터링 대상이 표시됩니다. 여러 대상이 있는 경우 색상으로 구분되며, 대상별 패턴이 다른 경우 필터링 기능을 사용해 개별적으로 분석할 수 있습니다.
    
4. **피크 구간 식별**
    
    그래프에서 지표가 급격히 상승하는 시간을 확인하여 문제가 자주 발생하는 시간대나 패턴을 파악할 수 있습니다.

:::tip

**시뮬레이션 활용 팁**

- **다양한 시간대 시뮬레이션**
    
    평일/주말, 피크/비피크 시간대를 각각 시뮬레이션하여 시간대별 최적 임계값을 설정하세요.
    
- **실제 장애 기간 포함**
    
    과거 장애가 발생했던 기간을 포함하여 시뮬레이션을 실행하면 현재 규칙이 장애를 정확히 감지하는지 확인하세요.
    
- **대상 필터링 추가**
    
    모니터링 대상이 많으면 시뮬레이션 결과가 복잡해집니다. 필터링 기능으로 특정 대상만 선택하여 명확한 결과를 확인할 수 있습니다.
    
- **임계값 단계적 조정**
    
    임계값을 한 번에 크게 변경하기보다 10% 단위로 점진적으로 조정하면서 최적값을 탐색하는 것이 좋습니다.
    
:::

#### 이벤트 대상 선택 {#select-event-target}

이벤트 대상을 지정하지 않으면, 프로젝트에 포함된 전체 대상으로 이벤트가 발생되어 많은 알림이 발생할 수 있습니다. 따라서 이벤트가 적용될 대상을 명확히 설정하는 것을 권장합니다.

:::note

이벤트 대상을 변경한 경우, 알림 건수가 달라질 수 있습니다. **시뮬레이션** 버튼을 클릭해 다시 실행해 알림 수를 확인하세요.

:::

##### 대상 선택 {#select-target}

이벤트가 적용될 대상을 **선택 입력** 또는 **직접 입력** 방식으로 지정할 수 있습니다.

    <Tabs groupId="select-target">
    <TabItem value="Selector" label="선택 입력">

        1. 태그, 연산자, 값을 선택 또는 입력하세요.
            a. 태그를 찾기 어렵다면, **메트릭스 검색기**에서 태그를 검색할 수 있습니다. 

        2. **+ 추가**를 클릭해 `&&`, `and`, `||`,`or` 조건으로 이벤트 대상을 추가하세요.

    </TabItem>
    <TabItem value="Typing" label="직접 입력">

    모니터링할 대상의 태그, 연산자, 값을 직접 입력하세요. 
    
    - 직접 입력을 선택하면 입력란 아래에 사용 가능한 태그 목록(**태그 선택 입력**)이 함께 제공됩니다.

        ```
        ex. endsWith(okindName, 'example_name') && container == 'prod.billing'
        ex. ${4xxErrorType} == '401'
        ```

        :::caution

        입력 방법을 변경하면, 작성한 내용이 초기화됩니다. 

        :::

    </TabItem>
    </Tabs>

#### 기본 정보 및 수신 설정 {#basic-information-and-notification-setting}

**이벤트의 이름, 메시지, 수신 대상**을 설정합니다. 설정한 내용은 이벤트 기록과 실제 알림 메시지에 그대로 표시되므로, 식별하기 쉽고 명확하게 작성하는 것이 중요합니다.

##### 이벤트 활성화 {#select-target}

이벤트가 발생했을 때 알림 전송 여부를 설정합니다.

- ![토글 활성화 아이콘](/img/ic-toggle-on.svg) **활성화**: 설정한 조건을 충족하면 이벤트의 알림이 전송됨

- ![토글 비활성화 아이콘](/img/ic-toggle-off.svg) **비활성화**: 설정한 조건을 충족하더라도 알림이 전송되지 않음

##### 이벤트 이름 {#event-title}

알림 제목으로 사용될 이벤트 이름을 입력하세요. 

##### 메시지 {#message}

전달받을 알림 메시지의 내용을 입력하세요. ![시간 아이콘](/img/ico-timing.svg)을 클릭하면 이전에 작성한 메시지 기록을 확인할 수 있습니다. 메시지에 변수를 사용하여 이벤트 발생 시점의 실제 값을 포함할 수 있습니다.

- **변수 사용 규칙**
    - 변수 형식: `${지표명}`
    - 설정한 **카테고리와 동일한 카테고리** 내 지표만 변수로 사용 가능합니다.
    - 여러 변수를 조합해 상세한 메시지를 구성할 수 있습니다.
    - 사용 가능한 변수 목록은 **메트릭스 조회** 메뉴에서 확인할 수 있습니다.

- **변수 활용 예시**
    
    |  | 이벤트 설정 | 알림 발생 시 |
    | :--: | --- | --- |
    | 제목 | Disk 사용량 증가 | Disk 사용량 증가 |
    | 메시지 | `Disk = ${disk}%` | `Disk = 89.9%` |

##### 이벤트 수신 {#event-reception}

이벤트 알림을 받을 멤버를 지정합니다.

    <Tabs groupId="event-reception">
    <TabItem value="Selector" label="전체 수신">

    프로젝트의 전체 멤버에게 알림을 전송합니다.

    </TabItem>
    <TabItem value="Typing" label="태그 선택 수신">

    해당 태그를 가진 프로젝트 멤버에게 알림을 전송합니다.

        1. **태그 선택 수신**을 선택하세요.
        2. **수신 태그** 항목에서 [ + 태그 추가 ] 또는 [ + ] 버튼을 클릭하세요.
        3. **이벤트 수신 태그** 창 아래의 **+ 새 태그 생성**을 클릭하세요.
        4. **태그 생성** 창에서 태그 이름을 입력하고, 색상을 선택한 후, [ 태그 생성 ] 버튼을 클릭해 태그를 생성하세요. 
        5. 생성된 태그는 태그 목록의 ![수정 아이콘](/img/ic-edit.svg) 아이콘을 클릭해 수정 또는 삭제하세요. 
        6. **이벤트 수신 태그** 창에서 **태그 목록**에서 원하는 태그를 선택하면 적용됩니다.

        :::note

        **수신 태그**

        수신자 태그는 알림을 받을 사용자 또는 채널을 **그룹 단위로 관리하기 위한 기능**입니다. 이벤트에 수신자 태그를 설정하면, 해당 태그가 포함된 사용자에게만 알림이 전달됩니다. 수신 태그를 설정하지 않으면 프로젝트 내 모든 사용자에게 알림이 전송됩니다.

        :::

    </TabItem>
    </Tabs>

### 이벤트 수정/삭제 {#edit-delete-event}

1. **경고 알림** &gt; **이벤트 설정**의 **메트릭스** 탭으로 이동하세요.

1. 이벤트 목록에서 수정 또는 삭제하려는 이벤트의 ![수정 아이콘](/img/ic-edit.svg) 아이콘을 클릭하세요.

1. **이벤트 규칙 수정** 창에서 옵션을 수정하고, [ 저장 ] 버튼을 클릭하세요.

    a. 선택한 이벤트를 삭제하려면 **이벤트 규칙 수정** 창의 오른쪽 위의 [ 삭제 ] 버튼을 클릭하세요.

### 이벤트 공유 {#event-sharing}

import Alerteventsharing from "../../common-items/_alert-event-sharing.mdx";

<Alerteventsharing />

---

## 참고 {#reference} 

import Alertconditionguide from "../../common-items/_alert-condition-guide.mdx";

<Alertconditionguide />