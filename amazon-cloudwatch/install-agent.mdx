---
id: install-agent
title: 설치하기
description: Amazon CloudWatch 아이템 설치를 안내합니다.
tags: [ 설치하기, Amazon CloudWatch, 클라우드 ]
---

import TR from '@site/src/components/TR';
import ProdImg from '@site/src/components/ChangeImgName.js';

와탭 Amazon CloudWatch 모니터링은 API 연동을 통해 메트릭을 주기적으로 수집합니다. 수집을 원하는 서비스에 해당하는 CloudWatch 네임스페이스에서 5분 간격으로 원하는 스탯을 취사선택해 수집합니다. 모니터링 시작 시 모든 리전의 사용자 자원을 검색하여 원클릭으로 모니터링을 시작할 수 있습니다. Role 방식 인증으로 안전하고 편리하게 사용할 수 있습니다. 

{@include: ../getting-started/_create-project-cloud.mdx}  

## 사전 점검 사항

필요한 권한과 권장되는 정책을 확인하세요.

| Resouce          | 권한 |
| ---------------- | ---- |
| CloudWatch       | Read |
| EC2              | Read |
| ElasticCache     | Read |
| CloudFront       | Read |
| Dynammodb        | Read |
| ElasticBeansTalk | Read |
| AutoScaling      | Read |
| EFS              | Read |
| RDS              | Read |

* **권장 Policy**
  * arn:aws:iam::aws:policy/ReadOnlyAccess

## 모니터링 절차

1. Amazon 인증 정보를 입력하세요.
1. CloudWatch 네임스페이스 및 수집 주기를 선택하세요.
1. 리전, 메트릭스, 스탯 등을 선택하세요.

:::note

설치 후 사용량에 따라 와탭 요금과는 별개로 클라우드에서 추가 비용이 발생할 수 있습니다. 설치 전 사용 중인 클라우드 서비스의 가격 정책을 [다음 문서](https://aws.amazon.com/ko/cloudwatch/pricing/)에서 확인하세요.

:::

### 인증 정보 입력 

Role ARN을 이용한 설치 방법을 지원합니다. 와탭 AWS 계정(**911937781722**)이 직접 사용자 Role을 Assume하여 Cloudwatch 정보를 수집합니다. Role Assume은 액세스 키 발급이 불필요해 안전하고 편리합니다.

:::note

Role을 이용한 설정을 권장합니다. Access Key 활용은 기존 Access Key 사용자만 가능합니다.

:::

#### 역할(Role) 생성

![Amazon Cloudwatch - role](/img/cloudwatch-auth-role.png)

1. AWS Management Console에 로그인 후 IAM 콘솔을 엽니다.
1. 콘솔의 탐색창에서 역할을 선택한 후 역할 생성을 선택하세요.
1. Select type of trusted entity(신뢰할 수 있는 엔티티 유형 선택)에서 Another AWS account를 선택하세요.
1. Account ID에 와탭 계정ID **911937781722** 를 입력하세요. ReadOnlyAccess를 선택해 적용하세요.
1. Role의 이름과 설명을 입력하고 Create Role 버튼을 클릭해 Summary 화면으로 전환하세요.
1. Maximum session duration 항목의 Edit 버튼을 클릭해 12시간으로 변경하고 저장하세요. 
1. **Role ARN** 항목을 복사하세요.
1. 와탭 ***관리*** > ***에이전트 설치*** 페이지로 돌아가 ***Role*** ***ARN*** 창에 복사한 **Role ARN**을 붙여넣고 ***확인*** 버튼을 클릭하세요.

### 네임스페이스 및 수집 주기 선택

{@include: ../common-items/_namespace-collect.mdx}  

<!-- ![Amazon Cloudwatch - Namespace](https://img.whatap.io/media/images/amazon_cloudwatch_setup_dialog_1st.png) -->

#### 와탭 수집 주기

{@include: ../common-items/_collecting-period.mdx}

#### 네임스페이스

* AWS ACMPrivateCA
* AWS AmazonMQ
* AWS ApplicationELB Monitoring
* AWS AppSync
* AWS Athena
* AWS AutoScaling
* AWS Elastic Beanstalk Health
* AWS Billing
* AWS Cassandra
* AWS Chatbot
* AWS Cloud Front
* AWS CloudHSM
* AWS CloudSearch
* AWS CodeBuild
* AWS CodeGuruProfiler
* AWS Cognito
* AWS Connect
* AWS ContainerInsights Monitoring
* AWS DataSync
* AWS DAX
* AWS DDoSProtection
* AWS DMS
* AWS DocDB
* AWS DX
* AWS Dynamo DB
* AWS Ebs Usage
* AWS EC2 Monitoring
* AWS EC2 Alert Config
* AWS EC2Spot
* AWS ECS
* AWS EFS
* AWS ElastiCache Usage
* AWS ElasticGPUs
* AWS ElasticInference
* AWS ElasticMapReduce
* AWS ElasticTranscoder
* AWS Classic ELB Monitoring
* AWS ES
* AWS Events
* AWS Firehose
* AWS FSx
* AWS GameLift
* AWS GatewayELB
* AWS Glue
* AWS GroundStation
* AWS Health
* AWS Inspector
* AWS IoT
* AWS IoTAnalytics
* AWS IoTSiteWise
* AWS IVS
* AWS Kafka
* AWS Kinesis
* AWS KinesisAnalytics
* AWS KinesisVideo
* AWS KMS
* AWS Lambda
* AWS Lex
* AWS Location
* AWS Logs
* AWS LookoutMetrics
* AWS MediaConnect
* AWS MediaConvert
* AWS MediaPackage
* AWS MediaStore
* AWS MediaTailor
* AWS ML
* AWS NATGateway
* AWS Neptune
* AWS NetworkELB
* AWS NetworkFirewall
* AWS OpsWorks
* AWS Polly
* AWS QLDB
* AWS RDS Monitoring
* AWS Redshift
* AWS Robomaker
* AWS Route53
* AWS S3
* AWS SageMaker
* AWS SDKMetrics
* AWS ServiceCatalog
* AWS SES
* AWS SNS
* AWS SQS
* AWS SQS Message
* AWS SSM-RunCommand
* AWS States
* AWS StorageGateway
* AWS SWF
* AWS Textract
* AWS ThingsGraph
* AWS Timestream
* AWS Transfer
* AWS TransitGateway
* AWS Translate
* AWS TrustedAdvisor
* AWS Api Usage
* AWS VPN Monitoring
* AWS WAF
* AWS WorkMail
* AWS WorkSpaces

### 리전, 메트릭스, 스탯 선택

![number 2](/img/number-02.png) {@include: ../common-items/_region-metric-stats.mdx} 

![Amazon Cloudwatch - Region,Metric,Stats](https://img.whatap.io/media/images/amazon_cloudwatch_setup_dialog_2nd.png)

<!-- 이미지 최신화 필요 230127  -->