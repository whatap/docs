---
id: openapi-call-meta
title: 메타성 정보 조회
description: 메타성 정보 조회를 위한 Open API에 대한 설명을 제공합니다.
tags: [ Open API, API, 메타성 정보 조회 ]
---

## 프로젝트 목록 조회

<span class='apitype'>GET</span> https://api.whatap.io/open/api/json/projects

```bash title='command'
$ curl -L -w "\n" -H "x-whatap-token: {{ACCOUNT API TOKEN}}" "https://api.whatap.io/open/api/json/projects"
```

```json title='response'
{
  "data": [ {
        "groupName": "",
        "projectCode": 35,
        "projectName": "APM_TEST2",
        "createTime": "2018-10-19 07:17:03.774",
        "status": "subscribe",
        "productType": "APM",
        "platform": "JAVA",
        "gatewayName": "LOCAL",
        "apiToken": "5**********************R"
    }, {
    }, (...)
  ],
  "accountEmail": "xxx@whatap.io",
  "total": 6
}
```

| Response Field  |           Field Type            | 설명                     |
| --------------- | :-----------------------------: | ------------------------ |
| gourpName       | <span class='api'>string</span> | 프로젝트 상위 그룹 이름  |
| projectCode     | <span class='api'>number</span> | 프로젝트 코드            |
| projectName     | <span class='api'>string</span> | 프로젝트 이름            |
| createTime      | <span class='api'>string</span> | 프로젝트 생성 날짜       |
| lastUpdatedTime | <span class='api'>string</span> | 프로젝트 수정 날짜       |
| status          | <span class='api'>string</span> | 프로젝트 상태            |
| productType     | <span class='api'>string</span> | 애플리케이션 서버 유형   |
| platform        | <span class='api'>string</span> | 애플리케이션 서버 플랫폼 |
| gatewayName     | <span class='api'>string</span> | 게이트웨이 이름          |
| apiToken        | <span class='api'>string</span> | PROJECT API TOKEN        |
| accountEmail    | <span class='api'>string</span> | 사용자 계정 이메일 주소  |
| total           | <span class='api'>number</span> | 프로젝트 수              |

## 프로젝트 정보 조회{#project-info}

<span class='apitype'>GET</span> https://api.whatap.io/open/api/json/project

:::note

이 기능은 애플리케이션 모니터링 상품군에 해당합니다.

:::

```bash title='command'
$ curl -L -w "\n" -H "x-whatap-token: {{PROJECT API TOKEN}}" -H "x-whatap-pcode: {{projectCode}}" "https://api.whatap.io/open/api/json/project"
```

```json title='response'
{
  "platform": "JAVA",
  "createTime": "Tue Sep 18 08:34:27 GMT 2018",
  "gatewayName": "Office-OTE",
  "projectCode": 1**1,
  "status": "Subscribe",
  "lastUpdatedTime": "Tue Sep 18 08:34:34 GMT 2018", 
  "name": "SEO_APM",
  "productType": "APM"
}
```

| Response Field  |           Field Type            | 설명                     |
| --------------- | :-----------------------------: | ------------------------ |
| platform        | <span class='api'>string</span> | 애플리케이션 서버 플랫폼 |
| createTime      | <span class='api'>string</span> | 프로젝트 생성 날짜       |
| projectCode     | <span class='api'>number</span> | 프로젝트 코드            |
| status          | <span class='api'>string</span> | 프로젝트 상태            |
| lastUpdatedTime | <span class='api'>string</span> | 프로젝트 수정 날짜       |
| productType     | <span class='api'>string</span> | 애플리케이션 서버 유형   |

## 프로젝트 정보 및 상세 서버 조회

<span class='apitype'>GET</span> https://api.whatap.io/open/api/json/projects

:::note

이 기능은 서버 모니터링 상품군에 해당합니다.

:::

```bash title='command'
$ curl -L -w "\n" -H "x-whatap-token: {{PROJECT API TOKEN}}" -H "x-whatap-pcode: {{projectCode}}" "https://api.whatap.io/open/api/json/project"
```

```json title='response'
{
  "pname":"LOCAL_PC",
  "timezone":9,
  "regionName":"LOCAL",
  "values":{
    "servers":[
      {
        "public_ip":"192.168.1.0",
        "os_cpuvendor":"Intel(R) Core(TM) i7-8550U CPU @ 1.80GHz",
        "agent_created":"1572406071216",
        "ip":"192.168.1.0",
        "os_arch":"amd64",
        "actTime":1572406264112,
        "cpu_cores":"8",
        "oid":-1030311093,
        "isActive":true,
        "okind":"",
        "version":"1.2.4",
        "tags":[
          "network:169.254.0.0/16",
          "network:192.168.1.0/24",
          "java",
          "OpenVpn",
          "oracle",
          "ftp"
        ],
        "inactTime":0,
        "oname":"DESKTOP-KEIPLT5",
        "os_name":"windows",
        "startTime":1572406263602,
        "os_memory":"17036419072",
        "os_status":"warning"
      },
      (...)
    ],
  }
}
```

## 프로젝트 에이전트 상태 및 호스트 조회

<span class='apitype'>GET</span> https://api.whatap.io/open/json/agents

```bash title='command'
$ curl -L -w "\n" -H "x-whatap-token: {{PROJECT API TOKEN}}" -H "x-whatap-pcode: {{projectCode}}" "https://api.whatap.io/open/json/agents"
```

```json title='response'
{
   "data":[
      {
         "host_ip":"127.0.0.1",
         "oname":"TC-29-96-8082",
         "active":true
      }, { 
      } (...)
   ]
}
```

## 프로젝트 멤버 목록 조회

<span class='apitype'>GET</span> https://api.whatap.io/open/api/json/project/<code>projectCode</code>/members

```bash title='command'
$ curl -L -w "\n" -H "x-whatap-token: {{ACCOUNT API TOKEN}}" "https://api.whatap.io/open/api/json/project/{{projectCode}}/members"
```

```json title='response'
{
  "data": [ {
      "email": "honggildong@whatap.io",
      "name": "홍길동",
      "typeKey": "super_admin",
      "typeName": "Super Admin"
    }, {
    }, (...)
      ],
  "total": 6
}
```

| Response Field |           Field Type            | 설명                    |
| -------------- | :-----------------------------: | ----------------------- |
| email          | <span class='api'>string</span> | 사용자 계정 이메일 주소 |
| name           | <span class='api'>string</span> | 사용자 계정 이름        |
| typeKey        | <span class='api'>string</span> | 사용자 권한             |
| typeName       | <span class='api'>string</span> | 사용자 권한 명칭        |
| total          | <span class='api'>number</span> | 프로젝트 멤버 수        |

## 그룹 목록 조회

<span class='apitype'>GET</span> https://api.whatap.io/open/api/json/groups

```bash title='command'
$ curl -L -w "\n" -H "x-whatap-token: {{ACCOUNT API TOKEN}}" "https://api.whatap.io/open/api/v2/json/groups"
```

```json title='response'
{
  "data": [ {
        "groupName": "WHATAP APM",
        "groupKey": "grp****ab123kskd*****q",
        "description": "APM Group"
    }, {
    }, (...)
  ],
  "total": 3
}
```

## 그룹 멤버 목록 조회

<span class='apitype'>GET</span> https://api.whatap.io/open/api/json/group/<code>groupKey</code>/members

```bash title='command'
$ curl -L -w "\n" -H "x-whatap-token: {{ACCOUNT API TOKEN}}" "https://api.whatap.io/open/api/json/group/{{groupKey}}/members"
```

```json title='response'
{
  "data": [ {
      "groupName": "WHATAP APM",
      "groupKey": "AB123KSKD*****2uasQ",
      "description": "APM Group"
    }, {
    }, (...)
  ],
  "total": 3
}
```

## 그룹에 포함된 프로젝트 조회

<span class='apitype'>GET</span> https://api.whatap.io/open/api/json/group/<code>groupKey</code>/projects

그룹에 포함된 프로젝트들의 메타정보를 조회하는 API 입니다. 계정의 API Token 이 필요하며 curl 을 사용한 예시 요청은 아래에 있습니다.

```bash title='command'
$ curl -L -w "\n" -H "x-whatap-token: {{ACCOUNT API TOKEN}}" "https://api.whatap.io/open/api/json/group/{{groupKey}}/projects" 
```

```json title='response'
{
  "data": [
    {
      "projectCode":35,
      "name":"APM_TEST2",
      "status":"Subscribe",
      "productType":"APM",
      "platform":"JAVA",
      "gatewayName":"LOCAL"
    }, {
    }, (...)
  ]
}
```

| Response Field  | Field Type      | 설명 |
| --------------- | :--: | --------------- |
| projectCode     | <span class='api'>number(integer)</span> | 프로젝트 코드|
| name            | <span class='api'>string</span> | 프로젝트 명 |
| status          | <span class='api'>string</span> | 프로젝트 상태 (`pending`, `trial`, `subscribe`, `close_pending`, `limited`, `closed`, `trial_limited`) |
| productType     | <span class='api'>string</span> | 프로젝트에 사용된 상품 |
| platform        | <span class='api'>string</span> | 프로젝트에 사용된 상품의 플랫폼 |
| gatewayName     | <span class='api'>string</span> | 데이터 서버 지역 |


## oid 목록 호출

사용자가 조회를 원하는 시간 동안 활성화된 에이전트 정보를 조회할 수 있습니다.

<span class='apitype'>POST</span> https://api.whatap.io/open/api/v2/agent/list

```bash title='request'
curl --location 'https://api.whatap.io/open/api/v2/agent/list' -H 'x-whatap-token: {{PROJECT API TOKEN}}
' -H 'x-whatap-pcode: {{projectCode}}' -d '{"stime":1690850183000,"etime":1693321200000}'
```

```json title='response'
{
    "stime": 1690850183000,
    "etime": 1693321200000,
    "timestamp": 1693388196965,
    "data": [
        {
            "oid": 757639646,
            "oname": "DBX-0-107-3306",
            "alias": "",
            "initial": "",
            "otype": "database",
            "subtype": "0",
            "active": false,
            "okind": 0,
            "okindName": "",
            "onode": 0,
            "onodeName": "",
            "ip": "",
            "agent.version": "",
            "cpuCores": 0
        },
      ...
    ]
}
```

:::note

* 이 문서에서 작성된 샘플 코드 중 `stime`, `etime` 파라미터 값은 사용자 환경에 맞게 변경해 이용하세요. 파라미터 값은 다양한 포맷으로 요청할 수 있습니다.

  * 1693475430087 (unix timestamp)
  * `yyyyMMddHHmmss`
  * `yyyyMMddHHmm`
  * `MMddHHmmss`
  * `MMddHHmm`

* 조회 시간(`stime`, `etime`)은 하루로 제한하며, ms(millisecond) 단위 입니다.

:::