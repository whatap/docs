홈 화면 &gt; 프로젝트 선택 &gt; <Cmdname sid="side_analysis" className="uitext" /> &gt; <Cmdname sid="side_dbSqlPlanAnalysis" className="uitext" />

데이터베이스에서 실행되는 SQL 문을 분석하여 성능 문제를 진단할 수 있는 유용한 자료를 제공합니다.   
<Cmdname sid="side_dbSqlPlanAnalysis" className="uitext" />는 [Access Statistics](#access_statistics) 탭과 [Plan Change History](#plan_change_history) 탭으로 구성되어 있습니다. 

## Access Statistics {#access_statistics}

**Access Statistics** 탭에서 SQL별 Full Scan 발생 시점, 유형, 횟수를 확인할 수 있습니다. 자주 Full Scan이 발생하는 쿼리는 인덱스를 사용하도록 수정해 성능을 개선하고, 자원 사용량을 줄일 수 있습니다.

1. <Cmdname sid="side_analysis" className="uitext" /> &gt; <Cmdname sid="side_dbSqlPlanAnalysis" className="uitext" />의 **Access Statistics** 탭으로 이동합니다.

1. 조회 시간 및 인스턴스를 선택하세요. 

1. <Cmdname sid="time" className="uitext" />과 <Cmdname sid="instance" className="uitext" /> 옵션을 설정하고 ![검색 아이콘](/img/ico-btn-search.png) 버튼을 클릭하세요. 필요한 경우 <Cmdname sid="filter" className="uitext" /> 옵션을 설정해 원하는 조회 결과를 필터링할 수 있습니다.

1. **Access Count**와 **Operation Count** 섹션에서 검색 결과를 확인합니다.

    * **Access Count**: 시간대별 Full Scan 발생 횟수를 확인할 수 있는 막대 그래프 차트입니다. 특정 시간대를 선택하면, 선택한 시간에 수행된 SQL 목록이 화면 아래 목록과 오른쪽 **Operation Count** 차트에 표시됩니다.

    * **Operation Count**: Full Scan이 발생한 유형과 그 수를 확인할 수 있습니다. 각 막대에 마우스를 오버하면 오브젝트 이름을 확인할 수 있습니다.

        ![Operation Count](/img/db-analysis-sql-access-statistics-op-count.png)

import QueryDetails from "../common-items/_db-query-details.mdx";

<QueryDetails level={3} />

### 조회 결과 필터링하기

조회 결과를 다음 기준으로 필터링할 수 있습니다.

* **Access Type**: **Full Scan** 또는 **Index Scan** 기준으로 결과 필터링

* **Object Name**: 오브젝트 이름 기준으로 필터링

#### Access Type 필터 조건 추가하기

1. 화면 상단의 <Cmdname sid="filter" className="uitext" /> 옵션에서 <LinkImage img="ico-add.svg" className="ico" /> 버튼을 클릭하세요.

1. <Cmdname sid="TTL06737" className="uitext" />에서 **Access Type** 항목과 <Cmdname sid="equal" className="uitext" /> 조건을 선택하고, **FULL** 또는 **INDEX** 항목을 선택하세요.

1. <Cmdname sid="apply" className="uitext" /> 버튼을 클릭하세요.

1. 선택한 조건을 SQL 목록에 반영하려면 ![검색 아이콘](/img/ico-btn-search.png) 버튼을 클릭하세요.

:::note

Full Scan, Index Scan을 모두 검색하려면 <Cmdname sid="TTL06737" className="uitext" />에서 **FULL**, **INDEX** 옵션을 모두 선택하세요. ![더하기 아이콘](/img/ic-s-plus.svg) 버튼을 선택해 필터 옵션을 추가할 수도 있습니다.

:::

#### Object Name 필터 조건 추가하기

1. 화면 상단의 <Cmdname sid="filter" className="uitext" /> 옵션에서 <LinkImage img="ico-add.svg" className="ico" /> 버튼을 클릭하세요.

1. <Cmdname sid="TTL06617" className="uitext" />에서 **Object Name** 항목과 <Cmdname sid="equal" className="uitext" /> 조건을 선택하세요.

1. 빈 입력란을 클릭해 표시되는 오브젝트 목록에서 원하는 오브젝트 이름을 선택하세요.

1. <Cmdname sid="apply" className="uitext" /> 버튼을 클릭하세요.

1. 선택한 조건을 SQL 목록에 반영하려면 ![검색 아이콘](/img/ico-btn-search.png) 버튼을 클릭하세요.

:::note

**필터 조건 추가 및 삭제**

* 필터링 조건을 추가하려면 <Cmdname sid="bsm_button_add" className="uitext" /> 버튼을 클릭하고 1 ~ 5의 과정을 반복하세요. 추가한 조건은 AND(`&&`) 조건으로 적용됩니다.

* 조건 추가 중 일부 항목을 삭제하려면 필터 조건 오른쪽에 ![삭제 아이콘](/img/ico-trash.svg) 버튼을 클릭하세요. 전체 조건을 삭제하려면 ![삭제 아이콘](/img/ico-trash.svg) <Cmdname sid="BTN06616" className="uitext" /> 버튼 클릭하세요.

* <Cmdname sid="filter" className="uitext" /> 옵션에 적용된 조건을 빠르게 삭제하려면 <LinkImage img="ico-close.svg" className="ico" /> 버튼을 클릭하세요.

:::

#### 필터 조건 수정하기

1. 화면 상단 <Cmdname sid="filter" className="uitext" /> 옵션에 적용된 항목을 클릭하세요.

1. <Cmdname sid="TTL06737" className="uitext" /> 창에서 원하는 항목을 수정한 후, <Cmdname sid="apply" className="uitext" /> 버튼을 클릭하세요.

## Plan Change History {#plan_change_history}

**Plan Change History** 탭에서 동일한 SQL ID라도 실행 계획이 변경되면 성능에 영향을 줄 수 있습니다. 옵티마이저에 의해 플랜이 바뀐 경우를 감지하고 모니터링하여, 불필요한 변경을 막고 SQL 성능의 일관성을 유지할 수 있습니다.

1. <Cmdname sid="side_analysis" className="uitext" /> &gt; <Cmdname sid="side_dbSqlPlanAnalysis" className="uitext" />의 **Plan Change Historys** 탭으로 이동합니다.

1. 조회 시간 및 인스턴스를 선택하세요. 

1. <Cmdname sid="time" className="uitext" />과 <Cmdname sid="instance" className="uitext" /> 옵션을 설정하고 ![검색 아이콘](/img/ico-btn-search.png) 버튼을 선택하세요.

1. **Plan Change Count** 섹션에서 특정 시간대를 선택하면, 선택한 시간의 플랜 변경 목록을 표시합니다.

    - **Plan Change Count** 섹션: 시간대별 플랜 변경이 일어난 횟수를 확인할 수 있는 막대 그래프 차트

### Plan 변경 사항 확인하기

1. <Cmdname sid="side_dbSqlPlanAnalysis" className="uitext" />의 **Plan Change Historys** 탭의 목록에서 특정 변경 항목을 클릭합니다. 

1. **Query** 섹션에서 플랜 변경 전과 후의 세부 내용이 표시됩니다. 플랜 차이를 비교해 성능 변화의 원인을 파악할 수 있습니다.

    * **Query** 섹션에서 오른쪽 상단의 ![새창보기 아이콘](/img/ic-popup.svg) 버튼을 클릭하면 해당 섹션을 새창에서 확인할 수 있습니다.

1. **Query** 섹션을 닫으려면 오른쪽 상단의 ![닫기 아이콘](/img/ico-close.svg) 버튼을 클릭하세요.