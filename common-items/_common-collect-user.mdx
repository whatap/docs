<InDoc product="java">

* **trace_user_cookie_limit** / **wclient_cookie_limit** <span class='type'>Int</span>

  기본값 `2048`

  사용자 집계를 위해 쿠키를 발행하는 경우 기존 쿠키가 너무 많다면 쿠키 오버플로어가 발생할 수 있습니다. 이를 방지하기 위해 limit을 설정합니다.

  :::note

  Java 에이전트 2.2.0 버전 이상의 경우 `wclient_cookie_limit` 옵션을 이용하세요.

  :::

* **trace_user_using_ip** / **wclient_using_ip** <span class='type'>Boolean</span>

  기본값 `true`

  실시간 사용자를 IP 주소 기반으로 집계합니다. IP 주소가 아닌 쿠키를 기반으로 사용자를 구분하고 싶으면 값을 `false`로 변경하세요.

  :::note

  Java 에이전트 2.2.0 버전 이상의 경우 `wclient_using_ip` 옵션을 이용하세요.

  :::

* **user_header_ticket** / **wclient_header_ticket** <span class='type'>String</span>

  HTTP 헤더의 특정 값으로 사용자 수를 집계하고자 하는 경우 해당 Key 값을 설정합니다. 모바일 클라이언트인 경우 사용자 구분을 위해 header를 사용한다면 다음 옵션을 이용할 수 있습니다.

  ```ini title='whatap.conf'
  user_header_ticket=login
  ```

  :::note

  Java 에이전트 2.2.0 버전 이상의 경우 `wclient_header_ticket` 옵션을 이용하세요.

  :::

</InDoc>

<InDoc product="nodejs">

* **trace_user_cookie_limit** <span class='type'>Int</span>

  기본값 `2048`

  사용자 집계를 위해 쿠키를 발행하는 경우 기존 쿠키가 너무 많다면 쿠키 오버플로어가 발생할 수 있습니다. 이를 방지하기 위해 limit을 설정합니다.

* **trace_user_using_ip** <span class='type'>Boolean</span>

  기본값 `true`

  실시간 사용자를 IP 주소 기반으로 집계합니다. IP 주소가 아닌 쿠키를 기반으로 사용자를 구분하고 싶으면 값을 `false`로 변경하세요.

* **user_header_ticket** <span class='type'>String</span>

  HTTP 헤더의 특정 값으로 사용자 수를 집계하고자 하는 경우 해당 Key 값을 설정합니다. 모바일 클라이언트인 경우 사용자 구분을 위해 header를 사용한다면 다음 옵션을 이용할 수 있습니다.

  ```ini title='whatap.conf'
  user_header_ticket=login
  ```

</InDoc>

* **trace_http_client_ip_header_key** <span class='type'>String</span> <ScrollToLink anchor='trace_http_client_ip_header_key' />

  클라이언트 IP(Remote IP)의 정보를 특정 HTTP 헤더의 값으로 변경해 설정하는 기능입니다. 프록시(Proxy) 환경에서 `X-Forwarded-For` 헤더 값을 클라이언트 IP로 설정할 수 있습니다.

  WEB/WAS 앞에 L4와 같은 로드밸런서가 위치한 경우 클라이언트의 IP 주소가 아닌 L4의 IP 주소가 Remote Address가 되는 경우가 있습니다. 이 상황에서 실제 클라이언트 IP 정보가 http 헤더에 특정 키 값으로 기록되는 경우라면 해당 키 값으로 대체할 수 있습니다.

* **trace_user_using_jsession** <span class='type'>Boolean</span>

  기본값 `false`
  
  실시간 사용자를 SESSIONID 기반으로 집계합니다.
