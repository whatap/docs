## 공용 알림 템플릿

공통 템플릿은 대부분의 경우 적용 가능합니다. 다양한 환경에서 동일한 포멧으로 알림을 받을 수 있습니다.

- Product Type : 애플리케이션, 데이터베이스, 쿠버네티스
- Event Type : 애플리케이션 알림, 데이터베이스 알림, 메트릭스 알림
- Event Channel : sms, mobile, 3rd party plugin , plugin

### 이벤트 제목

```log title='Event title format'
[Level][Platform][ProjectName][ApplicationName][EventTitle]
```

```log title='Event title example'
[Info][JAVA][애플리케이션 프로젝트][TC-0-1-8081][CRITICAL_HIGH_MEMORY]
```

:::note

* ApplicationName을 설정하지 않은 경우 이벤트 제목에서 생략합니다.
* Platform은 다음 중 한 가지로 표시합니다.
  * JAVA
  * NODEJS 
  * PYTHON
  * PHP
  * DOTNET
  * GO
  * POSTGRESQL
  * ORACLE
  * MYSQL
  * MSSQL
  * BSM_JAVA
  * CLOUDWATCH
  * TIBERO
  * KUBERNETES
  * KUBE_NS
  * URLCHECK
  * URLCHECK_ADMIN
  * CUBRID
  * ALTIBASE
  * CLUSTER
  * REDIS
  * MONGODB
  * VR
  * RUM

:::

### 이벤트 메시지

이벤트 메시지에 포함할 수 있는 정보입니다. `optional`이 `false`인 경우 항상 메시지에 포함합니다. `optional`이 `true`인 경우 해당 데이터를 확인할 수 있으면 표시합니다.

```log title='Event message example'
Project Name : 애플리케이션 프로젝트
Project Code : 3
Application Name : TC-0-1-8081
Event Message : RECOVERED: Memory is too high. less than 10%
Event ON Time : 2022-04-12 18:53:24 +0900
Event OFF Time : 2022-04-12 18:53:24 +0900
Alert Type : APPLICATION_MEMORY
Metric Name : memory
Metric Value : 20
Metric Threshold : 10
Stateful : true
```

다음은 이벤트 메시지 구성 요소입니다.

| En | Ko | 지원되는 알림 타입 | 설명 |
| -- | -- | -- | -- |
| Project Name | 프로젝트 이름 | 전체 | - |
| Project Code | 프로젝트 Code | 전체 | - |
| Application Name | 에이전트 이름 | 전체(optional) | oname |
| Event Message | 이벤트 메시지 | 전체 | - |
| Alert Type | 이벤트 종류 | 전체 | 아래의 AlertType 종류 표 참고 |
| Event ON Time | 이벤트 발생 시간 | 전체 | 2022-04-13 10:40:49 +0900에서 +0900는 GMT를 의미합니다. |
| Event OFF Time | 이벤트 해제 시간 | 전체(optional) | 2022-04-13 10:40:49 +0900에서 +0900는 GMT를 의미합니다. |
| Metric Name | 메트릭스 이름 | 전체(optional) | 이벤트 조건 판단에서 사용하는 메트릭스의 이름 |
| Metric Value | 메트릭스 값 | 전체(optional) | 메트릭스 값이 메트릭스 임계치를 넘으면 이벤트 발생 조건이 만족한 경우입니다. |
| Metric Threshold | 메트릭스 임계치 | 전체(optional) | 메트릭스 값이 메트릭스 임계치를 넘으면 이벤트 발생 조건이 만족한 경우입니다. |
| Stateful | 해소된 이벤트 알림 | 전체(optional) | 해소된 이벤트 알림 기능 사용 중이면 true, 아니면 false |
| Event Rule | 이벤트 발생 조건 | 메트릭스 알림 | - |
| Event Target Filter | 이벤트 대상 선택 | 메트릭스 알림 | 특정 대상에서 수집된 메트릭스에 대해서만 이벤트 조건을 확인합니다. |
| Repeat Count | 이벤트 반복 횟수 | 메트릭스 알림 | 이벤트 조건이 이벤트 반복 시간동안 이벤트 반복 횟수만큼 만족해야 이벤트가 발생됩니다. |
| Repeat Duration | 이벤트 반복 시간 | 메트릭스 알림 | 이벤트 조건이 이벤트 반복 시간동안 이벤트 반복 횟수만큼 만족해야 이벤트가 발생됩니다. |
| Receiver | 수신자 | 메트릭스 알림 | - |
| Query | MXQL 쿼리 | 복합 메트릭스 알림 | - |
| Rule | 이벤트 발생 조건 | 복합 메트릭스 알림 | - |
| Query Period | 쿼리 기간 | 복합 메트릭스 알림 | - |
| Query Interval | 쿼리 간격 | 복합 메트릭스 알림 | - |
| Silent Time | 무음 시간 | 복합 메트릭스 알림 | - |
| Query | URL | Exception 알림 | Exception을 발생시킨 요청의 URL |
| TXID | 트랜잭션 ID | Exception 알림 | - |
| Class | 에러 클래스 이름 | Exception 알림 | - |
| Log Message | 로그 메시지 | 서버 - 파일 로그 알림 | - |
| Log File | 로그 파일 경로 | 서버 - 파일 로그 알림 | - |
| IP | IP | 서버 알림 전체 | - |
| CPU | CPU | 서버 알림 전체 | 이벤트 발생 당시의 Snapshot |
| CPU_load1 | CPU_load1 | 서버 알림 전체 | 이벤트 발생 당시의 Snapshot |
| CPU_loadPerCore | CPU_loadPerCore | 서버 알림 전체 | 이벤트 발생 당시의 Snapshot |
| Memory | Memory | 서버 알림 전체 | 이벤트 발생 당시의 Snapshot |
| Swap | Swap | 서버 알림 전체 | 이벤트 발생 당시의 Snapshot |
| Disk Name \| Used Percent \| Free Size \| IO Percent | 디스크 퍼포먼스 | 서버 알림 전체 | 이벤트 발생 당시의 Snapshot |
| Name \| Bps \| Pps | 트래픽 퍼포먼스 | 서버 알림 전체 | 이벤트 발생 당시의 Snapshot |
| Message \| Time \| Name | 처리내역 메시지 | 서버 알림 전체 | - |

:::note

* 해당 이벤트에서 제공할 수 있는 최대한 많은 정보를 보여줍니다.

* AlertType은 다음 중 한 가지로 표시합니다.

| AlertType | 설명 |
| -- | -- |
| APPLICATION_CPU | 애플리케이션 CPU 알림 |
| APPLICATION_MEMORY | 애플리케이션 MEMORY 알림 |
| APPLICATION_DISK | 애플리케이션 DISK 알림 |
| APPLICATION_ACTIVE_TRANSACTION | 애플리케이션 액티브 트랜잭션 알림 |
| APPLICATION_ERROR_TRANSACTION | 애플리케이션 에러 트랜잭션 알림 |
| APPLICATION_SLOW_TRANSACTION | 애플리케이션 트랜잭션 응답시간 알림 |
| METRICS | 메트릭스 알림 |
| COMPOSITE_METRICS | 복합 메트릭스 알림 |
| ANOMALY | 이상치 탐지 알림 |
| LOG_REALTIME | 로그 실시간 알림 |
| COMPOSITE_LOG | 복합 로그 알림 |
| SERVER_REBOOT | 서버 - 재시작 알림 |
| SERVER_NO_DATA | 서버 - 미수신 알림 |
| SERVER_PORT | 서버 - 포트 알림 |
| SERVER_NETWORK_IOPS | 서버 - 네트워크 IOPS 알림 |
| SERVER_NETWORK_BPS | 서버 - 네트워크 BPS 알림 |
| SERVER_DISK_IO | 서버 - 디스크 I/O 알림 |
| SERVER_DISK_QUOTA | 서버 - 디스크 사용량 알림 |
| SERVER_DISK_INODE | 서버 - inode 알림 |
| SERVER_CPU | 서버 - CPU 알림 |
| SERVER_MEMORY | 서버 - 메모리 알림 |
| SERVER_CPU_STEAL | 서버 - steal 알림 |
| SERVER_MEMORY_SWAP | 서버 - 스왑 알림 |
| SERVER_LOG_FILE | 서버 - 로그 파일 알림 |
| SERVER_WINDOW_EVENT | 서버 - 윈도우 이벤트 알림 |
| SERVER_OFF | 서버 - 알림 OFF 알림 |
| SERVER_ACKNOWLEDGE | 서버 - 처리내역 알림 |
| SERVER_PROCESS_COUNT | 서버 - 프로세스 수 알림 |
| SERVER_PROCESS_CPU | 서버 - 프로세스 CPU 알림 |
| SERVER_PROCESS_MEMORY | 서버 - 프로세스 메모리 알림 |
| SERVER_PROCESS_OFF | 서버 - 프로세스 알림 OFF 알림 |
| AGENT_ACTIVE | 에이전트 활성화 알림 |
| AGENT_INACTIVE | 에이전트 비활성화 알림 |
| AGENT_REACTIVATED | 에이전트 재활성화 알림 |
| URL | URL 알림 |
| TOO_MANY_EVENT | 너무 많은 이벤트 발생 알림 |
| CLOUD_WATCH | Cloud Watch 알림 |
| EXCEPTION | Exception 알림 |

:::