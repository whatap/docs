## 에이전트 구성

다음은 와탭 에이전트의 구성도입니다. 

<Xclude product='cubrid'>

![에이전트 구성도](/img/agent_xos_architecture.png)

</Xclude>

<InDoc product='cubrid'>

![에이전트 구성도](/img/agent_xos_xcub_architecture.png)

</InDoc>

* **수집 서버**

  에이전트가 수집한 데이터베이스 성능 데이터를 수집 및 저장, 통계 정보 추출하고 이를 사용자에 효율적인 방법으로 제공합니다. 수집 서버는 지역(Region) 별로 설정이 가능합니다. 지역(Region)별로 수집 서버의 주소가 다르게 할당합니다. 사용자가 선택한 지역(Region)에 따라 수집 서버 주소는 다를 수 있습니다. 프로젝트를 생성할 때 지역(Region)도 함께 설정합니다.

* **DBX 에이전트(기본 에이전트)**
  
  Query 기반으로 성능 데이터를 수집하여 서버로 전송합니다. 모니터링 대상 데이터베이스 서버에 직접 에이전트를 설치하지 않고도 모니터링이 가능합니다.

<Xclude product='cubrid'>

* **XOS 에이전트(부가 에이전트)**
  
  부가 에이전트는 데이터베이스 서버의 프로세스 사용량을 모니터링할 수 있는 부가 옵션 에이전트입니다. 데이터베이스 서버의 프로세스 사용량을 모니터링하고 싶다면 데이터베이스 서버에 별도의 에이전트를 띄워 데이터를 수집할 수 있습니다. 프로세스 모니터링 설정에 관한 자세한 내용은 [다음 문서](agent-manage)를 참조하세요.

  :::note

  XOS 에이전트는 x86 아키텍쳐 기반에서 동작하는 OS 환경에만 적용할 수 있습니다.

  :::

</Xclude>
<InDoc product='cubrid'>

* **XOS 에이전트 / XCUB 에이전트 (부가 에이전트)**
  
  부가 에이전트는 데이터베이스 서버의 프로세스 사용량을 모니터링할 수 있는 부가 옵션 에이전트입니다. 데이터베이스 서버의 프로세스 사용량을 모니터링하고 싶다면 데이터베이스 서버에 별도의 에이전트를 띄워 데이터를 수집할 수 있습니다. 프로세스 모니터링 설정에 관한 자세한 내용은 [다음 문서](agent-manage)를 참조하세요.

  :::note

  XOS 에이전트는 x86 아키텍쳐 기반에서 동작하는 OS 환경에만 적용할 수 있습니다.

  :::

</InDoc>

* **네트워크**

  * 기본 에이전트: 와탭 모니터링 에이전트는 수집한 모니터링 정보를 와탭 수집 서버에 전송하기 위해 외부 통신(TCP) 6600 포트를 사용합니다.
  
  * 부가 에이전트: 에이전트를 설치한 서버와 데이터베이스 서버 사이에 외부 통신(UDP) 3002 포트를 사용합니다. 내부 포트가 충돌이 나는 경우 `dbx_port` 옵션을 통해 포트를 변경할 수 있습니다.