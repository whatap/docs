<section class="remark-sectionize-h3">

<Title level={props.level} hashid="create-db-user">DB 접속 정보 암호화(UID 생성 및 갱신)</Title>

<InDoc product="mongodb">

:::tip

user와 password를 사용하지 않는 경우 (인증 없이 MongoDB에 접속 가능한 경우) **DB 유저 파일 생성** 단계를 건너뛰어도 됩니다.

:::

</InDoc>

<InDoc product="redis">

:::tip

user와 password를 사용하지 않는 경우 (인증 없이 Redis에 접속 가능한 경우) **DB 유저 파일 생성** 단계를 건너띄어도 됩니다.

:::

</InDoc>

데이터베이스 모니터링을 위해 2번 단계에서 생성한 DB 모니터링 계정 정보를 에이전트에 안전하게 등록해야 합니다.
와탭은 DB 접속 정보를 암호화된 UID 형태로 저장하며, 에이전트는 이 UID를 이용하여 DB에 접속합니다.

username과 password를 입력한 뒤 다음 스크립트를 실행하세요.

:::caution 

**비밀번호 변경 시 반드시 재실행**

**DB 모니터링 계정의 비밀번호가 변경된 경우, 반드시 본 단계를 다시 수행해야 합니다.**

UID는 DB 접속 정보를 암호화한 값이므로,  
비밀번호 변경 후 UID를 갱신하지 않으면 **DB 접속 오류로 인해 모니터링 데이터 수집이 중단됩니다.**

:::

<InDoc product='redis'>

- **Redis 6 버전 이하**: <em>uid.sh</em> 쉘 스크립트 파일(또는 <em>uid.bat</em> 배치 파일)은 와탭 데이터베이스 에이전트를 설치한 경로에서 찾을 수 있습니다. user 없이 암호만 있는 경우 <code>DB_USER</code>를 <code>""</code>로 설정합니다. 예, `./uid.sh "" whatap\!pwd`

- **Redis 6 버전 이상**: <em>uid.sh</em> 쉘 스크립트 파일(또는 <em>uid.bat</em> 배치 파일)은 와탭 데이터베이스 에이전트를 설치한 경로에서 찾을 수 있습니다. user 없이 암호만 있는 경우 <code>DB_USER</code>를 <code>default</code>로 설정합니다. 예, `./uid.sh default whatap\!pwd`

</InDoc>

</section>