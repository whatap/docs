{/* ### 다중 파일 지정 및 파일 분리  */}

#### 다중 파일 지정{#multiple-file-specification}

{/* 여러 개의 로그 파일을 동일한 카테고리로 지정하려면, 각 파일에 대해 `[[inputs.logsink.file]]` 항목을 추가하고 `path`에 해당 파일 경로를 설정해야 합니다. 다음 예시는 `serverlog` 카테고리로 /root/test2 경로에 있는 파일을 로그 파일로 지정한 설정입니다.  */}

여러 로그 파일을 동일한 카테고리로 설정하려면, 각 로그 파일 경로를 `[[inputs.logsink.file]]` 항목에 추가하고, `path` 설정을 통해 파일 경로를 지정합니다. 또한, `category`, `stats_enabled`, `stats_category` 등의 옵션을 사용하여 로그 발생량 통계 설정과 같은 부가적인 설정을 할 수 있습니다. 예시는 */root/test1* 및 */root/test2* 파일을 동일한 카테고리(`serverlog`)로 지정한 경우입니다.

```bash {2,7-15}
[[inputs.logsink]]
  category = "serverlog"
  stats_enabled = true
  stats_category = "logsink_stats"
  excludeNames = [ ".gz",".zip" ]

[[inputs.logsink.file]]
  path = "/root/test1"
  disabled = false
  encoding = "utf-8"

[[inputs.logsink.file]]
  path = "/root/test2"
  disabled = false
  encoding = "utf-8"
```

:::note 
`category`, `stats_enabled`, `stats_category`, `nowrap_keywords` 등의 옵션에 대한 내용은 [상단](#server-log-settings) 안내를 참조하세요. 
:::

해당 예시의 경우 <Cmdname sid="side_logTail" className="uitext" /> 메뉴에서는 다음과 같이 확인할 수 있습니다.

![다중 파일 지정](/img/log-server-multi-file.png)

{/* <Columns>

<Column className="text--left width--45">

```bash {7,10-17,19} showLineNumbers
[[inputs.logsink]]
  category = "serverlog"
  stats_enabled = true
  stats_category = "logsink_stats"
  excludeNames = [ ".gz",".zip" ]
#[[inputs.logsink.file]]
#  path = "/some/path/%Y-%m-%d/.log"
#  disabled = false
#  encoding = "euc-kr"
[[inputs.logsink.file]]
  path = "/root/test1"
  disabled = false
  encoding = "utf-8"
[[inputs.logsink.file]]
  path = "/root/test2"
  disabled = false
  encoding = "utf-8"
#[[inputs.logsink.file]]
#  nowrap_keywords = ["Caused by:", "Test"]
```

</Column>

<Column className="text--left">

* 카테고리를 지정합니다. `category` 


* 로그 파일 설정 시 예시의 라인 7과 같이 `path` 옵션을 통해 날짜 패턴(strftime.ort)을 적용할 수 있습니다. 

  ```bash 
  path = "/some/path/%Y-%m-%d/.log"
  ```

* 로그 파일 설정 시 예시의 라인 19와 같이 `nowrap_keywords` 옵션을 통해 특정 키워드 기준으로 로그를 병합할 수 있습니다. 

  ```bash 
  nowrap_keywords = ["Caused by:", "Test"]
  ```

</Column>

</Columns> */}


#### 파일 분리{#file-separation}

서로 다른 카테고리로 로그 파일을 지정하려면, *logsink\{<b>숫자</b>\}.conf* 파일을 각각 생성한 후, 각 파일 내에서 다른 `category` 값을 설정하세요. 다음 예시는 *logsink.conf*와 *logsink<b>1</b>.conf*를 통해 각각 다른 로그 카테고리를 설정한 경우입니다.

<Columns>

<Column className="text--left width--50-2">

```bash title='logsink.conf' {1,3,9}
# cat logsink.conf
[[inputs.logsink]]
  category = "serverlog1"
  stats_enabled = true
  stats_category = "logsink_stats"
  excludeNames = [ ".gz",".zip" ]

[[inputs.logsink.file]]
  path = "/root/test1"
  disabled = false
  encoding = "utf-8"
```

</Column>

<Column className="text--left">

```bash title='logsink1.conf' {1,3,9}
#cat logsink1.conf
[[inputs.logsink]]
  category = "serverlog2"
  stats_enabled = true
  stats_category = "logsink_stats"
  excludeNames = [ ".gz",".zip" ]

[[inputs.logsink.file]]
  path = "/root/test2"
  disabled = false
  encoding = "utf-8"
```

</Column>

</Columns>

:::note 
`category`, `stats_enabled`, `stats_category`, `nowrap_keywords` 등의 옵션에 대한 내용은 [상단](#server-log-settings) 안내를 참조하세요. 
:::

해당 예시의 경우 <Cmdname sid="side_logTail" className="uitext" /> 메뉴에서는 다음과 같이 확인할 수 있습니다.

![파일 분리](/img/log-server-file-separation.png)