쿠버네티스에서 수집되는 지표 일부는 서버 모니터링, 애플리케이션과 동일합니다.

<div class="metricslist-k8s">

## 컨테이너(`container`) 지표 {#container}

`container` 카테고리는 컨테이너의 pod에 설정된 모든 사용자 정의 라벨들을 태그로 수집합니다.

* 대상: 클러스터 프로젝트, 네임스페이스 프로젝트
* 수집 간격: 5초
* 통계 데이터: 5분

### Tags {#container-tags}

| 태그명         | 설명                                                       |  비고  |
| -------------- | ---------------------------------------------------------- | :----: |
| agentOid       | 노드 에이전트 고유 ID                                      | 고유값 |
| agentPcode     | 프로젝트 코드                                              | 고유값 |
| command        | 실행 명령어                                                |   -    |
| containerId    | 컨테이너 ID                                                | 고유값 |
| containerKey   | 컨테이너 Key                                               |   -    |
| created        | 컨테이너가 생성된 TimeStamp                                |   -    |
| image          | 컨테이너 이미지명                                          |   -    |
| imageHash      | 이미지 해시 값                                             |   -    |
| imageId        | 이미지 ID                                                  |   -    |
| k8s-app        | Pod의 레이블 k8s-app에 대한 값                            |   -    |
| microOid       | 컨테이너에 설치된 와탭 APM 에이전트의 고유 ID              |   -    |
| name           | 컨테이너 이름                                              |   -    |
| namespace      | 컨테이너가 소속된 네임스페이스                             |   -    |
| namespaceHash  | 컨테이너가 소속된 네임스페이스 해시 값                     |   -    |
| okind          | 컨테이너에 설치된 와탭 APM 에이전트에 지정한 OKIND 고유 ID |   -    |
| okindName      | 컨테이너에 설치된 와탭 APM 에이전트에 지정한 OKIND 이름    |   -    |
| oname          | 컨테이너에 설치된 와탭 APM 에이전트 이름                   |   -    |
| onode          | 컨테이너가 작동 중인 노드 에이전트의 고유 ID               |   -    |
| onodeName      | 컨테이너가 작동 중인 노드 이름                             |   -    |
| podHash        | 컨테이너의 Pod 해시 값                                     |   -    |
| podName        | 컨테이너의 Pod 이름                                        |   -    |
| replicaSetHash | 컨테이너의 레플리카셋 해시 값                              |   -    |
| replicaSetName | 컨테이너의 레플리카셋 이름                                 |   -    |
| whatap_project | 컨테이너가 속한 와탭 프로젝트 이름                         |   -    |

### Fields {#container-fields}

| 필드명 | 단위 | 설명 (Shortname, Name, Description) |
| -- | -- | -- |
| blkio_rbps | 바이트 | IoReadBytes | 
| ^ | ^ | Container Block I/O Read Byte | 
| ^ | ^ | 컨테이너 전체 블럭 디바이스의 초당 읽은 바이트 합 |
| blkio_riops | 건수 | IoReadIops 
| ^ | ^ | Container Block I/O Read IOPS | 
| ^ | ^ | 컨테이너 전체 블럭 디바이스의 초당 읽은 건수 합 |
| blkio_wbps | 바이트 | IoWriteBytes |
| ^ | ^ | Container Block I/O Write Byte | 
| ^ | ^ | 컨테이너 전체 블럭 디바이스의 초당 쓴 바이트 합 |
| blkio_wiops | 건수 | IoWriteIops | 
| ^ | ^ | Container Block I/O Write IOPS | 
| ^ | ^ | 컨테이너 전체 블럭 디바이스의 초당 쓴 건수 합 |
| cpu_per_quota | 퍼센트 | CpuByLimit | 
| ^ | ^ | Container CPU Usage by Limit (%) |
| ^ | ^ | CPU Limit 기준 CPU 전체 사용률 |
| cpu_quota | 밀리 코어 | CpuLimit | 
| ^ | ^ | Container CPU Limit (core) | 
| ^ | ^ | 컨테이너 CPU Limit 할당량<br/>Limit 미설정인 경우 컨테이너가 작동 중인 해당 노드의 CPU 전체 코어가 밀리코어 단위로 표시된다. |
| cpu_quota_percent | 퍼센트 | CpuLimitByNode | 
| ^ | ^ | Container CPU Limit by Node (%) | 
| ^ | ^ | 노드 CPU 대비 컨테이너 CPU Limit 할당량<br/>Limit 미설정인 경우 컨테이너가 작동 중인 해당 노드의 CPU 전체 코어가 퍼센트로 표시된다. |
| cpu_sys | 퍼센트 | CpuSysByNode |
| ^ | ^ | Container CPU Sys Usage by Node (%) |
| ^ | ^ | 노드 CPU 대비 컨테이너 CPU System 사용률 |
| cpu_throttledperiods | 건수 | CpuThrottledCnt |
| ^ | ^ | Container CPU Throttling Count | 
| ^ | ^ | 컨테이너 CPU Throttled 건수 |
| cpu_throttledtime | 나노세컨드 | CpuThrottledTime | 
| ^ | ^ | Container CPU Throttling Time |
| ^ | ^ | 컨테이너 CPU Throttled 시간 |
| cpu_total | 퍼센트 | CpuByNode | 
| ^ | ^ | Container CPU Usage by Node (%) |
| ^ | ^ | 노드 CPU 대비 컨테이너 CPU 사용률 |
| cpu_total_milli | 밀리코어 | CpuTotUsage |
| ^ | ^ | Container CPU Usage (millicore) |
| ^ | ^ | 컨테이너 CPU 사용량 |
| cpu_user | 퍼센트 | CpuUserByNode |
| ^ | ^ | Container CPU User Usage by Node (%) |
| ^ | ^ | 노드 CPU 대비 컨테이너 CPU User 사용률 |
| cpu_request | 밀리코어 | CpuRequest |
| ^ | ^ | Container CPU Request (core) | 
| ^ | ^ | 컨테이너 CPU 요청 |
| cpu_per_request | 퍼센트 | CpuByRequest |
| ^ | ^ | Container CPU Usage by Request (%) |
| ^ | ^ | 컨테이너 CPU 요청 대비 사용률<br/>= cpu_total_milli / cpu_request * 100 |
| mem_failcnt | 건수 | MemFailCnt |
| ^ | ^ | Container Memory Failure Count |
| ^ | ^ | 컨테이너 메모리 Limit 도달 건수 |
| mem_limit | 바이트 | MemLimit |
| ^ | ^ | Container Memory Limit (byte) |
| ^ | ^ | 컨테이너 메모리 Limit 크기 |
| mem_maxusage | 바이트 | MemMaxUsage |
| ^ | ^ | Container Memory Max Usage (byte) |
| ^ | ^ | 컨테이너 메모리 최대 사용량 기록 값 <br/> (자세한 내용은 [하단 안내](#scrollTo-memmaxusage)를 참조하세요.) |
| mem_percent | 퍼센트 | MemWsByLimit |
| ^ | ^ | Container Memory Working Set by Limit (%) |
| ^ | ^ | 컨테이너 메모리 Limit 기준 working set 사용량<br/>= mem_working_set / mem_limit * 100 |
| mem_totalcache | 바이트 | MemTotCache |
| ^ | ^ | Container Memory Total Cache (byte) |
| ^ | ^ | 컨테이너 전체 캐시 크기 |
| mem_totalpgfault | 횟수 | MemTotPageFaultCnt |
| ^ | ^ | Container Memory Total Page Fault Count |
| ^ | ^ | 컨테이너 Page Fault 횟수 |
| mem_totalrss | 바이트 | MemTotRss |
| ^ | ^ | Container Memory Total RSS (byte) |
| ^ | ^ | 컨테이너 RSS 메모리 전체 크기 |
| mem_totalrss_percent | 퍼센트 | MemTotRssByLimit |
| ^ | ^ | Container Memory Total RSS by Limit (%) |
| ^ | ^ | 컨테이너 RSS 메모리 전체 사용률 |
| mem_totalunevictable | 바이트 | MemTotUnevictable |
| ^ | ^ | Container Memory Total Unevictable (byte) |
| ^ | ^ | 컨테이너 Unevictable Memory 전체 크기 |
| mem_usage | 바이트 | MemUsage |
| ^ | ^ | Container Memory Usage (byte) |
| ^ | ^ | 컨테이너 메모리 사용량 |
| mem_working_set | 바이트 | MemWs |
| ^ | ^ | Container Memory Working Set (byte) |
| ^ | ^ | 컨테이너 메모리 working set<br/>= mem_usage - inactive file |
| mem_working_set_percent | 퍼센트 | MemWsByLimit |
| ^ | ^ | Container Memory Working Set by Limit (%) |
| ^ | ^ | 컨테이너 메모리 Limit 기준 working set 사용량<br/>= mem_working_set / mem_limit * 100 |
| mem_request | 바이트 | MemRequest |
| ^ | ^ | Container Memory Request (byte) |
| ^ | ^ | 컨테이너 메모리 Request 크기 |
| mem_per_request | 퍼센트 | MemWsByRequest |
| ^ | ^ | Container Memory Working Set by Request (%) |
| ^ | ^ | 컨테이너 메모리 Request 기준 working set 사용량<br/>= mem_working_set / mem_request * 100 |
| network_rbps | 바이트 | NetRxBytes |
| ^ | ^ | Container Network Receive Byte |
| ^ | ^ | 컨테이너 전체 블럭 디바이스의 초당 읽기 바이트 합 |
| network_rdropped | 바이트 | NetRxDropped |
| ^ | ^ | Container Network Receive Dropped |
| ^ | ^ | 컨테이너 네트워크 수신 dropped 건수 |
| network_rerror | 바이트 | NetRxError |
| ^ | ^ | Container Network Receive Error |
| ^ | ^ | 컨테이너 네트워크 수신 에러 건수 |
| network_riops | 바이트 | NetRxIops |
| ^ | ^ | Container Network Receive IOPS |
| ^ | ^ | 컨테이너 네트워크 수신 건수 |
| network_wbps | 바이트 | NetTxByes |
| ^ | ^ | Container Network Transmit Byte |
| ^ | ^ | 컨테이너 네트워크 송신 데이터 크기 |
| network_wdropped | 건수 | NetTxDropped |
| ^ | ^ | Container Network Transmit Dropped |
| ^ | ^ | 컨테이너 네트워크 송신 dropped 건수 |
| network_werror | 건수 | NetTxError |
| ^ | ^ | Container Network Transmit Error |
| ^ | ^ | 컨테이너 네트워크 송신 에러 건수 |
| network_wiops | 건수 | NetTxIops |
| ^ | ^ | Container Network Transmit IOPS |
| ^ | ^ | 컨테이너 네트워크 송신 건수 |
| node_cpu | 퍼센트 | ConNodeCpu |
| ^ | ^ | Container Work Node CPU Usage (%) |
| ^ | ^ | 컨테이너가 실행 중인 노드의 CPU 사용량 |
| node_mem | 퍼센트 | ConNodeMem |
| ^ | ^ | Container Work Node Memory Usage (%) |
| ^ | ^ | 컨테이너가 실행 중인 노드의 메모리 사용량 |
|phase|문자열|Pod 라이프사이클 <br/> ① PENDING<br/> ② RUNNING <br/>③ SUCCEEDED <br/>④ FAILED <br/>⑤ UNKNOWN|
| restart_count | 정수 | ConRestartCnt |
| ^ | ^ | Container Restart Count |
| ^ | ^ | 컨테이너 다시 시작 횟수 |
| state | 정수 | ConState |
| ^ | ^ | Container Current State |
| ^ | ^ | 컨테이너 상태 코드<br/>① RUNNING = 114<br/>② PAUSE = 112<br/>③ RESTARTING = 101<br/>④ OOMKILLED = 111<br/>⑤ DEAD = 100<br/>⑥ WAITING = 119 |
| status | 문자열 | ConStatus |
| ^ | ^ | Container Current Status |
| ^ | ^ | 컨테이너 상태 정보<br/>① running 상태:  uptime 정보 표시<br/>② waiting/terminated 상태: 상태에 대한 reason 정보 표시 |


:::note 

`mem_maxusage`는 컨테이너가 실행되는 동안 기록된 메모리 최대 사용량을 나타냅니다. 그러나 Linux 커널 버전이 5.19보다 낮은 경우, 이 지표의 원본 데이터가 지원되지 않을 수 있습니다. 이러한 경우 해당 값이 0으로 표시될 수 있습니다. 해당 지표를 정상적으로 수집하기 위해서는 Linux 커널 버전을 5.19 이상으로 업데이트해야 합니다. <ScrollToLink anchor='scrollTo-memmaxusage' />

:::

## 쿠버네티스 노드(`kube_node`) 지표 {#kube_node}

`kube_node` 카테고리는 노드에 설정된 모든 사용자 정의 라벨들을 태그로 수집합니다.

* 대상: 클러스터 프로젝트, 네임스페이스 프로젝트
* 수집 간격: 5초
* 통계 데이터: 5분, 1시간

### Tags {#kube_node-tags}

| 태그명   | 설명      | 비고 |
| -------- | --------- | ---- |
| nodeName | 노드 이름 | -    |

### Fields {#kube_node-fields}

| 필드명             | 단위      | 설명                      | 비고 |
| ------------------ | --------- | ------------------------- | ---- |
| allocatable_cpu    | 밀리 코어 | 노드 할당 가능한 CPU량    | -    |
| allocatable_memory | 바이트    | 노드 할당 가능한 메모리량 | -    |
| allocatable_pods   | 정수      | 노드 할당 가능한 Pod 수   | -    |
| limit_cpu          | 밀리 코어 | 노드 CPU Limit 합계       | -    |
| limit_memory       | 바이트    | 노드 메모리 Limit 합계    | -    |
| pods               | 정수      | 노드 Pod 총개수           | -    |
| request_cpu        | 밀리 코어 | 노드 CPU Request 합계     | -    |
| request_memory     | 바이트    | 노드 메모리 Request 합계  | -    |

## 쿠버네티스 이벤트(`kube_event`) 지표 {#kube_event}

`kube_event` 카테고리는 클러스터 프로젝트의 경우 클러스터 전체를 대상으로 데이터를 수집하며 네임스페이스 프로젝트는 해당 네임스페이스에서 발생한 이벤트에 대해서만 수집합니다.

* 대상: 클러스터 프로젝트, 네임스페이스 프로젝트
* 수집 간격: 5초
* 통계 데이터: 5분, 1시간

### Tags {#kube_event-tags}

| 태그명     | 설명              | 비고                                     |
| ---------- | ----------------- | ---------------------------------------- |
| field_path | Field Path        | -                                        |
| kind       | 종류              | 이벤트가 발생한 오브젝트 종류            |
| name       | 오브젝트 이름     | 이벤트가 발생한 쿠버네티스 오브젝트 이름 |
| namespace  | 네임스페이스 이름 | 이벤트가 발생한 네임스페이스             |
| reason     | 이벤트 발생 사유  | -                                        |
| type       | 이벤트 유형       | Warning 또는 Normal                      |
| uid        | UID               | 이벤트가 발생한 오브젝트                 |

### Fields {#kube_event-fields}

| 필드명                    | 단위   | 설명                            | 비고 |
| ------------------------- | ------ | ------------------------------- | ---- |
| action                    | 문자열 | 액션 이름                       | -    |
| count                     | 건수   | 이벤트 발생 건수                | -    |
| event_time                | 정수   | 이벤트 최초 발생 TimeStamp      | -    |
| first_timestamp           | 정수   | 이벤트 최초 발생 시간           | -    |
| last_timestamp            | 정수   | 이벤트 마지막 발생 시간         | -    |
| message                   | 문자열 | 이벤트 메시지                   | -    |
| reasonFiled               | 문자열 | 이벤트 Reason                   | -    |
| reporting_component       | 문자열 | 현재 이벤트를 보고하는 컴포넌트 | -    |
| reporting_instance        | 문자열 | 현재 이벤트를 보고하는 인스턴스 | -    |
| series_last_observed_time | 정수   | series last observed time       | -    |

## 쿠버네티스 클러스터(`kube_stat`) 지표 {#kube_stat}

`kube_stat` 카테고리는 클러스터 프로젝트의 경우 클러스터 전체 대상으로 수집하고 네임스페이스 프로젝트는 해당 네임스페이스와 연관된 오브젝트를 대상으로만 수집합니다.

* 대상: 클러스터 프로젝트, 네임스페이스 프로젝트
* 수집 간격: 5초
* 통계 데이터: 5분, 1시간

### Tags {#kube_stat-tags}

| 태그명 | 설명      | 비고    |
| ------ | --------- | ------- |
| name   | kube_stat | 고정 값 |

### Fields {#kube_stat-fields}

| 필드명                       | 단위      | 설명                                                                               | 비고                   |
| ---------------------------- | --------- | ---------------------------------------------------------------------------------- | ---------------------- |
| alloctable_cpu               | 밀리 코어 | 클러스터 전체 코어 수                                                              | 클러스터 프로젝트 Only |
| alloctable_ephemeral-storage | 바이트    | 클러스터 전체 할당 가능한 ephemeral storage                                        | 클러스터 프로젝트 Only |
| alloctable_hugepages-1gi     | 바이트    | 클러스터 전체 할당 가능한 hugepages-1Gi                                            | 클러스터 프로젝트 Only |
| alloctable_hugepages-2mi     | 바이트    | 클러스터 전체 할당 가능한 hugepages-2Mi                                            | 클러스터 프로젝트 Only |
| alloctable_memory            | 바이트    | 클러스터 전체 할당 가능한 메모리                                                   | 클러스터 프로젝트 Only |
| alloctable_pods              | 정수      | 할당 가능한 Pod 수                                                                 | -                      |
| available_pod                | 정수      | Phase가 Running 상태인 Pod의 수                                                    | -                      |
| desired_pod                  | 정수      | `metadata.ownerReferences` 없이 배포된 Pod 수와 쿠버네티스 오브젝트(ReplicaSet, Daemonset, StatefulSet)에 정의된 Desired Pod 수의 합| -                      |
| ^                            | ^         | `kubectl get pods -A`로 조회한 Pod 수와 동일                                       | -                      |
| nodes                        | 정수      | 노드 수                                                                            | -                      |
| pod_phase_Pending            | 정수      | Pending 상태 Pod 수                                                                | -                      |
| pod_phase_Running            | 정수      | Running 상태 Pod 수                                                                | -                      |
| running_containers           | 정수      | Running 컨테이너 수                                                                | -                      |
| stopped_containers           | 정수      | Stopped 컨테이너 수                                                                | -                      |
| total_available_cpu          | 정수      | 할당 가능한 CPU 총합                                                               | -                      |
| total_available_memory       | 정수      | 할당 가능한 Memory 총합                                                            | -                      |
| total_limit_cpu              | 밀리 코어 | Limit CPU 총합                                                                     | -                      |
| total_limit_memory           | 바이트    | Limit Memory 총합                                                                  | -                      |
| total_request_cpu            | 밀리 코어 | Request CPU 총합                                                                   | -                      |
| total_request_memory         | 바이트    | Request Memory 총합                                                                | -                      |
| unavailable_pod              | 정수      | Phase가 Running 상태가 아닌(Pending, Failed, Succedded) Pod 수                     | -                      |
| waiting_containers           | 정수      | Waiting Container 수                                                               | -                      |

## Pod(`kube_pod`) 지표 {#kube_pod}

`kube_pod` 카테고리는 Pod에 설정된 모든 사용자 정의 라벨들을 태그로 수집합니다.

* 대상: 마스터(클러스터) 프로젝트, 네임스페이스 프로젝트
* 수집 간격: 5초
* 통계 데이터: 5분

### Tags {#kube_pod-tags}

| 태그명             | 설명                                                                          | 비고   |
| ------------------ | ----------------------------------------------------------------------------- | ------ |
| agentOid           | 노드 에이전트 고유 ID                                                         | 고유값 |
| agentPcode         | 프로젝트 코드                                                                 | 고유값 |
| command            | 실행 명령어                                                                   | -      |
| containerIds       | Pod 에 속해있는 컨테이너 ID                                                   | -      |
| containerIdsCount  | containerIds 의 개수                                                          | -      |
| containerKeys      | Pod 에 속해있는 컨테이너 ID 의 해시 값                                        | -      |
| containerKeysCount | containerKeys 의 개수                                                         | -      |
| DaemonSet          | Pod의 DaemonSet 이름                                                         | -      |
| Deployment         | Deployment                                                                    | -      |
| k8s-app            | Pod의 레이블 k8s-app에 대한 값                                               | -      |
| microOid           | Pod 의 컨테이너 내부 애플리케이션에서 실행중인 에이전트의 id                  | -      |
| microOids          | Pod 안의 복수개 컨테이너 내부 애플리케이션에서 실행 중인 에이전트의 복수개 id | -      |
| microOidsCount     | microOids 의 개수                                                             | -      |
| name               | Pod 이름                                                                     | -      |
| onames             | Pod 의 컨테이너 내부 애플리케이션에서 실행중인 에이전트의 명칭                | -      |
| onamesCount        | onames 의 개수                                                                | -      |
| podName            | Pod 이름                                                                     | -      |
| namespace          | Pod가 소속된 네임스페이스                                                    | -      |
| namespaceHash      | Pod가 소속된 네임스페이스 해시 값                                            | -      |
| replicaSetHash     | Pod의 ReplicaSet 해시 값                                                     | -      |
| replicaSetName     | Pod의 ReplicaSet 이름                                                        | -      |
| whatap_project     | Pod가 속한 와탭 프로젝트 이름                                                | -      |

### Fields {#kube_pod-fields}

| 필드명 | 단위 | (Shortname, Name, Description) |
| -- | -- | -- |
| blkio_rbps | 바이트 | IoReadBytes |
| ^ | ^ | Pod Block I/O Read Byte |
| ^ | ^ | Pod 전체 블럭 디바이스의 초당 읽은 바이트 합 |
| blkio_riops | 건수 | IoReadIops |
| ^ | ^ | Pod Block I/O Read IOPS |
| ^ | ^ | Pod 전체 블럭 디바이스의 초당 읽은 건수 합 |
| blkio_wbps | 바이트 | IoWriteBytes |
| ^ | ^ | Pod Block I/O Write Byte | 
| ^ | ^ | Pod 전체 블럭 디바이스의 초당 쓴 바이트 합 |
| blkio_wiops | 건수 | IoWriteIops |
| ^ | ^ | Pod Block I/O Write IOPS |
| ^ | ^ | Pod 전체 블럭 디바이스의 초당 쓴 건수 합 |
| cpu_per_limit | 퍼센트 | CpuByLimit |
| ^ | ^ | Pod CPU Usage by Limit (%) |
| ^ | ^ | CPU Limit 기준 CPU 전체 사용률 |
| cpu_per_request | 퍼센트 | CpuByRequest |
| ^ | ^ | Pod CPU Usage by Request (%) |
| ^ | ^ | CPU Request 기준 CPU 전체 사용률 |
| cpu_quota_percent | 퍼센트 | CpuLimitByNode |
| ^ | ^ | Pod CPU Limit by Node (%) |
| ^ | ^ | 노드 CPU 대비 Pod CPU Limit 할당량<br/>Limit 미설정인 경우 Pod가 작동 중인 해당 노드의 CPU 전체 코어가 퍼센트로 표시된다. |
| cpu_sys | 퍼센트 | CpuSysByNode |
| ^ | ^ | Pod CPU Sys Usage by Node (%) |
| ^ | ^ | 노드 CPU 대비 Pod CPU System 사용률 |
| cpu_throttledperiods | 건수 | CpuThrottledCnt |
| ^ | ^ | Pod CPU Throttling Count |
| ^ | ^ | Pod CPU Throttled 건수 |
| cpu_throttledtime | 나노세컨드 | CpuThrottledTime |
| ^ | ^ | Pod CPU Throttling Time |
| ^ | ^ | Pod CPU Throttled 시간 |
| cpu_total | 퍼센트 | CpuByNode |
| ^ | ^ | Pod CPU Usage by Node (%) |
| ^ | ^ | 노드 CPU 대비 Pod CPU 사용률 |
| cpu_total_milli | 밀리코어 | CpuTotUsage |
| ^ | ^ | Pod CPU Usage (millicore) |
| ^ | ^ | Pod CPU 사용량 |
| cpu_user | 퍼센트 | CpuUserByNode |
| ^ | ^ | Pod CPU User Usage by Node (%) |
| ^ | ^ | 노드 CPU 대비 Pod CPU User 사용률 |
| cpu_request | 밀리코어 | CpuRequest |
| ^ | ^ | Pod CPU Request (core) |
| ^ | ^ | Pod CPU 요청 |
| cpu_per_request | 퍼센트 | CpuByRequest |
| ^ | ^ | Pod CPU Usage by Request (%) |
| ^ | ^ | Pod CPU 요청 대비 사용률<br/>= cpu_total_milli / cpu_request * 100 |
| mem_totalcache | 바이트 | MemTotCache |
| ^ | ^ | Pod Memory Total Cache (byte) |
| ^ | ^ | Pod 전체 캐시 크기 |
| mem_totalpgfault | 횟수 | MemTotPageFaultCnt |
| ^ | ^ | Pod Memory Total Page Fault Count |
| ^ | ^ | Pod Page Fault 횟수 |
| mem_totalrss | 바이트 | MemTotRss |
| ^ | ^ | Pod Memory Total RSS (byte) |
| ^ | ^ | Pod RSS 메모리 전체 크기 |
| mem_totalrss_percent | 퍼센트 | MemTotRssByLimit |
| ^ | ^ | Pod Memory Total RSS by Limit (%) | 
| ^ | ^ | Pod RSS 메모리 전체 사용률 |
| mem_totalunevictable | 바이트 | MemTotUnevictable |
| ^ | ^ | Pod Memory Total Unevictable (byte) |
| ^ | ^ | Pod Unevictable Memory 전체 크기 |
| mem_usage | 바이트 | MemUsage |
| ^ | ^ | Pod Memory Usage (byte) |
| ^ | ^ | Pod 메모리 사용량 |
| mem_working_set | 바이트 | MemWs |
| ^ | ^ | Pod Memory Working Set (byte) |
| ^ | ^ | Pod 메모리 working set<br/>= mem_usage - inactive file |
| memory_request | 바이트 | MemRequest |
| ^ | ^ | Pod Memory Request (byte) |
| ^ | ^ | Pod 메모리 요청량 |
| memory_limit | 바이트 | MemLimit |
| ^ | ^ | Pod Memory Limit (byte) |
| ^ | ^ | Pod 메모리 Limit 할당량 |
| memory_per_request | 퍼센트 | MemByRequest |
| ^ | ^ | Pod Memory Working Set By Request (%) |
| ^ | ^ | Pod 메모리 요청량 기준 Working Set 사용량 |
| memory_per_limit | 퍼센트 | MemByLimit |
| ^ | ^ | Pod MMemory Working Set By Limit (%) |
| ^ | ^ | Pod 메모리 Limit 기준 Working Set 사용량 |
| network_rbps | 바이트 | NetRxBytes |
| ^ | ^ | Pod Network Receive Byte |
| ^ | ^ | Pod 전체 블럭 디바이스의 초당 읽기 바이트 합 |
| network_rdropped | 바이트 | NetRxDropped |
| ^ | ^ | Pod Network Receive Dropped |
| ^ | ^ | Pod 네트워크 수신 dropped 건수 |
| network_rerror | 바이트 | NetRxError |
| ^ | ^ | Pod Network Receive Error|
| ^ | ^ | Pod 네트워크 수신 에러 건수 |
| network_riops | 바이트 | NetRxIops |
| ^ | ^ | Pod Network Receive IOPS |
| ^ | ^ | Pod 네트워크 수신 건수 |
| network_wbps | 바이트 | NetTxByes |
| ^ | ^ | Pod Network Transmit Byte |
| ^ | ^ | Pod 네트워크 송신 데이터 크기 |
| network_wdropped | 건수 | NetTxDropped |
| ^ | ^ | Pod Network Transmit Dropped |
| ^ | ^ | Pod 네트워크 송신 dropped 건수 |
| network_werror | 건수 | NetTxError |
| ^ | ^ | Pod Network Transmit Error |
| ^ | ^ | Pod 네트워크 송신 에러 건수 |
| network_wiops | 건수 | NetTxIops |
| ^ | ^ | Pod Network Transmit IOPS |
| ^ | ^ | Pod 네트워크 송신 건수 |
| phase | 문자열 | Phase |
| ^ | ^ | Pod Current Phase |
| ^ | ^ | Pod 라이프사이클 <br/> ① PENDING<br/> ② RUNNING <br/>③ SUCCEEDED <br/>④ FAILED <br/>⑤ UNKNOWN |

다음 필드는 내부용으로 예약되었습니다.

| 필드명               | 설명                                       | 비고 |
| -------------------- | ------------------------------------------ | ---- |
| kube_sless_normal    | 쿠버네티스 정보성 이벤트 발생 건수         | -    |
| kube_sless_warning   | 쿠버네티스 경고 이벤트 발생 건수           | -    |
| micro_sful_critical  | apm 심각 상태 기반 이벤트 발생 건수        | -    |
| micro_sful_info      | apm 정보성 상태 기반 이벤트 발생 건수      | -    |
| micro_sful_warning   | apm 경고 상태 기반 이벤트 발생 건수        | -    |
| micro_sless_critical | apm 심각 무상태 이벤트 발생 건수           | -    |
| micro_sless_info     | apm 정보성 무상태 이벤트 발생 건수         | -    |
| micro_sless_warning  | apm 경고 무상태 이벤트 발생 건수           | -    |
| sful_critical        | 메트릭스 심각 상태 기반 이벤트 발생 건수   | -    |
| sful_info            | 메트릭스 정보성 상태 기반 이벤트 발생 건수 | -    |
| sful_warning         | 메트릭스 경고 상태 기반 이벤트 발생 건수   | -    |
| sless_critical       | 메트릭스 심각 무상태 이벤트 발생 건수      | -    |
| sless_info           | 메트릭스 정보성 무상태 이벤트 발생 건수    | -    |
| sless_warning        | 메트릭스 경고 무상태 이벤트 발생 건수      | -    |

## 쿠버네티스 Pod 통계(`kube_pod_stat`) 지표 {#kube_pod_stat}

`kube_pod_stat` 카테고리 클러스터 프로젝트는 클러스터 전체를 대상으로 데이터를 수집하며 네임스페이스 프로젝트는 해당 네임스페이스에 소속된 Pod에 대해서만 수집합니다.

* 대상: 클러스터 프로젝트, 네임스페이스 프로젝트
* 수집 간격: 5초
* 통계 데이터: 5분, 1시간

### Tags {#kube_pod_stat-tags}

| 태그명 | 설명 | 비고 |
| -- | -- | -- |
| kind | 유형 | 클러스터 프로젝트의 경우 cluster 고정 값을 가지며 네임스페이스 프로젝트의 경우 Deployment 또는 ReplicaSet에 대해서만 수집합니다. |
| name | 쿠버네티스 자원 이름 | 클러스터 프로젝트는 name 값이 없으며 네임스페이스 프로젝트는 Deployment 또는 ReplicaSet의 이름입니다. |

### Fields {#kube_pod_stat-fields}

| 필드명            | 단위      | 설명                                                                               | 비고 |
| ----------------- | --------- | ---------------------------------------------------------------------------------- | ---- |
| available_pod     | 정수      | Phase가 Running 상태인 Pod의 수                                                    | -    |
| desired_pod       | 정수      | `metadata.ownerReferences` 없이 배포된 Pod 수와 쿠버네티스 오브젝트(ReplicaSet, Daemonset, StatefulSet)에 정의된 Desired Pod 수의 합| -    |
| ^                 | ^         | `kubectl get pods -A`로 조회한 Pod 수와 동일                                       | -    |
| limit_cpu         | 밀리 코어 | CPU Limit 사용량                                                                   | -    |
| limit_memory      | 바이트    | Memory Limit 사용량                                                                | -    |
| request_cpu       | 밀리 코어 | CPU Request 사용량                                                                 | -    |
| request_memory    | 바이트    | Memory Request 사용량                                                              | -    |
| running_container | 정수      | Running Container 수                                                               | -    |
| stopped_container | 정수      | Stopped Container 수                                                               | -    |
| waiting_container | 정수      | Waiting Container 수                                                               | -    |

## 쿠버네티스 Horizontal Pod Autoscaler(HPA)(`kube_hpa_stat`) 지표 {#kube_hpa_stat}

와탭에서 사용하는 ClusterRole에 HPA가 추가되어야 지표 수집이 시작됩니다.

* 대상: 클러스터 프로젝트
* 수집 간격: 5초
* 통계 데이터: 5분, 1시간

### Tags {#kube_hpa_stat-tags}

| 태그명 | 설명     | 비고 |
| ------ | -------- | ---- |
| name   | HPA 이름 | -    |

### Fields {#kube_hpa_stat-fields}

| 필드명                | 단위      | 설명                                 | 비고 |
| --------------------- | --------- | ------------------------------------ | ---- |
| currentReplicas       | 정수      | 현재 레플리카 수                     | -    |
| desiredReplicas       | 정수      | Desired 레플리카 수                  | -    |
| lastScaleTime         | 정수      | 마지막으로 스케일이 변경된 TimeStamp | -    |
| maxReplicas           | 정수      | 최대 레플리카 수                     | -    |
| minReplicas           | 정수      | 최소 레플리카 수                     | -    |

## 프로세스(`kube_process`) 지표 {#kube_process}

:::note 

쿠버네티스 에이전트 1.7.12 버전 이상이 필요합니다. 에이전트 업데이트에 대한 자세한 내용은 [다음 문서](agent-update)를 참조하세요. 

:::

노드에 존재하는 쿠버네티스 관련 프로세스를 모니터링할 때 수집됩니다. 

* 대상: 클러스터 프로젝트, 네임스페이스 프로젝트 

* 수집 간격: 5초 

* 통계 데이터: 5분 

### Tags {#kube_process_stat-tags}

|태그명|설명|타입|비고|
|---|---|---|---|
|ppid|부모 프로세스 ID|String|/proc/[pid]/status::PPid| 
|pid|프로세스 ID|String|/proc/[pid]/status::Pid |
|cmd1|명령어 이름|String|/proc/[pid]/status::Name |
|cmd2|명령어 라인(전체 명령어와 인자)|String|/proc/[pid]/cmdline|
|user|사용자 ID 또는 사용자 이름|String|/proc/[pid]/status::Uid |
|onodeName|프로세스의 노드 이름|String|컨테이너 시스템 환경변수 (`NODE_IP`)|
|createTime|프로세스 시작 시간|타임스탬프|/proc/uptime 통해 계산된 필드|

### Fields {#kube_process_stat-fields}

|필드명|설명|단위|타입|비고|
|---|---|---|---|---|
|cpu|CPU 사용률|퍼센트 (%)|float|/proc/[pid]/stat 을 통해 계산된 필드|
|memory|메모리 사용률|퍼센트 (%)|float|/proc/[pid]/statm 을 통해 계산된 필드|
|rss|실제 메모리 사용량 (Resident Set Size)|바이트 (B)|long|/proc/[pid]/status::VmRSS|
|uid|사용자 ID 또는 사용자 이름|-|String|/proc/[pid]/status::Uid|
|state|프로세스 상태|-|String|/proc/[pid]/status::State|
|SharedMemory|공유 메모리 크기|바이트 (B)|long|/proc/[pid]/statm 을 통해 계산된 필드|
|openFileDescriptors|프로세스가 열어둔 파일 디스크립터 수|-|int|/proc/[pid]/fd를 통해 계산된 필드|
|vmSize|가상 메모리 크기 (Virtual Memory Size)|바이트 (B)|long|/proc/[pid]/status의 VmSize|
|threads|프로세스가 생성한 스레드 수|-|int|/proc/[pid]/status의 Threads|

#### Kubernetes 환경에서의 리눅스 프로세스 상태

리눅스에서 */proc/[pid]/status* 파일의 `State` 필드가 프로세스의 현재 상태를 표시합니다. 각 상태 값의 의미는 다음과 같습니다.

|코드|설명|상세 설명|
|---|---|---|
|R (Running)|실행 중|프로세스가 실행 중이거나 실행될 준비가 되어 있는 상태|
|S (Sleeping)|대기 중|인터럽트 가능한 수면 상태로, 대기 중이며 이벤트를 기다리고 있는 상태|
|D (Disk Sleep)|디스크 수면|인터럽트 불가능한 수면 상태로, 일반적으로 I/O 작업을 기다리는 중인 상태|
|R (Zombie)|좀비 상태|프로세스가 종료되었으나 아직 부모 프로세스가 종료 상태를 수집하지 않은 상태|
|T (Stopped)|중지|프로세스가 작업 제어 신호에 의해 중지된 상태 (SIGSTOP 등) 또는 디버거에 의해 중지된 상태|
|t (Tracing stop)|추적 중지|디버거에 의해 추적 중인 상태 (소문자 t로 표시됨)|
|X (Dead)|죽은 상태|프로세스가 죽은 상태 (일반적으로 보지 않음)|
|x (Dead)|죽은 상태|커널 쓰레드의 죽은 상태 (일반적으로 보지 않음)|
|K (WakeKill)|강제 종료|깨우기 신호를 무시하고 즉시 죽은 상태|
|W (Waking)|깨우기 중|깨우기 신호를 받아 깨워지는 중인 상태|
|I (Idle)|유휴 상태|커널 스레드가 유휴 상태 (일반적으로 유저 공간 프로세스에는 보이지 않음)|


:::note 

Kubernetes는 컨테이너와 노드의 리소스를 효율적으로 관리하기 때문에, 컨테이너 내부에서 실행되는 다수의 프로세스가 실제로 대기 상태를 유지합니다. 이에 따라 대부분의 프로세스는 `Sleeping` 상태일 수 있습니다.

:::

## 에이전트 상태(`agent_status_summary`) 지표 {#agent_status_summary}

에이전트 상태와 관련한 지표를 10초 간격으로 수집한 카테고리입니다.

### Fields {#agent_status_summary_filed}

| 필드명 | 단위 | 설명 | 비고 |
| ---- | :--: | ---- | ---- |
| `inActTime` | 밀리초(ms) | 에이전트가 비활성화된 상태로 유지된 시간 | - |
| `isActive` | - | 현재 에이전트의 활성 상태 여부 | `true` / `false` |
| `isRestart` | - | 에이전트가 재시작되었는지 여부 | `true` / `false` |
| `lastActTime` | 밀리초(ms) | 마지막으로 에이전트가 활성화된 상태의 시각 | `0`: 비활성화된 경우 |
| `oid` | - | 프로젝트에 포함된 각 에이전트의 고유 식별자 | - |
| `oType` | - | 에이전트 종류 | `1`: 애플리케이션 에이전트 / `2`: `subType` 참조 |
| `startTime` | 밀리초(ms) | 에이전트가 시작된 시점을 나타내는 타임스탬프 | - |
| `subType` | - | 에이전트 종류 | `9`: 노드 에이전트 / `10`: 마스터 에이전트 |


## Ingress(`kube_ingress`) 지표 {#kube_ingress}

:::note 

쿠버네티스 에이전트 1.7.13 버전 이상이 필요합니다. 에이전트 업데이트에 대한 자세한 내용은 [다음 문서](agent-update)를 참조하세요. 

:::

Ingress 리소스에 대한 메타 데이터와 관련 정보를 모니터링할 때 수집됩니다. 

* 대상: 클러스터 프로젝트, 네임스페이스 프로젝트 

* 수집 간격: 30초 

* 통계 데이터: 5분 

### Tags {#kube_ingress-tags}

|태그명|설명|단위|타입|
|---|---|---|---|
|`ingressUid`|Ingress 리소스의 고유 ID| - | String |
|`ingressName`|Ingress 리소스의 이름|-|	String|
|`ingressNamespace`|Ingress 리소스의 네임스페이스|-|String|
|`creationTimeMillis`|Ingress 리소스 생성 시간|	밀리초(ms)|	Long|
|`ingressClassName`|Ingress 클래스 이름	|-|	String|
|`ingressLoadBalancerIps`|Ingress 로드밸런서 IP|-|List|

### Fields {#kube_ingress-fields}

|필드명|설명|단위|타입|
|---|---|---|---|
|`host`|Ingress 리소스가 수신하는 호스트 이름<br/>(`*`인 경우 모든 호스트에 대해 적용됨)|-|List|
|`path`|특정 호스트 하위에서 요청 경로	|-|List|
|`backendServiceName`|	백엔드로 전달되는 서비스의 이름	|-|List|
|`backendServicePort`|	백엔드로 전달되는 포트 번호	|-|	List|
|`backendServiceUid`|	백엔드로 전달되는 서비스의 uid 	|-|List|
|`pathType`| 	경로 일치 방식 (예, `Prefix`, `Exact`)	|-|List|

</div>