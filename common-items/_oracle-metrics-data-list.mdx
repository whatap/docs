데이터베이스 메트릭은 데이터베이스의 작업량과 리소스 사용량을 포괄적으로 수집합니다. 와탭 모니터링 서비스는 지속적으로 메트릭을 수집하여 데이터베이스의 병목 현상을 확인하고, 성능 문제의 근본 원인을 식별하는 데 도움이 되는 데이터를 제공합니다.

지표 정보에 대한 보다 자세한 내용은 [다음 링크](https://docs.oracle.com/)를 참조하세요.

<div class='metric'>

| Metric | Description |
| --- | --- |
| `cpu_used_by_this_session` | 사용자 호출이 시작된 시점부터 종료될 때까지 세션에서 사용한 CPU 시간(10밀리초 단위) |
| `db_time` | 데이터베이스의 사용자 수준의 호출을 수행하는 데 소요된 경과 시간(microseconds) |
| `active_sessions` | 쿼리를 실행 중인 세션 수 |
| `cpu` | CPU 사용률 |
| `cpu_cores` | CPU 코어 수 |
| `db_block_changes` | SGA의 블록에서 변경된 블록 수 |
| `db_file_scattered_read_time_waited` | db file scattered read 이벤트를 대기한 총 시간 |
| `db_file_scattered_read_total_timeouts` | db file scattered read 이벤트의 총 타임아웃 횟수 |
| `db_file_scattered_read_total_waits` | db file scattered read 이벤트 대기 총 횟수 |
| `db_file_sequential_read_time_waited` | db file sequential read 이벤트를 대기한 총 시간 |
| `db_file_sequential_read_total_timeouts` | db file sequential read 이벤트의 총 타임아웃 횟수 |
| `db_file_sequential_read_total_waits` | db file sequential read 이벤트 대기 총 횟수 |
| `enqueue_waits` | 대기열 가져오기가 지연되어 대기열 변환 또는 가져오기 중에 발생한 총 대기 횟수 |
| `excute_count` | SQL 문(statement)을 실행한 총 호출 수 |
| `fatal_count` | 치명적인 오류가 발생한 횟수 |
| `iowait_cpu` | CPU가 입출력을 대기하는데 사용한 시간의 비율 |
| `lock_wait_sessions` | 현재 row lock을 획득하기 위해 대기 중인 수 |
| `logons_current` | 현재 총 로그온 수 |
| `long_running_sessions` | 오랫동안 실행 중인 세션 수 |
| `memory` | 메모리 사용률 |
| `opened_cursors_current` | 현재 열려있는 cursor의 개수 |
| `parse_count_(hard)` | 총 구분 문석 호출 수(실제 구문 분석) |
| `parse_count_(total)` | 총 구문 분석 호출 수(hard, soft, describe) |
| `physical_reads` | 디스크에서 읽은 데이터 블록 수 | 
| `physical_writes` | 데이터를 디스크에 기록한 블록 수, `physical writes direct`와 `physical writes from cache`의 합 |
| `session_logical_reads` | 메모리에서 읽은 데이터 블록 수, `db block gets`과 `consistent gets`의 합 |
| `sorts_(memory)` | 메모리에서 수행된 sort 작업 수 |
| `sys_cpu` | session에 의해 사용된 cpu time의 합 |
| `total_elapse_time` | 데이터베이스 인스턴스가 마지막으로 다시 시작된 이후 모든 요청의 누적 총 경과 시간입니다. |
| `total_sessions` | 모든 세션 수 |
| `txn_sessions` |  transaction이 있는 세션 수|
| `user_commits` | 트랜잭션 당 수행된 사용자 커밋 수 |
| `user_cpu` | user cpu 사용량(%) |
| `wait_sessions` | 이벤트를 대기하고 있는 세션 수 |
| `warning_count` | 모든 경고 수 |

다음은 에이전트 설정에서 `ora_ratio` 옵션을 통해 수집하는 지표에 대한 설명입니다. 에이전트 옵션 설정에 대한 자세한 내용은 [다음 문서](agent-dbx-settings#collect-data)를 참조하세요.

| Metrics | Description |
| --- | --- |
| `buffer cache hit ratio` | 디스크에서 데이터를 읽지 않고 메모리에서 직접 데이터를 찾을 수 있는 횟수 <br/> 이 수치가 높다면 데이터베이스의 성능이 좋음을 의미하며, 수치가 낮다면 디스크 I/O가 증가하여 성능 저하를 초래할 수 있습니다. |
| `soft parse ratio` | SQL 문이 재사용되는 빈도 <br/> Soft Parse는 이미 캐시에 있는 SQL 문을 재사용하는 경우입니다. 이 수치가 높다면 SQL 문 재사용이 잘 되고 있음을 의미합니다. |
| `hard parse ratio` | SQL 문이 처음부터 새로 파싱되는 빈도 <br/> 하드 파스는 SQL 문을 처음으로 실행하거나 캐시에 존재하지 않는 경우 발생합니다. 이 수치가 높다면 데이터베이스의 CPU 사용률을 증가시키고 성능 저하를 초래할 수 있습니다. |
| `library cache hit ratio` | Library Cache에서 SQL 및 PL/SQL 문을 성공적으로 찾는 비율 <br/> 이 수치가 높다면 SQL 문과 PL/SQL 코드가 캐시에서 효과적으로 재사용되고 있음을 의미합니다. |
| `library cache pin hit ratio` | Library Cache Pin 요청이 성공한 비율 <br/> Library Cache Pin은 실행 중인 SQL 문이 다른 세션에서 변경되지 않도록 보호하는 역할을 합니다. 이 수치가 높다면 이러한 보호가 효과적으로 이루어지고 있음을 나타냅니다. |
| `library cache get hit ratio` | Library Cache의 개체를 성공적으로 가져오는 비율 <br/> 이 수치가 높다면 SQL 문과 PL/SQL 코드가 라이브러리 캐시에서 효과적으로 재사용되고 있음을 의미합니다. |
| `latch hit ratio` | Latch 요청이 성공한 비율 <br/> Latch는 데이터베이스의 공유 메모리 접근을 제어하기 위한 잠금 메커니즘입니다. 이 수치가 높다면 Latch 대기 시간이 적고, 시스템의 동시성과 성능이 우수함을 의미합니다. |
| `shared pool free mem ratio` | 공유 풀의 여유 메모리 비율 <br/> 공유 풀은 SQL 문, PL/SQL 코드 및 데이터 딕셔너리 캐시를 저장하는 메모리 영역입니다. 적절한 여유 메모리 비율을 유지하면 공유 풀의 효율적인 운영과 성능 최적화를 보장할 수 있습니다. |

</div>