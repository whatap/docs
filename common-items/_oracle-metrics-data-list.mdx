데이터베이스 지표는 데이터베이스의 작업량과 리소스 사용량을 포괄적으로 수집합니다. 와탭 모니터링 서비스는 지속적으로 지표를 수집하여 데이터베이스의 병목 현상을 확인하고, 성능 문제의 근본 원인을 식별하는 데 도움이 되는 데이터를 제공합니다.

지표 정보에 대한 보다 자세한 내용은 [다음 링크](https://docs.oracle.com/)를 참조하세요.

import AgentStatus from "../common-items/_agent-status-summary-metrics.mdx";

<div className="metricslist">

<AgentStatus />

<InDoc product="oracle,oracle-v1">

## db_oracle_counter {#db_oracle_counter}

Oracle 데이터베이스의 전반적인 성능 지표를 수집하여 시스템의 상태와 성능을 모니터링하는 데 유요한 카테고리입니다.

### Tags {#db_oracle_counter-tags}

다음은 `db_oracle_counter` 카테고리에 수집되는 태그에 대한 안내입니다.

| 태그명 | 설명 | 비고 |
| -- | -- | -- |
| `agentIp` | 에이전트 별 IP 주소입니다. | - |
| `dbIsMulti` | Multitenant 지원 여부입니다. | - |
| `dbName` | 데이터베이스 이름입니다. | - |
| `dbType` | 데이터베이스 종류입니다. | - |
| `dbVersion` | 이용 중인 데이터베이스의 버전입니다. | - |
| `oname` | 에이전트 이름입니다. | 고유값 |

### Field {#db_oracle_counter-filed}

다음은 `db_oracle_counter` 카테고리에 수집되는 필드에 대한 안내입니다.

</InDoc>

<InDoc product="oracle-pro">

## db_oracle_dma_counter {#db_oracle_dma_counter}

Oracle 데이터베이스의 전반적인 성능 지표를 수집하여 시스템의 상태와 성능을 모니터링하는 데 유요한 카테고리입니다.

### Tags {#db_oracle_dma_counter-tags}

다음은 `db_oracle_dma_counter` 카테고리에 수집되는 태그에 대한 안내입니다.

| 태그명 | 설명 | 비고 |
| -- | -- | -- |
| `dbName` | 데이터베이스 이름입니다. | - |
| `oname` | 에이전트 이름입니다. | 고유값 |

### Field {#db_oracle_dma_counter-filed}

다음은 `db_oracle_dma_counter` 카테고리에 수집되는 필드에 대한 안내입니다.

</InDoc>

<div class='db-metric-3'>

| Metrics | Description | Category |
| --- | --- | --- |
| `cpu_used_by_this_session` | 사용자 호출이 시작된 시점부터 종료될 때까지 세션에서 사용한 CPU 시간(10밀리초 단위)입니다. | Performance |
| `db_time` | 데이터베이스의 사용자 수준의 호출을 수행하는 데 소요된 경과 시간(microseconds)입니다. | Performance |
| `active_sessions` | 현재 활성화된 세션 수입니다. | Connection |
| `connect_error` | 연결 오류 수입니다. | Connection |
| `consistent_gets` | 일관된 데이터 블록 읽기 작업 횟수입니다. | I/O |
| `cpu` | 데이터베이스에서 사용된 CPU 사용률입니다. | Performance |
| `cpu_cores` | 사용 가능한 CPU 코어 수입니다. | Performance |
| `data_blocks_consistent_reads_-_undo_records_applied` | 일관된 데이터 블록 읽기에서 적용된 Undo 레코드 수입니다. | I/O |
| `db_block_changes` | SGA의 블록에서 변경된 블록 수입니다. | I/O |
| `db_block_gets` | SGA의 블록에서 직접 읽기 작업 횟수입니다. | I/O |
| `db_file_scattered_read_time_waited` | 스캐터드 읽기 이벤트를 대기한 시간입니다. | I/O |
| `db_file_scattered_read_total_timeouts` | 스캐터드 읽기 이벤트에서 발생한 타임아웃 횟수입니다. | I/O |
| `db_file_scattered_read_total_waits` | 스캐터드 읽기 이벤트에서 발생한 총 대기 횟수입니다. | I/O |
| `db_file_sequential_read_time_waited` | 시퀀셜 읽기 이벤트에서 대기한 시간입니다. | I/O |
| `db_file_sequential_read_total_timeouts` | 시퀀셜 읽기 이벤트에서 발생한 타임아웃 횟수입니다. | I/O |
| `db_file_sequential_read_total_waits` | 시퀀셜 읽기 이벤트에서 발생한 총 대기 횟수입니다. | I/O |
| `direct path read time waited` | 다이렉트 경로 읽기에서 대기한 시간입니다. | I/O |
| `direct path read total timeouts` | 다이렉트 경로 읽기에서 발생한 타임아웃 횟수입니다. | I/O |
| `direct path read total waits` | 다이렉트 경로 읽기에서 발생한 총 대기 횟수입니다. | I/O |
| `direct path write time waited` | 다이렉트 경로 쓰기에서 대기한 시간입니다. | I/O |
| `direct path write total timeouts` | 다이렉트 경로 쓰기에서 발생한 타임아웃 횟수입니다. | I/O |
| `direct path write total waits` | 다이렉트 경로 쓰기에서 발생한 총 대기 횟수입니다. | I/O |
| `enq:_TX_-_row_lock_contention_time_waited` | 행 잠금(row lock) 경쟁에서 대기한 시간입니다. | I/O |
| `enq:_TX_-_row_lock_contention_total_timeouts` | 행 장금(row lock) 경쟁에서 발생한 타임아웃 횟수입니다. | I/O |
| `enq:_TX_-_row_lock_contention_total_waits` | 행 장금(row lock) 경쟁에서 발생한 총 대기 횟수입니다. | I/O |
| `enqueue_waits` | 대기열 가져오기가 지연되어 대기열 변환 또는 가져오기 중에 발생한 총 대기 횟수입니다. | I/O |
| `execute_count` | SQL 문(statement)을 실행한 총 명령 수입니다. | Performance |
| `fatal_count` | 치명적인 오류가 발생한 횟수입니다. | Info |
| `iowait_cpu` | I/O 대기 상태에서 사용된 CPU 시간 비율입니다. | Performance |
| `latch free time waited` | 래치 프리 상태에서 대기한 시간입니다. | I/O |
| `latch free total timeouts` | 래치 프리 상태에서 발생한 타임아웃 횟수입니다. | I/O |
| `latch free total waits` | 래치 프리 상태에서 발생한 총 대기 횟수입니다. | I/O |
| `library cache lock time waited` | 라이브러리 캐시 잠금에서 대기한 시간입니다. | I/O |
| `library cache lock total timeouts` | 라이브러리 캐시 잠금에서 발생한 타임아웃 횟수입니다. | I/O |
| `library cache lock total waits` | 라이브러리 캐시 잠금에서 발생한 총 대기 횟수입니다. | I/O |
| `library cache pin time waited` | 라이브러리 캐시 핀에서 대기한 시간입니다. | I/O |
| `library cache pin total timeouts` | 라이브러리 캐시 핀에서 발생한 타임아웃 횟수입니다. | I/O |
| `library cache pin total waits` | 라이브러리 캐시 핀에서 발생한 총 대기 횟수입니다. | I/O |
| `lock_wait_sessions` | 현재 행 장금(row lock)을 획득하기 위해 대기 중인 수입니다. | Connection |
| `logons_current` | 현재 활성화된 로그인 수입니다. | Connection |
| `long_running_sessions` | 장시간 실행 중인 세션 수입니다. | Connection |
| `memory` | 현재 사용 중인 메모리 비율입니다. | MySQL Resource |
| `opened_cursors_current` | 현재 열려 있는 커서(cursor) 수입니다. | Connection |
| `parse_count_(hard)` | 총 구문 분석 호출 수(실제 구문 분석)입니다. | Performance |
| `parse_count_(total)` | 총 구문 분석 호출 수(hard, soft, describe)입니다. | Performance |
| `physical_reads` | 디스크에서 읽은 데이터 블록 수입니다. | I/O |
| `physical_writes` | 데이터를 디스크에 기록한 블록 수입니다. `physical writes direct` 및 `physical writes from cache`의 합계입니다. | I/O |
| `pq_sessions` | 병렬 쿼리 세션 수입니다. | Connection |
| `redo_entries` | 생성된 Redo 엔트리 수입니다. | I/O |
| `rollback_changes_-_undo_records_applied` | 롤백 변경으로 인해 적용된 Undo 레코드 수입니다. | I/O |
| `session_logical_reads` | 메모리에서 읽은 데이터 블록 수입니다. `db block gets` 및 `consistent gets`의 합계입니다. | I/O |
| `sorts_(disk)` | 디스크에서 발생한 정렬 작업 수입니다. | I/O |
| `sorts_(memory)` | 메모리에서 발생한 정렬 작업 수입니다. | I/O |
| `sys_cpu` | 세션에 의해 사용된 cpu time의 합계입니다. | Performance |
| `total_elapse_time` | 데이터베이스 인스턴스가 마지막으로 다시 시작된 이후 모든 요청의 누적 총 경과 시간입니다. | Performance |
| `total_sessions` | 총 세션 수입니다. | Connection |
| `transaction_tables_consistent_reads_-_undo_records_applied` | 트랜잭션 테이블에서 일관된 읽기 작업에 적용된 Undo 레코드 수입니다. | I/O |
| `txn_sessions` | 트랜잭션 세션 수입니다. | Connection |
| `user_commits` | 트랜잭션 당 수행된 사용자 커밋 작업 수입니다. | I/O |
| `user_cpu` | 사용자 작업에 사용된 CPU 비율(%)입니다. | Performance |
| `user_rollbacks` | 사용자 롤백 작업 수입니다. | I/O |
| `wait_sessions` | 이벤트 대기 중인 세션 수입니다. | Connection |
| `warning_count` | 모든 경고 수입니다. | Info |

다음은 에이전트 설정에서 `ora_ratio` 옵션을 통해 수집하는 지표에 대한 설명입니다. 에이전트 옵션 설정에 대한 자세한 내용은 [다음 문서](agent-dbx-settings#collect-data)를 참조하세요.

| Metrics | Description |
| --- | --- |
| `buffer cache hit ratio` | 디스크에서 데이터를 읽지 않고 메모리에서 직접 데이터를 찾을 수 있는 횟수 <br/> 이 수치가 높다면 데이터베이스의 성능이 좋음을 의미하며, 수치가 낮다면 디스크 I/O가 증가하여 성능 저하를 초래할 수 있습니다. |
| `soft parse ratio` | SQL 문이 재사용되는 빈도 <br/> Soft Parse는 이미 캐시에 있는 SQL 문을 재사용하는 경우입니다. 이 수치가 높다면 SQL 문 재사용이 잘 되고 있음을 의미합니다. |
| `hard parse ratio` | SQL 문이 처음부터 새로 파싱되는 빈도 <br/> 하드 파스는 SQL 문을 처음으로 실행하거나 캐시에 존재하지 않는 경우 발생합니다. 이 수치가 높다면 데이터베이스의 CPU 사용률을 증가시키고 성능 저하를 초래할 수 있습니다. |
| `library cache hit ratio` | Library Cache에서 SQL 및 PL/SQL 문을 성공적으로 찾는 비율 <br/> 이 수치가 높다면 SQL 문과 PL/SQL 코드가 캐시에서 효과적으로 재사용되고 있음을 의미합니다. |
| `library cache pin hit ratio` | Library Cache Pin 요청이 성공한 비율 <br/> Library Cache Pin은 실행 중인 SQL 문이 다른 세션에서 변경되지 않도록 보호하는 역할을 합니다. 이 수치가 높다면 이러한 보호가 효과적으로 이루어지고 있음을 나타냅니다. |
| `library cache get hit ratio` | Library Cache의 개체를 성공적으로 가져오는 비율 <br/> 이 수치가 높다면 SQL 문과 PL/SQL 코드가 라이브러리 캐시에서 효과적으로 재사용되고 있음을 의미합니다. |
| `latch hit ratio` | Latch 요청이 성공한 비율 <br/> Latch는 데이터베이스의 공유 메모리 접근을 제어하기 위한 잠금 메커니즘입니다. 이 수치가 높다면 Latch 대기 시간이 적고, 시스템의 동시성과 성능이 우수함을 의미합니다. |
| `shared pool free mem ratio` | 공유 풀의 여유 메모리 비율 <br/> 공유 풀은 SQL 문, PL/SQL 코드 및 데이터 딕셔너리 캐시를 저장하는 메모리 영역입니다. 적절한 여유 메모리 비율을 유지하면 공유 풀의 효율적인 운영과 성능 최적화를 보장할 수 있습니다. |

</div>

<InDoc product="oracle,oracle-v1">

## db_oracle_tablespace {#db_oracle_tablespace}

Oracle 데이터베이스의 테이블스페이스 사용 현황을 1시간 간격으로 수집한 카테고리입니다. 이 카테고리의 지표는 테이블스페이스의 상태와 용량을 모니터링하여 스토리지 자원을 효율적으로 관리하고 데이터베이스 성능 문제를 사전에 예방하는 데 도움을 줍니다.

### Tags {#db_oracle_tablespace-tags}

다음은 `db_oracle_tablespace` 카테고리에 수집되는 태그에 대한 안내입니다.

| 태그명 | 설명 | 비고 |
| -- | -- | -- |
| `con_name` | 연결된 컨테이너 데이터베이스 이름입니다. 멀티테넌트 환경에서 각 Pluggable Database(PDB)를 구분하는 데 유용합니다. | - |
| `datfile` | 각 테이블스페이스에 연결된 데이터 파일의 경로와 파일명입니다. | - |
| `oname` | 에이전트 이름입니다. | 고유값 |
| `tablespace` | 테이블스페이스의 이름입니다. | - |

### Field {#db_oracle_tablespace-filed}

다음은 `db_oracle_tablespace` 카테고리에 수집되는 필드에 대한 안내입니다.

</InDoc>

<InDoc product="oracle-pro">

## db_oracle_dma_tablespace {#db_oracle_dma_tablespace}

Oracle 데이터베이스의 테이블스페이스 사용 현황을 1시간 간격으로 수집한 카테고리입니다. 이 카테고리의 지표는 테이블스페이스의 상태와 용량을 모니터링하여 스토리지 자원을 효율적으로 관리하고 데이터베이스 성능 문제를 사전에 예방하는 데 도움을 줍니다.

### Tags {#db_oracle_dma_tablespace-tags}

다음은 `db_oracle_dma_tablespace` 카테고리에 수집되는 태그에 대한 안내입니다.

| 태그명 | 설명 | 비고 |
| -- | -- | -- |
| `con_name` | 연결된 컨테이너 데이터베이스 이름입니다. 멀티테넌트 환경에서 각 Pluggable Database(PDB)를 구분하는 데 유용합니다. | - |
| `datfile` | 각 테이블스페이스에 연결된 데이터 파일의 경로와 파일명입니다. | - |
| `oname` | 에이전트 이름입니다. | 고유값 |
| `tablespace` | 테이블스페이스의 이름입니다. | - |

### Field {#db_oracle_dma_tablespace-filed}

다음은 `db_oracle_dma_tablespace` 카테고리에 수집되는 필드에 대한 안내입니다.

</InDoc>

| Metrics | Description |
| --- | --- |
| `autoextensible` | `YES` 또는 `NO`로 데이터 파일이 자동 확장 가능한지 여부를 나타냅니다. |
| `increment_by` | 데이터 파일이 자동 확장될 때 한 번에 확장되는 블록 수입니다. |
| `maxsize` | 데이터 파일이 자동으로 확장될 때 설정된 최대 크기입니다. |
| `size` | 테이블스페이스의 현재 할당된 총 용량입니다. |
| `used` | 현재 사용 중인 테이블스페이스의 크기입니다. |

</div>