홈 화면 > 프로젝트 선택 > ***경고 알림*** > ***이벤트 설정*** > ***로그*** 탭 선택

수집한 로그 데이터를 조건에 맞춰 필터링해 경고 알림을 설정할 수 있습니다. ***+ 이벤트 추가*** 버튼을 선택해 로그 이벤트 경고 알림을 설정하세요. 모든 설정을 완료한 다음 ***저장*** 버튼을 선택하세요.

![로그 경고 알림](/img/set-event-log-main.png)

추가할 수 있는 로그 이벤트 다음과 같습니다.

* ***실시간 로그 이벤트***: 실시간으로 수집한 로그에서 키워드가 등장하면 경고 알림을 보냅니다.

* ***복합 로그 이벤트***: 최근에 수집한 로그 중 일정 조건을 만족하는 로그가 일정 개수 이상 수집한 경우에 경고 알림을 보냅니다.

:::note

이벤트를 추가하거나 설정하려면 알림 설정 권한이 있어야합니다. 권한에 대한 자세한 내용은 [다음 문서](../project/project-structure)를 참조하세요.

:::

## 이벤트 추가 공통 옵션

다음은 ***실시간 로그 이벤트*** 또는 ***복합 로그 이벤트***에서 이벤트를 추가할 때 설정할 수 있는 공통 옵션입니다.

* ***이벤트 활성화***: 토글 버튼을 클릭해 경고 알림 활성화 여부를 선택할 수 있습니다.

* ***레벨***: <span class='vslow'>위험</span>, <span class='slow'>경고</span>, <span style={{color: '#757575'}}>정보</span> 수준 중 하나의 레벨을 선택하세요.

* ***이벤트 이름***: 추가하려는 이벤트 이름을 입력하세요.

* ***메시지***: 이벤트 발생 시 출력하는 알림 메시지를 입력합니다. `${태그 또는 필드키}` 입력으로 메시지에 변수를 적용할 수 있습니다. 변수에 입력할 키는 선택한 메트릭스 데이터 ***카테고리***에 포함된 값이여야 합니다.

  메시지에 `${logContent}`를 입력하면 수집된 로그의 본문이 경고 알림의 내용으로 출력됩니다.

  ![로그이벤트 - 메시지](/img/set-event-log-message.png)

* ***카테고리***: 로그 구분 명칭(로그 폴더명)을 목록에서 선택하거나 직접 입력할 수 있습니다.

* ***이벤트 발생 일시 중지***: 과도한 경고 알림 발생을 방지할 수 있는 옵션입니다. 첫번째 경고 알림 이후 선택한 시간 동안 경고 알림을 보내지 않습니다. 또한 ***이벤트 기록*** 메뉴에 기록되지 않습니다.

* ***이벤트 수신 태그***: 이벤트 수신 태그를 선택하면 해당 태그를 가진 프로젝트 멤버와 3rd-party 플러그인에 알림을 전송할 수 있습니다. 이벤트 수신 태그를 선택하지 않으면 프로젝트 전체 멤버에게 경고 알림을 보냅니다.

  태그를 추가하지 않으면 전체 멤버에게 경고 알림을 보냅니다. ***+ 태그 추가***를 클릭한 다음 ***태그 목록***에서 경고 알림 수신 대상을 선택하세요. ***+ 새 태그 생성***을 선택해 태그를 추가할 수도 있습니다.

  :::note

  ***경고 알림*** > ***이벤트 수신 설정*** 메뉴에서 프로젝트 멤버와 3rd-party 플러그인에 태그를 설정할 수 있습니다.
  
  :::

## 실시간 로그 이벤트 추가

![실시간 로그 이벤트 경고 알림 설정](/img/set-event-log.png)

* ***키워드 검색 범위***: 검색 키이며 기본값은 ***전체***를 대상으로 합니다. ***전체***는 로그의 콘텐츠를 의미합니다.

* ***키워드***: 로그에서 입력한 단어를 포함할 경우 경고 알림을 보냅니다. 목록에서 선택하거나 직접 입력할 수 있습니다.

* ***이벤트 대상 필터링***: ***키워드 검색 범위***와 ***연산자***, ***키워드***를 선택해 대상을 필터링하거나 ***직접 입력*** 옵션을 선택할 수 있습니다. 입력값이 없을 경우 실시간으로 수집하는 데이터 전체에 대한 알림 발생 여부를 판단합니다.

  ![이벤트 대상 필터링](/img/set-event-log-filter.png)

> 예시, `AppLog` 카테고리의 로그 중 `level`이 `ERROR`인 로그를 찾습니다. 일치하는 로그중에서  ***oid***가 **12345678**인 경우 경고 알림을 보냅니다.

## 복합 로그 이벤트 추가

![복합 로그 이벤트 경고 알림 설정](/img/set-event-complex-log.png)

* ***이벤트 발행 조건***

  * ***키워드 검색 범위***에서 이벤트 발생 조건 대상을 선택할 수 있습니다. 선택한 ***키워드 검색 범위***에 해당하는 키워드를 선택할 수 있습니다.
  * ***키워드 검색 범위***가 동일한 항목을 추가할 경우 'OR' 조건으로, 다른 항목을 추가할 경우 'AND' 조건으로 동작합니다. 
  * ***제외*** 체크 박스를 선택해 선택한 키워드를 이벤트 발행 조건에서 제외할 수 있습니다.
  * ***+ 추가***를 선택해 여러개의 이벤트 발행 조건을 추가 또는 제외 설정할 수 있습니다.

* ***데이터 조회 범위***: 선택한 시간동안 수집한 로그를 조회합니다. 데이터 조회 시간을 5분으로 선택하면 최근 5분 동안 수집한 데이터를 조회해서 이벤트 발생 조건을 확인합니다.

* ***이벤트 발행 조건***: 이벤트가 입력한 횟수와 선택한 연산자의 조건과 같이 발생할 때 경고 알림을 보냅니다.

> 예시, `AppLog` 카테고리의 로그 중 `조건 입력`에 해당하는 로그를 필터링 합니다. 조건 입력에서 `제외`를 체크한 경우 해당 조건으로 찾은 로그를 제외하겠다는 의미입니다. 따라서 `level`이 `ERROR`인 로그는 제외합니다. 최근 10분 동안 수집한 로그 중 이벤트가 `5`보다 작을 경우 경고 알림을 보냅니다.

## 로그 이벤트 설정 수정하기 

1. ***경고 알림*** > ***이벤트 설정*** 메뉴로 이동하세요.

1. ***로그*** 탭을 선택하세요.

1. 로그 이벤트 목록 중 수정하려는 이벤트 항목에서 오른쪽에 ![편집 아이콘](/img/ico-edit.svg) 버튼을 선택하세요.

1. ***이벤트 설정*** 창이 나타나면 옵션을 수정한 다음 ***저장*** 버튼을 선택하세요.

선택한 로그 이벤트를 삭제하려면 이벤트 설정 창에서 오른쪽 위에 ***삭제*** 버튼을 선택하세요.

## 로그 이벤트 끄기

1. ***경고 알림*** > ***이벤트 설정*** 메뉴로 이동하세요.

1. ***로그*** 탭을 선택하세요.

1. 로그 이벤트 목록 중 경고 알림을 끄려는 이벤트 항목의 가장 오른쪽에 토글 버튼을 선택하세요. 

다시 토글 버튼을 선택하면 해당 경고 알림이 활성화됩니다.

## 로그 이벤트 내보내기/불러오기

***실시간 로그 이벤트***와 ***복합 로그 이벤트***의 설정 내용을 json 파일로 저장한 다음 불러와 재사용할 수 있습니다.

1. ***경고 알림*** > ***이벤트 설정*** 메뉴로 이동하세요.

1. ***로그*** 탭을 선택하세요.

1. 로그 이벤트 목록 위에 ***JSON*** ![내보내기 아이콘](/img/ico-export.svg) 버튼을 선택하세요. ***JSON 내보내기*** 창이 나타납니다.

1. 내보내기 할 항목을 수정 또는 편집하세요.

1. 오른쪽 위에 ![내보내기 아이콘](/img/ico-export.svg) ***내보내기*** 버튼을 선택하세요. 브라우저에서 json 파일을 다운로드합니다.

1. 로그 이벤트 목록 위에 ![가져오기 아이콘](/img/ico-import.svg) 버튼을 선택하세요.

1. 파일 선택 창이 나타나면 앞서 다운로드 받은 json 파일을 선택하세요.

1. ***JSON 가져오기*** 창이 나타나면 내용을 수정한 다음 ***+ 목록에 추가하기*** 버튼을 선택하세요.

:::note

* ***이벤트에 id가 존재합니다. id를 제거한 뒤 다시 시도해주세요.*** 메시지가 나타나면 ***JSON 가져오기*** 창에서 `id` 항목을 삭제한 다음 ***+ 목록에 추가하기*** 버튼을 선택하세요.
* 기존의 이벤트 항목에 덮어쓰기를 하려면 `id` 항목을 삭제한 다음 ***덮어쓰기*** 버튼을 선택하세요.

:::