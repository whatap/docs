---
id: agent-number-of-user
title: 사용자 수
description: WAS에 연결한 실시간 사용자 수를 집계합니다.
keywords: [ .NET ]
hide_table_of_contents: false
---

### 사용자 수 집계

.NET 웹 애플리케이션 서버에 연결한 사용자의 수를 집계합니다.

:::note

다음 옵션에서 설정한 값을 적용하려면 IIS를 다시 시작하세요.

:::

* **trace_user_enabled** <span class='type'>Boolean</span>

  기본값 `true`

  실시간 사용자 집계 여부를 설정합니다. 사용자 추적 옵션이 중복 설정된 경우 쿠키값을 우선으로 사용합니다.

* **trace_http_client_ip_header_key** <span class='type'>String</span> <code class="my">.NET Agent v2.2.2 or later</code> <ScrollToLink anchor='trace_http_client_ip_header_key' />

  기본값 `X-Forwarded-For`

  클라이언트 IP(Remote IP)의 정보를 특정 HTTP 헤더의 값으로 변경해 설정하는 기능입니다. 프록시(Proxy) 환경에서 `X-Forwarded-For` 헤더 값을 클라이언트 IP로 설정할 수 있습니다.

  WEB/WAS 앞에 L4와 같은 로드밸런서가 위치한 경우 클라이언트의 IP 주소가 아닌 L4의 IP 주소가 Remote Address가 되는 경우가 있습니다. 이 상황에서 실제 클라이언트 IP 정보가 http 헤더에 특정 키 값으로 기록되는 경우라면 해당 키 값으로 대체할 수 있습니다.