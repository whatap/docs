---
id: setup-cubrid
title: CUBRID
description: whatap.conf 파일에 설정할 수 있는 옵션에 대해 안내합니다.
keywords: [ CUBRID, 데이터베이스 모니터링, DBX 에이전트, CUBRID 에이전트 설정 ]
---

import Dbagentsettingdatacollection from "../common-items/_db-agent-setting-data-collection.mdx";
import Dbaes256encrypt from "../common-items/_db-aes-256-encrypt.mdx";
import Dbsettingagentnamedetails from "../common-items/_db-setting-agent-name-details.mdx";


DBX 에이전트에 필요한 설정은 *whatap.conf* 파일에 작성합니다. 설정할 수 있는 옵션은 다음을 참조하세요.

## 기본 옵션

* **license** <span class='type'>String</span>

  에이전트를 설치할 때 서버로부터 부여받은 프로젝트 액세스 키를 설정합니다. 프로젝트 액세스 키는 에이전트가 속한 프로젝트와 보안 통신을 위한 암호 키를 포함하고 있습니다.

* **whatap.server.host** <span class='type'>String</span>

  기본값 `127.0.0.1,127.0.0.1`

  에이전트가 수집한 데이터를 전송할 와탭 수집 서버의 IP 주소를 설정하세요. 수집 서버 이중화로 2개 이상의 IP를 가진 경우 쉼표(,)를 구분자로 사용하세요. 설정한 IP 주소에는 수집 서버 proxy 데몬이 리스닝 상태로 서비스돼야 합니다.

* **whatap.server.port** <span class='type'>String</span>

  기본값 `6600`

  수집 서버 포트(port)를 설정합니다. 포트는 하나만 설정할 수 있으므로 `whatap_server_host`에 설정한 수집 서버들은 동일 포트를 사용해야 합니다.

* **dbms** <span class='type'>String</span>
  
  `cubrid`

  :::caution

  다른 옵션 값을 입력할 경우 모니티링을 위한 데이터 수집이 정상 작동하지 않을 수 있습니다.

  :::

* **db** <span class='type'>String</span>

  모니터링할 DB 이름을 설정하세요.

* **db_ip** <span class='type'>String</span>

  모니터링할 데이터베이스 서버의 IP 주소를 설정합니다.

## CUBRID 전용 옵션{#cubrid}

* **db_port** <span class='type'>Int</span>

  기본값 `0`

  애플리케이션 접속 정보에 사용하는 브로커의 포트 정보입니다. 브로커 설정 파일(*cubrid_broker.conf*)에서 `BROKER_PORT` 항목에 정의된 값을 입력하세요. (CUBRID의 기본값 `BROKER_PORT: 33000`)

* **cms_port** <span class='type'>Int</span>

  기본값 `8001`

  **CUBRID Manager**가 사용하는 포트입니다. **CUBRID Manager** 설정 파일(*cm.conf*)에서 `cm_port` 항목에 정의된 값을 입력하세요. 모니터링 정보를 **CUBRID Manager**의 api를 통해 가져오기 위해 필요합니다.

* **cms_token_file** <span class='type'>String</span>

  사용자가 생성한 DB가 여러 개일 경우 와탭 에이전트도 DB 개수만큼 설치하고 셋팅해야 합니다. 이 경우 에이전트 간 토큰을 공유하기 위해 `cms_token_file` 경로가 필요합니다. *`{에이전트 설치 경로}`/cms_token*으로 설정하세요. 
  
  예시) agent2를 설치했을 경우 agent1의 `cms_token_file` 경로를 공유하기 위해 다음과 같이 설정하세요.
  
  ```ini title='whtap.conf'
  cms_token_file=/agent1/cms_token
  ```
    
* **broker** <span class='type'>String</span>
    
  기본값 `broker1`, `query_editor`
  
  CUBRID를 설치하면 `broker1`, `query_editor`로 브로커가 기본 실행됩니다. 사용자가 임의로 브로커의 이름을 변경했거나 추가적으로 기동했을 경우 변경 사항을 입력하세요.

  :::note

  `broker` 옵션으로 설정할 이름은 `cubrid broker status` 명령어로 확인할 수 있습니다.

  :::

## 데이터 수집

<Dbagentsettingdatacollection /> 


<Dbaes256encrypt />  


<Dbsettingagentnamedetails level={2} agentType="DBX" />