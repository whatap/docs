---
id: agent-number-of-user
title: 사용자 수
description: WAS에 연결한 실시간 사용자 수를 집계합니다.
keywords: [ Go, 사용자 ]
---

Go 웹 애플리케이션 서버에 연결한 사용자의 수를 집계합니다.

* **trace_user_enabled** <span class='type'>Boolean</span>

  기본값 `true`

  실시간 사용자 집계 여부를 설정합니다. 값을 `true`로 설정하면 IP 주소 또는 쿠키를 기준으로 사용자를 추적합니다. 

* **trace_user_using_ip** <span class='type'>Boolean</span>

  기본값 `true`

  IP 주소로 실시간 사용자를 구분할 때 설정합니다. 이 데이터는 Real Time User에서 확인할 수 있습니다. 값이 `false`일 경우 `trace_user_cookie_keys` 옵션에 있는 쿠키 이름을 기준으로 사용자를 구분합니다.

* **trace_user_cookie_keys** <span class='type'>String</span>

  cookie key에 해당하는 값을 사용자 식별 값으로 사용합니다.  콤마(*,*)를 구분자로 여러 개의 값을 설정할 수 있습니다.

* **trace_user_header_ticket** <span class='type'>Boolean</span>

  기본값 `false`

  사용자를 HTTP 헤더의 특정 값으로 구분하고 싶을 때 사용할 HTTP 키를 설정합니다. HTTP 키를 찾지 못하는 경우 쿠키를 기준으로 사용자를 구분합니다.

  :::note

  `trace_user_using_ip` 옵션과 동시에 적용할 수 없습니다. 

  :::

* **trace_user_set_cookie** <span class='type'>Boolean</span>

  기본값 `false`

  사용자를 구분하기 위해 쿠키에 `WHATAP` 키 이름으로 사용자 구분 값을 설정합니다. `trace_user_header_ticket` 옵션이 설정된 상태에서 헤더 key를 찾지 못할 때 설정됩니다. HTTP 키를 찾지 못하는 경우 쿠키를 기준으로 사용자를 구분합니다. 

  :::note

  `trace_user_using_ip` 옵션과 동시에 적용할 수 없습니다. 

  :::

* **trace_http_client_ip_header_key** <span class='type'>String</span>

  기본값 `X-Forwarded-For`

  클라이언트 IP(Remote IP)의 정보를 특정 HTTP 헤더의 값으로 변경해 설정하는 기능입니다. 프록시(Proxy) 환경에서 `X-Forwarded-For` 헤더 값을 클라이언트 IP로 설정할 수 있습니다.

* **trace_http_client_ip_header_key_enabled** <span class='type'>Boolean</span>

  기본값 `true`

  값이 `false`일 경우 HTTP 헤더는 무시하고 Remote IP 값으로 클라이언트 IP를 설정합니다.
