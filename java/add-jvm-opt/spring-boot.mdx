---
id: spring-boot
title: Spring Boot
description: Spring Boot 애플리케이션 서버 환경에서 JVM 옵션 추가 설정을 완료하세요.
tags:
    - Java
    - Spring Boot
---

Spring Boot를 사용하는 애플리케이션 서버 환경에서 JVM 옵션을 추가하는 방법을 확인하세요.

## JVM 옵션 추가

* Java 17 버전 이상의 경우 reflection 관련 JVM 옵션 추가로 애플리케이션을 기동할 수 있습니다.

  ```bash
  # Java 17 이상만 지원
  java -javaagent:{WHATAP_HOME}/whatap.agent-X.Y.Z.jar -Dwhatap.oname={Agent_Name} --add-opens=java.base/java.lang=ALL-UNNAMED -jar {application.jar}
  ```

* 시작 스크립트에 JVM 옵션으로 `-javaagent`를 추가하세요.

  ```bash
  java -javaagent:{WHATAP_HOME}/whatap.agent-X.Y.Z.jar -jar {application.jar}
  ```

JVM 옵션을 추가한 다음 사용하는 Spring Boot의 버전과 에이전트 버전에 맞춰 적합한 에이전트 설정을 진행하세요.

## Spring Boot 3

### Spring Boot 3.0.0 버전 이상

* Java 에이전트 v2.2.9 버전 이상(*whatap.agent-2.2.9.jar*)

  ```ini title='whatap.conf'
  weaving=spring-boot-3.0
  ```

* Java 에이전트 v2.2.5 버전 이상(*whatap.agent-2.2.5.jar*)

  ```ini title='whatap.conf'
  weaving=spring-boot-3.0,tomcat10
  ```

* Java 에이전트 v2.2.4 버전 이하(*whatap.agent-2.2.4.jar*)

  * `jakarta.servlet.http.HttpServlet` 추적(동기 방식)

    ```ini title='whatap.conf'
    weaving=tomcat10
    ```

  * WebClient 추적(비동기 방식)

    ```ini title='whatap.conf'
    weaving=webflux-6.0
    ```

## Spring Boot 2

### Spring Boot 2.7.0 버전 이상

* Java 에이전트 v2.2.9 버전 이상(*whatap.agent-2.2.9.jar*)

  ```ini title='whatap.conf'
  weaving=spring-boot-2.7
  ```

* Java 에이전트 v2.2.5 버전 이상(*whatap.agent-2.2.5.jar*)

  ```ini title='whatap.conf'
  weaving=spring-boot-2.7,tomcat9
  ```

* Java 에이전트 v2.2.4 버전 이하(*whatap.agent-2.2.4.jar*)

  WebClient 추적(비동기 방식)

  ```ini title='whatap.conf'
  weaving=webflux-5.3
  ```

### Spring Boot 2.5.0 버전 이상

* * Java 에이전트 v2.2.9 버전 이상(*whatap.agent-2.2.9.jar*)

  ```ini title='whatap.conf'
  weaving=spring-boot-2.5
  ```

* Java 에이전트 v2.2.5 버전 이상(*whatap.agent-2.2.5.jar*)

  ```ini title='whatap.conf'
  weaving=spring-boot-2.5,tomcat9
  ```

* Java 에이전트 v2.2.4 버전 이하(*whatap.agent-2.2.4.jar*)

  WebClient 추적(비동기 방식)

  ```ini title='whatap.conf'
  weaving=webflux-5.3
  ```

{@include: _set-heap-memory.mdx}

## 모니터링 시작하기

{@include: ../../common-items/_start-apm.mdx} 