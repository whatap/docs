---
id: websphere
title: WebSphere
description: 와탭 모니터링 솔루션을 WebSphere 애플리케이션에 통합하기 위한 JVM(Java Virtual Machine) 옵션 추가 방법에 대한 상세한 안내를 제공합니다. 사용자는 본 문서를 통해 자바(Java) 에이전트 설치 후 WebSphere 애플리케이션의 성능 및 가용성 모니터링을 위해 필요한 JVM 설정을 적용하는 방법을 단계별로 확인할 수 있습니다. 에이전트 설치 과정 중 필수 JVM 옵션의 구성과 WebSphere과의 원활한 통합을 위한 최적의 설정 방법, 힙스토그램 조회 방법을 포함하고 있습니다.
keywords: [ Java, WebSphere, 애플리케이션, 에이전트 ]
---

## JVM 옵션 추가

WebSphere 애플리케이션 서버 환경에서 Java 모니터링 에이전트를 효과적으로 사용하기 위해 필요한 JVM 옵션을 추가하는 방법을 안내합니다. JVM 옵션을 추가하려면 관리 콘솔(Admin console)로 접속하세요.

1. 웹브라우저에서 관리 콘솔에 로그인하세요.

1. ***Environment*** > ***Virtual Hosts*** > ***default host*** > ***Host Aliases*** 항목을 선택한 다음 에이전트를 설치할 서버의 포트 번호를 확인하세요.

    ![WebSphere port](https://img.whatap.io/media/agent_java/install/330.png)

1. ***Servers*** > ***Server Types*** > ***Websphere application servers*** 항목으로 이동한 다음 에이전트를 설치할 서버를 선택하세요.

    ![WebSpherer application servers](https://img.whatap.io/media/agent_java/install/300.png)

1. 선택한 서버 화면에서 ***Configuration*** 탭을 선택하고 ***Server Infrastructure*** 섹션의 ***Java and Process Management*** > ***Process definition*** 메뉴를 선택하세요.

    ![WebSphere Configuration](https://img.whatap.io/media/agent_java/install/310.png)

1. 오른쪽 메뉴에서 ***Additional Properties*** > ***Java Virtual Machine*** 메뉴를 선택하세요.

1. ***Configuration*** 탭에서 ***Generic JVM arguments*** 텍스트 박스에 ```-javaagent```와 ```-Dwhatap.port```를 추가하세요.

    ```bash
    -javaagent:/whatap/whatap.agent-X.Y.Z.jar
    -Dwhatap.port={포트번호} ## 2번 항목 포트 번호 ##
    ```

    ![Add JVM arguments](https://img.whatap.io/media/agent_java/install/340.png)

:::note

import Java17 from "./_java-17.mdx";

<Java17 /> 

:::

import Setheapmemory from "./_set-heap-memory.mdx";

<Setheapmemory /> 

## 클라이언트 IP 주소가 수집되지 않을 때

대시보드나 기타 다른 메뉴에서 클라이언트 IP 주소가 정상 수집되지 않을 경우 다음을 참조하세요. 

IBM HTTP 서버에서 백엔드의 WebSphere 애플리케이션 서버로 실제(original) 클라이언트 IP 주소로 전달해야 Java 에이전트에서 유효한 클라이언트 IP 주소를 수집할 수 있습니다. 실제 클라이언트 IP 주소를 전달하려면 IBM HTTP 서버에서 HTTP 헤더(header)에 `X-Forwarded-For` 추가해야 합니다. 

이에 대한 자세한 내용은 IBM 지원 문서에서 다루고 있습니다. 다음 링크를 참조하세요. [Passing the real client IP from IBM HTTP Server 9.0 to WebSphere Application Server](https://www.ibm.com/support/pages/passing-real-client-ip-ibm-http-server-90-websphere-application-server)

:::note

IBM 지원 문서를 확인하려면 IBM 계정이 필요할 수 있습니다.

:::

{/* 다음 단계 */}
import Nextstep from "../../common-items/_apm-next-step.mdx";

<Nextstep />