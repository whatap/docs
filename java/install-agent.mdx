---
id: install-agent
title: 에이전트 설치
description: JVM 환경에서 동작하는 모든 애플리케이션 서버에 적용할 수 있는 에이전트 설치 방법을 확인하세요.
tags: [ Java, 에이전트, 프로젝트 ]
---

import DocCardList from '@theme/DocCardList';
import TR from '@site/src/components/TR';


{@include: ../common-items/_agent-signup-guide.mdx}  

{@youtube: QXKweGBucjI}

{@include: ../getting-started/_create-project-v2.mdx}    

{@include: ../getting-started/_accesskey-v2.mdx} 

{@include: ../common-items/_download-java-agent.mdx}  

### 에이전트 설치 파일 구성{#agent-files}

에이전트 파일은 애플리케이션 모니터링에 필요한 정보를 추출해 와탭 수집 서버로 전달하는 트레이서와 트레이서가 데이터를 보낼 수 있도록 돕는 요소로 구성되어 있습니다.

* *whatap.conf*

  모니터링 에이전트의 설정 정보, 액세스 키, 와탭 데이터 수집 서버의 IP 정보 등을 저장하는 설정 파일입니다. 자세한 내용은 [다음 문서](set-agent)를 참조하세요.

* *security.conf* `Java 에이전트 2.2.2 버전 이후`

  thread 중지와 화면 상에서 각종 변수를 확인하기 위한 암호(6자리 영어, 숫자로 구성)를 입력하세요.

  ```ini title='security.conf'
  paramkey=ABCDEF # SQL 변수 및 HTTP 쿼리 조회
  threadkill=ABCDEF # Thread 중지 기능
  ```

* *paramkey.txt* `Java 에이전트 2.2.2 버전 이전`

  화면 상에서 각종 변수를 확인하기 위한 암호(6자리 영어, 숫자로 구성)를 입력하세요.

  ```ini title='paramkey.txt'
  ABCDEF # SQL 변수 및 HTTP 쿼리 조회
  ```

  :::note
  
  Java 에이전트 2.2.2 버전 이전에서 2.2.2 버전으로 업데이트하는 경우 기존 *paramkey.txt* 파일의 키값이 *seuciry.conf* 파일의 키값으로 자동 적용됩니다. 예를 들어, *paramkey.txt*에 `FEDCBA`를 사용했다면 2.2.2 버전으로 업데이트했을 경우 *security.conf* 파일에는 다음과 같이 적용됩니다.
  
  ```ini
  paramkey=FEDCBA
  threadkill=FEDCBA
  ```
  
  *paramkey.txt* 파일이 존재하지 않을 경우 *security.conf* 파일의 키값은 **WHATAP**이라는 키값으로 자동 생성합니다.
  
  :::

* *ping.sh(bat)*

  현재 설정한 액세스 키, 와탭 데이터 수집 서버로 통신을 시도해 설정이나 네트워크 이슈가 있는지 확인하기 위한 스크립트(배치) 파일입니다.

* *proxy.sh(bat)*

  *whatap.agent.proxy-`X.Y.Z`.jar* 파일을 시작하기 위한 스크립트(배치) 파일입니다.

* *resmon.sh(bat)*

  CPU, Memory, Disk 정보를 정상 수집하는지 확인하기 위한 스크립트(배치) 파일입니다.

* *whatap-logsink-lz4-`X.Y.Z`.jar*

  애플리케이션 서버의 log 정보를 수집하기 위한 plugin 형식의 파일입니다.

* *whatap.agent-`X.Y.Z`.jar*

  애플리케이션 서버의 각종 모니터링 정보를 수집 및 수집 서버에 전송하는 모니터링 에이전트 파일입니다.

* *whatap.agent.proxy-`X.Y.Z`.jar*

  애플리케이션 서버가 동작하는 서버에서 WhaTap 측 수집 서버에 직접 연결이 불가한 경우, 그 사이의 Proxy 서버(경유 서버)에서 경유 역할을 하는 애플리케이션입니다.

* *logs/whatap-`yyyymmdd`.log*

  모니터링 에이전트에서 출력하는 로그 파일입니다.


{@include: ../common-items/_whatap_conf.mdx}

## JVM 옵션 추가{#addjvmopt}

사용하는 애플리케이션 서버 환경에 따른 설정 방법을 다음과 같이 제공합니다. 에이전트를 설치하고 적용하기 전에 [지원 환경](supported-spec)을 먼저 확인하세요.

<DocCardList/>