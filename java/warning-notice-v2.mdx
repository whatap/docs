---
id: warning-notice-v2
title: 이벤트 설정
description: 애플리케이션의 자원 사용량 및, 진행 중 트랜잭션, 에러 상황의 이벤트 조건을 통해 경고 알림을 보냅니다.
tags: [ Java, 경고 알림, 이벤트 설정, 애플리케이션 ]
---

홈 화면 &gt; 프로젝트 선택 &gt; <Cmdname sid="event_statistic" className="uitext" /> &gt; <Cmdname sid="event_configuration" className="uitext" /> <code class="newfunc">New</code>

새로운 <Cmdname sid="event_configuration" className="uitext" /> 메뉴는 카테고리(**Category**)가 아닌 필드(**Field**) 중심의 사용자 경험을 강화한 메뉴입니다. 메트릭스 이벤트 설정과 같은 강력한 기능을 모두 필요치 않거나 단순한 알림 조건을 반복해서 사용하는 사용자에게 빠르게 경고 알림을 적용할 수 있는 이벤트 기능입니다. 생성한 프로젝트의 상품에 적합한 기본 이벤트 템플릿을 제공하여 빠르고 쉽게 원하는 경고 알림 이벤트를 설정할 수 있습니다.

카테고리가 아니라 필드를 먼저 선택해 사용자가 인지하는 지표와 이벤트 설정의 불일치를 해소합니다. 시뮬레이션이 주는 시각적 직관성을 결합하여 빠르고 정확하게 이벤트설정을 완료할 수 있습니다.

:::note

* 신규 프로젝트는 별도의 설정없이 이 기능을 이용할 수 있으나 이미 생성된 프로젝트에서는 ***이벤트 생성하기*** 버튼을 선택하세요. 새로운 기능에 최적화된 이벤트 목록을 자동으로 생성합니다.

* 상품에 따라 제공하는 이벤트 템플릿은 다를 수 있습니다.

:::


## 기본 이벤트 템플릿 {#basic-template}

생성한 프로젝트의 상품에 따라 기본 이벤트 템플릿을 제공합니다. 이벤트 목록의 가장 오른쪽에 <Cmdname sid="TTL06099" className="uitext" /> 버튼을 선택해 원하는 이벤트를 활성화할 수 있습니다.

<InDoc product="java,php,python,nodejs,dotnet,golang">

<ImgLang img='event-config-v2-apm.png' desc='이벤트 목록' />

제공하는 이벤트 템플릿은 다음과 같습니다. <Cmdname sid="ITM07578" className="uitext" /> 항목에 설정된 값은 사용자가 원하는 값으로 수정할 수 있습니다.

* ***Active Transaction***

  카테고리: [`app_counter`](metrics-app#app_counter)

  액티브 트랜잭션 발생 건수(`active_tx_count`)가 100개를 초과한 상태로 지속되면 경고(<span class="slow">Warning</span>) 수준의 알림을 보냅니다.

* ***Server CPU***

  카테고리: [`app_host_resource`](metrics-app#app_host_resource)

  호스트의 CPU 사용률(`cpu`)이 70%를 초과하면 경고(<span class="slow">Warning</span>) 수준의 알림을, 90%를 초과하면 위험(<span class="vslow">Critical</span>) 수준의 알림을 보냅니다.

* ***Server Disk***

  카테고리: [`app_host_resource`](metrics-app#app_host_resource)

  호스트의 디스크 사용률(`disk`)이 70%를 초과하면 경고(<span class="slow">Warning</span>) 수준의 알림을, 90%를 초과하면 위험(<span class="vslow">Critical</span>) 수준의 알림을 보냅니다.

* ***Server Memory***

  카테고리: [`app_host_resource`](metrics-app#app_host_resource)

  호스트의 메모리 사용률(`mem`)이 70%를 초과하면 경고(<span class="slow">Warning</span>) 수준의 알림을, 90%를 초과하면 위험(<span class="vslow">Critical</span>) 수준의 알림을 보냅니다.

* ***Transaction Error Count***

  카테고리: [`app_counter`](metrics-app#app_counter)

  트랜잭션 에러 건수(`tx_error`)가 10개를 초과한 상태로 지속되면 경고(<span class="slow">Warning</span>) 수준의 알림을 보냅니다.

* ***Transaction Response Time***

  카테고리: [`app_counter`](metrics-app#app_counter)

  트랜잭션의 평균 응답 시간(`resp_time`)이 2초(2000 ms)를 초과한 상태로 지속되면 경고(<span class="slow">Warning</span>) 수준의 알림을 보냅니다.

:::note

기본 이벤트 템플릿에 적용된 필드에 대한 자세한 내용은 [다음 문서](metrics-app)를 참조하세요.

:::

</InDoc>


## 이벤트 수정하기 {#modify-event}

기본 이벤트 템플릿에 적용된 지표값을 수정해 경고 알림이 발생 기준을 변경할 수 있습니다. 그 외에도 다양한 옵션 설정을 통해 알림 발생 기준을 변경할 수 있습니다. 수정하려는 이벤트 항목에서 ![수정 아이콘](/img/ico-edit.svg) 버튼을 선택하면 이벤트 수정 화면으로 이동합니다. 다음의 항목을 차례로 수정한 다음 <Cmdname sid="save" className="uitext" /> 버튼을 선택하세요.

### <Cmdname sid="TTL07362" />

이벤트 발생 조건 기준을 설정할 수 있습니다.

<ImgLang img='event-config-v2-condition-common.png' desc='이벤트 조건 정의' />

* <Cmdname sid="run" className="uitext" />: 이벤트 조건을 설정한 다음 버튼을 선택하면 설정한 이벤트를 시뮬레이션할 수 있습니다.

  <ImgLang img='event-config-v2-simulation-common.png' desc='이벤트 시뮬레이션' />

* <Cmdname sid="TTL07365" className="uitext" replace="</br>" />: <span class="slow">Warning</span> 또는 <span class="vslow">Critical</span> 알림에 대한 임곗값를 설정할 수 있습니다. 연산자를 설정하고 임곗값을 입력하세요.

  * 연산자 종류: `>`(보다 큼), `>=`(보다 크거나 같음), `<`(보다 작음), `<=`(보다 작거나 같음), `==`(같음)

  * 임곗값으로 양수, 음수, 0을 입력할 수 있습니다.

  :::note

  * 제공되는 이벤트 템플릿에 따라 설정할 수 있는 알림 수준(Level)은 다를 수 있습니다.

  * <span class="slow">Warning</span> 또는 <span class="vslow">Critical</span> 수준 하나만 선택할 수 있지만, 두 항목을 모두 비활성화할 수는 없습니다.

  :::

* <Cmdname sid="TTL07366" className="uitext" />: 설정한 이벤트 조건을 충족하는 횟수에 따라 알림을 보낼 수 있습니다.

  * <Cmdname sid="ITM07369" className="uitext" />: 이벤트가 발생할 때마다 알림을 보냅니다.

  * <Cmdname sid="TTL07366" className="uitext" />: 1분 동안 설정한 횟수만큼 이벤트가 발생하면 알림을 보냅니다.

* <Cmdname sid="TTL07367" className="uitext" />: 알림 수신 후 선택한 시간 동안 이벤트가 발생하지 않습니다.

* <Cmdname sid="TTL07368" className="uitext" />: 이벤트가 해결되면 <b>RECOVERED</b> 상태의 알림을 보냅니다.

:::tip

다음 조건에 따라 알림을 보내는 기준이 달라집니다.

| <Cmdname sid="TTL07366" className="uitext" /> | <Cmdname sid="TTL07368" className="uitext" /> | 동작 |
| -- | :--: | -- |
| <Cmdname sid="ITM07369" className="uitext" /> | **On** | 설정한 이벤트 조건을 충족하거나 해결되면 알림을 보냅니다. |
| ^ | **Off** | 설정한 조건을 충족할 때마다 알림을 보냅니다. |
| <Cmdname sid="TTL07366" className="uitext" /> N <Cmdname sid="ITM07370" className="uitext" /> | **On** | N 회 이상 조건을 충족하거나 N 회 이상 이벤트가 해결되면 알림을 보냅니다. |
| ^ | **Off** | N 회 이상 설정한 이벤트 조건을 충족하면 알림을 보냅니다. 알림을 보낸 후 횟수를 초기화해 횟수를 다시 집계합니다. |

:::


### <Cmdname sid="TTL07363" />

<InDoc product="java,php,python,nodejs,dotnet,golang">

특정 에이전트에서만 발생하는 이벤트를 알림으로 보내도록 설정할 수 있습니다. <Cmdname sid="TLT07556" className="uitext" /> 항목을 클릭한 다음 원하는 에이전트를 선택하세요.

<ImgLang img='event-config-v2-target-apm.png' desc='이벤트 대상 선택' />

</InDoc>

:::note

* 기본 제공되는 템플릿에 따라 선택할 수 있는 대상은 다를 수 있습니다.

* 대상을 선택하지 않으면 프로젝트에 포함된 전체 에이전트를 대상으로 알림을 보냅니다. 전체 에이전트를 대상으로 이벤트가 실행되면 많은 알림이 발생할 수 있습니다.

* 선택한 대상에 대한 이벤트 발생 현황을 확인하려면 <Cmdname sid="TTL07362" className="uitext" />에서 <Cmdname sid="run" className="uitext" /> 버튼을 선택하세요.

:::

### <Cmdname sid="TTL07364" />

알림으로 수신되는 이벤트의 제목과 메시지를 작성하고, 수신 대상을 선택할 수 있습니다.

<ImgLang img='event-config-v2-info-receive-common.png' desc='기본 정보 및 수신 설정' />

* <Cmdname sid="enable_events" className="uitext" />: 현재 이벤트를 활성화할 수 있습니다.

* <Cmdname sid="event_title" className="uitext" />: 기본 제공된 템플릿의 이벤트 이름이 입력되어 있습니다. 사용자가 원하는 이벤트 이름으로 편집할 수 있습니다.

* <Cmdname sid="TTL06883" className="uitext" />: 기본 제공된 템플릿의 메시지가 입력되어 있습니다. 사용자가 원하는 메시지로 편집할 수 있습니다.

  :::tip

  메시지 입력 창에 <code>$&#123;Tag&#125;</code> 또는 <code>$&#123;Field&#125;</code> 변수를 입력해 메시지를 작성할 수 있습니다.

  <Cmdname sid="analysis" className="uitext" /> &gt; <Cmdname sid="tag_count" className="uitext" /> 메뉴에서 <Cmdname sid="category" className="uitext" />를 선택한 다음 입력할 수 있는 <code>$&#123;Tag&#125;</code> 또는 <code>$&#123;Field&#125;</code> 변수를 확인하세요. 현재 이벤트 템플릿의 <Cmdname sid="category" className="uitext" /> 이름은 <Link to="#basic-template">다음 문서</Link>의 <b>카테고리</b> 항목을 참조하세요.

  :::

* <Cmdname sid="alert_test" className="uitext" />: 현재 이벤트로 발생하는 알림 수신 시 입력한 이벤트 이름과 메시지를 사전 점검할 수 있습니다. 필수 항목(<Cmdname sid="TTL07365" className="uitext" replace="</br>" />, <Cmdname sid="event_title" className="uitext" />, <Cmdname sid="TTL06883" className="uitext" />)을 모두 입력해야 테스트할 수 있습니다.

  :::note

  테스트 중에는 실제 메트릭스 값이나 변수에 대한 치환 기능이 작동하지 않으며, 수신자 태그가 설정된 사용자에게만 알림을 보낼 수 없습니다.

  :::

* <Cmdname sid="TTL07415" className="uitext" />: 현재 이벤트로 발생하는 알림을 수신할 멤버를 선택할 수 있습니다.

  * <Cmdname sid="ITM07419" className="uitext" />: 프로젝트에 소속된 멤버 전원에게 알림을 보냅니다.

  * <Cmdname sid="ITM07420" className="uitext" />: 선택한 태그를 가진 프로젝트 멤버와 3rd-party 플러그인에 알림을 보냅니다. <Cmdname sid="add_tag" className="uitext" /> 또는 <LinkImage img="ico-add.svg" className="ico" /> 버튼을 클릭해 태그 목록에서 원하는 태그를 선택하세요.

  :::note

  <Cmdname sid="event_statistic" className="uitext" /> &gt; <Cmdname sid="eventNoti" className="uitext" /> 메뉴에서 프로젝트 멤버와 3rd-party 플러그인에 태그를 설정할 수 있습니다. 자세한 내용은 <Link to="set-receive-event#set-notice-by-team-or-users">다음 문서</Link>를 참조하세요.

  :::


## 이벤트 추가하기

기본 제공되는 이벤트 템플릿을 편집해 사용자가 원하는 알림을 추가할 수 있습니다.

1. 화면 오른쪽 위에 <Cmdname sid="add_alert_setting" className="uitext" /> 버튼을 선택하세요.

1. 템플릿 목록에서 추가하려는 이벤트 항목을 선택하세요.

1. <Cmdname sid="TTL07363" className="uitext" /> 및 <Cmdname sid="TTL07363" className="uitext" />, <Cmdname sid="TTL07364" className="uitext" /> 섹션의 옵션을 차례로 설정하세요.

1. 모든 설정을 완료한 다음 화면 오른쪽 위에 <Cmdname sid="save" className="uitext" /> 버튼을 선택하세요.

이벤트 목록에서 새로 추가한 이벤트를 확인할 수 있습니다.

:::note

* 기본 제공되는 이벤트 템플릿과 구별하여 사용하려면 <Cmdname sid="event_title" className="uitext" /> 항목을 편집해 저장하세요.

* 기본 제공하는 이벤트 템플릿에 대한 자세한 내용은 [다음 문서](#basic-template)를 참조하세요.

* 이벤트 조건 설정의 각 섹션에 대한 자세한 내용은 [다음 문서](#modify-event)를 참조하세요.

:::


## 이벤트 삭제하기

기본 제공된 이벤트 또는 새로 추가한 이벤트를 삭제할 수 있습니다. 

1. 이벤트 목록에서 삭제하려는 이벤트 항목에서 ![수정 아이콘](/img/ico-edit.svg) 버튼을 선택하세요. 

1. 이벤트 수정 화면으로 이동하면 화면 오른쪽 위에 <Cmdname sid="delete" className="uitext" /> 버튼을 선택하세요.

1. 삭제 확인 메시지가 나타나면 다시 한번 <Cmdname sid="delete" className="uitext" /> 버튼을 선택하세요.

:::note

삭제한 이벤트는 복구할 수 없습니다.

:::


## JSON 형식으로 수정하기

이벤트 설정을 JSON 형식으로 수정할 수 있습니다.

1. <Cmdname sid="event_statistic" className="uitext" /> &gt; <Cmdname sid="event_configuration" className="uitext" /> 메뉴로 이동하세요.

1. 화면 오른쪽 위에 <span class="uitext">JSON</span> <LinkImage img="ico-export.svg" className="ico" /> 버튼틀 선택하세요.

1. 편집 창이 나타나면 JSON 형식에 맞춰 내용을 수정하세요.

1. 수정을 완료하면 화면 오른쪽 위에 <Cmdname sid="save" className="uitext" /> 버튼을 선택하세요.

:::note

수정한 내용이 JSON 형식에 맞지 않으면 화면 아래에 에러 메시지가 표시되며, 저장할 수 없습니다. 표시되는 에러 메시지는 형식에 따라 다를 수 있습니다.

<ImgLang img='event-config-v2-json-error.png' desc='JSON error' />

:::

JSON 데이터의 구조는 다음과 같습니다.

```json
{
    "metaId": "infra001",
    "displayName": "CPU",
    "stateful": true,
    "selectCondition": {},
    "warningEnabled": true,
    "criticalEnabled": true,
    "receiver": [],
    "warningThreshold": "cpu > 70",
    "criticalThreshold": "cpu > 90",
    "repeatCount": 1,
    "silentPeriod": 60000,
    "enabled": false,
    "message": "CPU = ${cpu}"
},
```

JSON 데이터의 필드는 이벤트 설정에서 다음 옵션 항목과 연결됩니다.

| JSON 필드 | 옵션 |
| -- | -- |
| `metaId` | 이벤트 식별을 위한 고유 ID |
| `displayName` | <Cmdname sid="event_title" className="uitext" /> |
| `stateful` | <Cmdname sid="TTL07368" className="uitext" /> | 
| `selectCondition` | <Cmdname sid="ITM07588" className="uitext" /> |
| `warningEnabled` | <span class="slow">Warning</span> 이벤트 활성 여부 |
| `criticalEnabled` | <span class="vslow">Critical</span> 이벤트 활성 여부 |
| `receiver` | <Cmdname sid="TTL07415" className="uitext" /> &gt; <Cmdname sid="ITM07420" className="uitext" /> 옵션의 수신 태그 키값 목록 |
| `warningThreshold` | <span class="slow">Warning</span> 이벤트의 임곗값 설정 |
| `criticalThreshold` | <span class="vslow">Critical</span> 이벤트의 임곗값 설정 |
| `repeatCount` | <Cmdname sid="TTL07366" className="uitext" /> N <Cmdname sid="ITM07370" className="uitext" /> |
| `silentPeriod` | <Cmdname sid="TTL07367" className="uitext" /> |
| `enabled` | <Cmdname sid="enable_events" className="uitext" /> |
| `message` | <Cmdname sid="TTL06883" className="uitext" /> |


## JSON 파일로 공유하기

이벤트 설정을 JSON 파일로 저장해 다른 사용자와 설정을 공유하거나 다른 사용자의 설정을 가져올 수 있습니다.

### 내보내기

1. <Cmdname sid="event_statistic" className="uitext" /> &gt; <Cmdname sid="event_configuration" className="uitext" /> 메뉴로 이동하세요.

1. 화면 오른쪽 위에 <span class="uitext">JSON</span> <LinkImage img="ico-export.svg" className="ico" /> 버튼틀 선택하세요.

1. JSON 편집 창이 나타나면 <LinkImage img="ico-export.svg" className="ico" /> <Cmdname sid="export" className="uitext" /> 버튼을 선택하세요.

JSON 파일을 다운로드합니다. JSON 파일 이름은 *event-rules-`YYYY`-`MM`-`DD`.json* 형식입니다.

### 가져오기

1. <Cmdname sid="event_statistic" className="uitext" /> &gt; <Cmdname sid="event_configuration" className="uitext" /> 메뉴로 이동하세요.

1. 화면 오른쪽 위에 <LinkImage img="ico-import.svg" className="ico" /> 버튼틀 선택하세요.

1. <Cmdname sid="export" className="uitext" /> 기능을 통해 다운로드한 JSON 파일을 선택하세요.

1. JSON 편집 창이 나타나면 <Cmdname sid="add_to_list" className="uitext" /> 또는 <Cmdname sid="overwrite" className="uitext" /> 버튼을 선택하세요.

:::caution

이 기능은 같은 종류의 상품 간에 이용할 것을 권장합니다. 다른 상품의 프로젝트로부터 이벤트 설정을 가져올 수는 있지만 정상 작동하지 않습니다.

:::


## 이벤트 검색하기

이벤트 목록에서 이벤트 이름 또는 지표를 기준으로 검색할 수 있습니다. 검색 입력란에 검색어를 입력한 다음 ![검색 아이콘](/img/ico-search.svg) 버튼을 선택하세요.