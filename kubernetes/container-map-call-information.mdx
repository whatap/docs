---
id: container-map-call-information
title: Call Information
description: 컨테이너 상에서 실행 중인 애플리케이션의 호출 흐름과 외부 호출 대상의 상태를 확인할 수 있습니다.
keywords: [ 쿠버네티스, 쿠버네티스 모니터링, 호출 정보 ]
---

:::note 

***외부 호출 상태*** 조회 기능은 애플리케이션이 Java인 경우만 제공합니다.

:::

홈 화면 > 프로젝트 선택 > ***대시보드*** > ***컨테이너 맵*** > 대상 선택 후 <Cmdname sid="BTN07712" className="uitext" /> 화면 진입 > ***호출 정보*** 탭 선택

쿠버네티스 컨테이너 상에서 실행 중인 애플리케이션의 호출 흐름과 외부 호출 대상의 상태를 확인할 수 있습니다. 와탭 쿠버네티스 모니터링에서 제공하는 호출 정보는 다음과 같습니다. 

* ***App 호출 흐름도***

* ***외부 호출 상태***

## App 호출 흐름도{#app-call-flow}

<ImgLang img='k8s-container-map-call-info-app.png' desc='App 호출 흐름도' />

Pod 내부에서 실행 중인 컨테이너 애플리케이션의 호출 흐름을 표현한 차트를 제공합니다. 사용자 지정 그룹(Okind), Pod, DB 연결(DBC) 및 외부 호출(HTTPC) 세 가지의 노드간 연결 관계를 확인할 수 있습니다. 각 노드는 다음과 같은 정보를 제공합니다. 

#### ![지시선 1](/img/number-01.png) 사용자 지정 그룹(okind)

사용자가 지정한 그룹 명칭을 의미합니다. 그룹(okind)을 지정하지 않은 경우 해당 노드는 표시되지 않습니다.

#### ![지시선 2](/img/number-02.png) Pod 

컨테이너 애플리케이션이 속해 있는 Pod 명칭을 의미합니다. 컨테이너 애플리케이션 내 액티브 트랜잭션 총 개수와 처리 속도를 확인할 수 있습니다. 선택 시 ***액티브 트랜잭션*** 메뉴로 이동합니다.

* ***Active Tx***: 컨테이너 애플리케이션 내 액티브 트랜잭션을 의미합니다. 

  * ***Total***: 컨테이너 애플리케이션 내 총 액티브 트랜잭션의 개수를 의미합니다.

  * <span class='normal'>Normal</span>: 0~3초 내 처리되는 트랜잭션의 개수를 의미합니다.

  * <span class='slow'>Slow</span>: 3~8초 내 처리되는 트랜잭션의 개수를 의미합니다.

  * <span class='vslow'>Very Slow</span>: 처리에 8초 이상 소요되는 트랜잭션의 개수를 의미합니다.

* ***Application***: Pod 내부의 Application 명칭을 의미합니다. 

* ***Node***: Pod가 속한 Node 명칭을 의미합니다. 

* ***Namespace***: Pod가 속한 Namespace 명칭을 의미합니다. 

* ***ReplicaSet***: Pod가 속한 ReplicaSet 명칭을 의미합니다. 

* ***Deployment***: Pod가 속한 Deployment 명칭을 의미합니다.  

#### ![지시선 3](/img/number-03.png) DB 연결 및 외부 호출

* ***DB 연결(dbc)***: Pod 내부의 컨테이너 애플리케이션이 호출한 DB Connection을 의미합니다. 선택 시 ***외부 호출 상태*** 조회 탭으로 이동합니다.

  * ***Active Tx***: DB Connection 중인 컨테이너 애플리케이션 내 액티브 트랜잭션을 의미합니다. 

  * ***Total***: 컨테이너 애플리케이션 내 총 액티브 트랜잭션의 개수를 의미합니다.

  * <span class='normal'>Normal</span>: 0~3초 내 처리되는 트랜잭션의 개수를 의미합니다.

  * <span class='slow'>Slow</span>: 3~8초 내 처리되는 트랜잭션의 개수를 의미합니다.

  * <span class='vslow'>Very Slow</span>: 처리에 8초 이상 소요되는 트랜잭션의 개수를 의미합니다.

* ***외부 호출(httpc)***: Pod 내부의 컨테이너 애플리케이션이 호출한 외부 API를 의미합니다. 선택 시 ***외부 호출 상태*** 조회 탭으로 이동합니다. 

  * ***Active Tx***: 외부 API 호출 중인 컨테이너 애플리케이션 내 액티브 트랜잭션을 의미합니다. 

  * ***Total***: 컨테이너 애플리케이션 내 총 액티브 트랜잭션의 개수를 의미합니다.

  * <span class='normal'>Normal</span>: 0~3초 내 처리되는 트랜잭션의 개수를 의미합니다.

  * <span class='slow'>Slow</span>: 3~8초 내 처리되는 트랜잭션의 개수를 의미합니다.

  * <span class='vslow'>Very Slow</span>: 처리에 8초 이상 소요되는 트랜잭션의 개수를 의미합니다.

## 외부 호출 상태{#remote-access-status}

외부 호출 로그를 이용해 모니터링 대상이 호출하는 목적지의 연결 상태 정보를 기반으로 외부 호출 대상의 정상 여부 정보를 제공합니다. ***외부 호출 상태*** 조회 기능을 통해 접속 불가 대상의 가시성을 제공합니다. 이를 통해 서비스 이슈 발생 시 문제 발생 지점을 용이하게 파악할 수 있습니다. 또한 지속적인 접속 실패에 의한 스레드와 커넥션 증가 등의 자원 잠식 현상을 사전에 감지하고 이에 대응할 수 있습니다.

:::note

**외부 호출 로그**

애플리케이션 에이전트 설정을 통해 각 모니터링 대상별 외부 호출에 대한 성공 및 실패 여부를 기록한 로그입니다. 

* 외부 호출 유형은 다음과 같습니다.

  `httpcall`, `db`, `socket` 

* 외부 호출 로그를 수집하려면 ***에이전트 설정***에 다음 옵션을 추가해야 합니다.

  ```ini 
  logsink_rt_enabled=true
  logsink_enabled=true
  ```

::: 

<ImgLang img='k8s-container-map-call-info-remote.png' desc='외부 호출 로그' />

***외부 호출 상태*** 탭에서 외부 호출 로그를 목록 형식으로 조회할 수 있습니다. 최근 24시간 범위의 로그를 최대 500개 불러와 표시합니다. 실시간 조회 시 데이터는 3초 간격으로 업데이트됩니다. 

#### ![지시선 1](/img/number-01.png) 상단 바 옵션 

* ***에이전트*** 또는 ***업무*** 컬럼의 표시 여부를 선택할 수 있습니다.

* 검색어 입력창을 통해 해당 검색어가 속한 에이전트, 업무, 로그가 포함된 열을 필터링할 수 있습니다.

* ![재생 아이콘](/img/ic-caret-right.svg) ***재생***: 로그가 업데이트 되었을 시 최하단으로 이동해 가장 최근 로그를 확인할 수 있습니다.

* ![일시 정지 아이콘](/img/ico-pause.svg) ***일시 정지***: 자동 스크롤 이동을 일시적으로 중지합다.

* ![상단 아이콘](/img/ic-caret-up.svg) ![하단 아이콘](/img/ic-caret-down.svg): 최상단 또는 최하단으로 이동합니다.

#### ![지시선 2](/img/number-02.png) 외부 호출 로그 목록

아이콘과 태그를 통해 외부 호출 로그의 주요 내용을 쉽게 확인할 수 있습니다. 에러 로그의 경우 <span class='vslow'>빨간색</span>으로 표시됩니다.

* 외부 호출 유형은 아이콘 ![dbc 아이콘](/img/ic-db.svg)(***db***), ![httpc 아이콘](/img/ic-network-filled.svg)(***httpcall***), ![socket 아이콘](/img/ic-branches.svg)(***socket***)을 통해 안내합니다.

* `target`: 외부 호출 및 연결 대상을 의미합니다. 

* `content`: 로그의 내용을 의미합니다. 

* `exception`: 에러 발생 시 기록된 로그의 내용을 의미합니다.

#### ![지시선 3](/img/number-03.png) 마지막 호출 상태

조회된 모든 로그의 외부 호출 대상 목록을 확인합니다. 가장 최근 연결 상태에 따라 <span class='vslow'>성공</span> 또는 <span class='mstop'>실패</span>로 표시됩니다. 

* 조회 모드

  * ***List***: 기본 목록 뷰입니다. 전체 목록의 길이가 화면 높이를 넘어갈 경우 스크롤이 생깁니다.

  * ***Map***: 목록이 화면을 넘어가게되면 목록의 길이를 줄여 가로 방향으로 외부 호출 대상을 나열합니다.

* 필터

  외부 호출 대상을 선택 시 해당 외부 호출 대상에 대한 로그만 필터링해 외부 호출 로그 목록을 조회할 수 있습니다. 재선택 시 해제됩니다.


:::note

**데이터가 없는 경우**

실시간 조회 시 최근 24시간 동안 외부 호출 로그가 수집되었는지 확인합니다. 24시간 동안 외부 호출 로그가 수집되지 않은 경우 다음과 같은 안내 메시지를 제공합니다.

<ImgLang img='k8s-container-map-call-info-remote-none.png' desc='데이터 미수집' />

:::

{/* 

* ![일시 정지 아이콘](/img/ic-s-pause.svg) 일시 정지

*/}