---
id: container-map-event
title: Event
description: 와탭 쿠버네티스 모니터링에서는 쿠버네티스 이벤트, 와탭 이벤트를 제공합니다.
keywords: [ 쿠버네티스, 쿠버네티스 모니터링, Event ]
---

홈 화면 > 프로젝트 선택 > ***대시보드*** > ***컨테이너 맵*** > 대상 선택 후 <Cmdname sid="BTN07712" className="uitext" /> 화면 진입 > ***이벤트*** 탭 선택

리소스 수명 주기 동안 발생하는 모든 이벤트에 대한 기록을 제공합니다. 와탭 쿠버네티스 모니터링에서 제공하는 이벤트 정보는 다음과 같습니다.

* 쿠버네티스 이벤트(***Kubernetes***)

* 와탭 이벤트(***WhaTap***)

## 기본 화면 안내

<ImgLang img='k8s-event-default3.png' desc='쿠버네티스 상세 보기 이벤트 탭' />

* ![number 1](/img/number-01.png) 쿠버네티스 이벤트(***Kubernetes***) 또는 와탭 이벤트(***WhaTap***)를 선택해 조회할 수 있습니다. 

  * 전체 또는 다중 블록 선택

    ***컨테이너 맵*** 및 왼쪽의 카드에서 전체 또는 다중 블록 선택 시 ***Kubernetes 전체 이벤트*** 또는 ***WhaTap 전체 이벤트***를 조회할 수 있습니다.

  * 클러스터링 또는 개별 블록 선택

    ***컨테이너 맵*** 상단의 ***2단계*** 그룹화 선택 또는 개별 블록 선택 시 해당 이벤트를 조회할 수 있습니다. **그룹화**(클러스터링)에 관한 자세한 내용은 [다음 문서](container-group)를 참조하세요.

    :::note

    **상세 보기** 화면에 진입하기 전 ***컨테이너 맵*** 상단에서 선택한 뷰 및 대상 그룹화에 따라 조회할 수 있는 이벤트가 달라집니다.

    :::

* ![number 2](/img/number-02.png) 시간 선택자를 통해 이벤트 기록을 조회하고자 하는 시간대를 지정할 수 있습니다. 기본 설정은 ***1일***입니다.

  :::note 

  시간 선택자 이용 방법에 대한 자세한 내용은 [다음 문서](usage-ui#timeselector)를 참조하세요.

  :::

* ![number 3](/img/number-03.png) 선택한 시간대의 ***이벤트 수 추이***를 바 차트를 통해 살펴볼 수 있습니다. 

* ![number 4](/img/number-04.png) 목록 형식으로 이벤트 기록 정보를 확인할 수 있습니다. 

  * 이벤트 기록 목록 오른쪽 상단의 ***태그 숨기기***를 선택하면 이벤트 기록 중 태그 정보를 제외한 ***타임스탬프***와 ***메시지***를 확인할 수 있습니다.

  * ***Kubernetes*** 이벤트

    * <span class='k8s-normal'>Normal</span> 또는 <span class='slow'>Warning</span> 중 조회를 원하는 이벤트 타입을 선택해 확인할 수 있습니다. 이 이벤트 타입은 쿠버네티스가 제공하는 이벤트 타입 정보와 동일합니다.
    
    * 각 이벤트의 왼쪽 띠 역시 이벤트 타입을 나타냅니다. 회색은 <span class='k8s-normal'>Normal</span>, 주황색은 <span class='slow'>Warning</span> 상태를 의미합니다.

  * ***WhaTap*** 이벤트

    * <span class='vslow'>Critical</span>, <span class='k8s-normal'>Info</span>, <span class='slow'>Warning</span> 중 조회를 원하는 이벤트 레벨을 선택해 확인할 수 있습니다.
    
    * 각 이벤트의 왼쪽 띠 역시 이벤트 레벨을 나타냅니다. 회색은 <span class='k8s-normal'>Info</span>, 주황색은 <span class='slow'>Warning</span>, 빨간색은 <span class='vslow'>Critical</span> 상태를 의미합니다.


## 쿠버네티스 이벤트

***Kubernetes*** 이벤트는 쿠버네티스 자체적으로 제공하는 이벤트 정보입니다. 사용자 쿠버네티스 환경에서 `kubectl get events` 명령을 사용하면 사용자 쿠버네티스 클러스터의 이벤트 정보를 확인할 수 있습니다.

```bash

$ kubectl get events -A
 NAMESPACE   LAST SEEN   TYPE      REASON                   OBJECT                            MESSAGE
 community   15m         Normal    ScalingReplicaSet        deployment/baekdusan              Scaled up replica set baekdusan-59554d4859 to 5
 community   12m         Normal    ScalingReplicaSet        deployment/suraksan               Scaled down replica set suraksan-66fc4bf889 to 3
 community   5m18s       Normal    ScalingReplicaSet        deployment/baekdusan              Scaled down replica set baekdusan-59554d4859 to 3
 community   7m10s       Normal    Created                  pod/suraksan-66fc4bf889-h2cw8     Created container suraksan
 community   6m56s       Normal    Pulled                   pod/suraksan-66fc4bf889-h2cw8     Container image "123456789123.dkr.ecr.ap-northeast-2.amazonaws.com/suraksan:0.48" already present on machine
 community   7m9s        Normal    Started                  pod/suraksan-66fc4bf889-h2cw8     Started container suraksan
 community   2m7s        Warning   BackOff                  pod/suraksan-66fc4bf889-h2cw8     Back-off restarting failed container
 community   7m12s       Normal    Started                  pod/suraksan-66fc4bf889-t27rp     Started container suraksan
 community   6m54s       Normal    Pulled                   pod/suraksan-66fc4bf889-t27rp     Container image "123456789123.dkr.ecr.ap-northeast-2.amazonaws.com/suraksan:0.48" already present on machine
 community   7m12s       Normal    Created                  pod/suraksan-66fc4bf889-t27rp     Created container suraksan
 community   2m46s       Warning   BackOff                  pod/suraksan-66fc4bf889-t27rp     Back-off restarting failed container
 community   7m19s       Normal    ScalingReplicaSet        deployment/mountain               Scaled up replica set mountain-6795bfbc54 to 5
 community   27m         Normal    ScalingReplicaSet        deployment/mountain               Scaled down replica set mountain-6795bfbc54 to 4
 community   6m53s       Normal    Pulled                   pod/suraksan-66fc4bf889-mjbsj     Container image "123456789123.dkr.ecr.ap-northeast-2.amazonaws.com/suraksan:0.48" already present on machine
 community   7m10s       Normal    Created                  pod/suraksan-66fc4bf889-mjbsj     Created container suraksan
 community   7m10s       Normal    Started                  pod/suraksan-66fc4bf889-mjbsj     Started container suraksan
 community   2m10s       Warning   BackOff                  pod/suraksan-66fc4bf889-mjbsj     Back-off restarting failed container
 community   5m18s       Warning   FailedToUpdateEndpoint   endpoints/baekdusan-svc           Failed to update endpoint community/baekdusan-svc: Operation cannot be fulfilled on endpoints "baekdusan-svc": the object has been modified; please apply your changes to the latest version and try again

```

하지만 이러한 이벤트 정보는 지속적으로 저장되지 않습니다. 따라서 일정 시간이 지난 이벤트는 더 이상 정보를 확인할 수 없습니다. 

와탭 쿠버네티스는 사용자 클러스터 환경에서 발생한 쿠버네티스 이벤트 정보를 모두 수집하여 저장합니다. 그리고 사용자가 확인하고자 하는 대상에 따라 Pod, ReplicaSet, Deployment, Namespace 등의 이벤트 정보를 제공합니다.

<ImgLang img='k8s-container-event-k8s-all.png' desc='Kubernetes 이벤트' />

각 이벤트의 왼쪽 띠는 이벤트 타입을 나타냅니다. 회색은 <span class='k8s-normal'>Normal</span>, 주황색은 <span class='slow'>Warning</span> 상태를 의미합니다. 사용자 선택 대상에 따른 제공 쿠버네티스 이벤트는 다음과 같습니다.

| 선택 대상      | 제공 이벤트                                                        | 제공 연관 이벤트                                                         |
| -------------- | ------------------------------------------------------------------ | ------------------------------------------------------------------------ |
| 전체 (All)     | >                                                                  | 프로젝트 전체 이벤트                                                     |
| Namespace      | >                                                                  | Namespace 하위 전체 이벤트                                               |
| Node           | >                                                                  | 해당 Node 이벤트 또는 노드 내 Pod (컨테이너) 전체 이벤트                 |
| Deployment     | ① `kind`가 Deployment<br/>② `name`이 사용자 Deployment 이름과 일치 | `name`이 사용자 Deployment 이름으로 시작                                 |
| ReplicaSet     | ① `kind`가 ReplicaSet<br/>② `name`이 사용자 ReplicaSet 이름과 일치 | `name`이 사용자 ReplicaSet 이름으로 시작                                 |
| Pod (컨테이너) | ① `kind`가 Pod<br/>② `name`이 사용자 Pod 이름과 일치               | 해당 Pod가 소속된 Deployment 이름으로 시작 또는 ReplicaSet 이름으로 시작 |

와탭에 저장된 쿠버네티스 이벤트는 `message`, `namespace`, `kind`, `name`, `reason`, `type` 등의 항목으로 구성되어 있습니다.

## 와탭 이벤트

***WhaTap*** 이벤트는 와탭의 이벤트 설정을 통해 등록한 이벤트 조건에 따라 발생한 이벤트입니다. ***컨테이너 맵*** 상세 보기 화면의 ***이벤트*** 탭에서 사용자의 와탭 경고 설정에 따른 이벤트 목록을 확인할 수 있습니다.

<ImgLang img='k8s-container-event-wt-all.png' desc='WhaTap 이벤트' />

각 이벤트의 왼쪽 띠는 이벤트 레벨을 나타냅니다. 회색은 <span class='k8s-normal'>Info</span>, 주황색은 <span class='slow'>Warning</span>, 빨간색은 <span class='vslow'>Critical</span> 상태를 의미합니다. 사용자 선택 대상에 따른 제공 와탭 이벤트는 다음과 같습니다.

| 선택 대상  | 제공 이벤트                                      |
| ---------- | ------------------------------------------------ |
| 전체(All)  | 프로젝트 전체 이벤트                             |
| Namespace  | Namespace 하위 전체 이벤트                       |
| Node       | `onodeName`이 사용자 Node 이름과 일치            |
| Deployment | `deployment`가 Deployment 이름과 일치            |
| ReplicaSet | `replicaSetName`이 사용자 ReplicaSet 이름과 일치 |
| Pod        | `podName`이 사용자 Pod 이름과 일치               |
| Container  | `containerId`가 사용자 Container ID와 일치       |

와탭 이벤트는 `message`, `status`, `title`, `level` 등의 항목으로 구성되어 있습니다. 다음 예시 화면은 ***WhaTap Containter 이벤트*** 기록을 조회하고 있습니다.

<ImgLang img="k8s-container-event-wt.png" desc="쿠버네티스 와탭 이벤트" />

* ![number 1](/img/number-01.png) **상세 보기** 왼쪽 요약 정보 카드에서 조회하려는 대상을 선택하세요.

* ![number 2](/img/number-02.png) 요약 정보 목록에서 선택 대상의 정보를 확인하세요.

* ![number 3](/img/number-03.png) ***이벤트*** 탭에서 ***WhaTap*** 이벤트를 선택하세요. 

  > **상세 보기** 화면에 진입하기 전 ***컨테이너 맵*** 상단 뷰 옵션을 컨테이너 뷰로 지정해 ***Container 이벤트***를 조회할 수 있습니다.

* ![number 4](/img/number-04.png) 시간 선택자를 통해 조회하려는 시간을 선택하세요. 기본 설정은 ***1일*** 입니다.

* ![number 5](/img/number-05.png) 바 차트를 통해 지정한 시간대의 ***이벤트 수 추이***를 살펴보세요.

  > 지정 시간대 기준으로 이벤트 수 추이를 살펴보면 이벤트 2개가 카운트된 것을 확인할 수 있습니다. 

* ![number 6](/img/number-06.png) 이벤트 기록 목록에서 이벤트 기록 정보를 확인하세요. 목록 왼쪽 띠를 통해 이벤트별 레벨을 확인할 수 있습니다. 이벤트 메시지 및 태그 전체를 확인하려면 ![아래 화살표 아이콘](/img/ic-caret-down.svg) 아이콘을 선택하세요.

  > 이벤트 기록 목록에서 `컨테이너 Limit 기준 CPU 사용률이 85% 이상`, `GC 횟수 이상` <span class='slow'>Warning</span> 레벨 이벤트 2개를 조회할 수 있습니다. 


{/* 

1 그룹 선택 시 각 전체 이벤트

2 블록/마이크로 블록 선택 시
  k8s 이벤트: 파드 이벤트/연관 이벤트
  와탭 이벤트: 컨테이너 이벤트

3 k9s 이벤트/와탭 이벤트 비교 안내 필요
  e.g. 파드 이벤트/연관 이벤트(k8s 이벤트) 및 컨테이너 이벤트(와탭 이벤트) 요소 기술 필요

4 로그와 마찬가지로 로그 검색 이동 기능 추후 제거 예정

5 디폴트 조회 기준 1일?

6 이벤트 수 추이 차트(로그 트렌드 바 차트랑 다르게 바 선택 시 구간 확인 안됨?)


7월 10일 8시 57분부터 7월 11일 8시 57분까지 1일 기준으로 이벤트 수 추이를 살펴보면 11일 8시 48분 이벤트 2개가 카운트된 것을 확인할 수 있습니다.

다국어 이미지와 함께 예시 수정

*/}