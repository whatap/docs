---
id: log-java
title: Java
description: Java 애플리케이션에서 로그를 수집하는 방법을 안내합니다. 
keywords: [ 로그 모니터링, Java ]
---

자바 애플리케이션에서 로그를 수집하려면 다음 3단계를 모두 완료해야 합니다.

## 에이전트 업데이트

자바 에이전트 2.1.1 버전부터 가능합니다. 업데이트 방법은 [다음 문서](../java/update-agent)를 참조하세요.

## 에이전트 설정 확인

홈 화면 > 프로젝트 선택 > ***로그*** > ***로그 설정***

와탭 모니터링 서비스 초기 화면에서 프로젝트를 선택한 다음 프로젝트 메뉴 하위에 ***로그*** > ***로그 설정*** 메뉴를 선택하세요. ***로그 모니터링 시작하기*** 섹션의 ***에이전트 설정 확인*** 탭의 안내를 참조해 진행하세요.

1. 프로젝트 메뉴 하위에 ***관리*** > ***에이전트 설정*** 메뉴를 선택하세요.

1. ***옵션 작성*** 탭에서 ***직접 입력***을 선택하세요. 입력창에 다음과 같이 `logsink_enabled=true` 옵션을 추가하세요. 

    <ImgLang img='log-agent-conf.png' desc='로그 에이전트 설정'/>

1. 로그 모니터링을 적용하기 위해 애플리케이션을 다시 시작하세요.

### 주요 옵션

* **hooklog_enabled** <span class='type'>Boolean</span>

  기본값 `false`

  Log 라이브러리를 hooking 하여 로그 모니터링을 활성화합니다.  

  :::caution

  애플리케이션 실행 전에 *whatap.conf*에 본 옵션이 활성화되어 있어야 이후 로그 모니터링의 On/Off를 `logsink_enabled` 설정을 통해 동적으로 제어할 수 있습니다.
  애플리케이션 실행 전에 `logsink_enabled` 옵션이 `true`로 설정된 경우 본 옵션을 별도로 설정하지 않아도 로그 모니터링이 가능합니다.
  
  :::

  :::note
  
  앞으로 로그 모니터링을 활용할 가능성이 있다면 사전에 본 옵션을 꼭 설정할 것을 권장합니다.
  
  :::

* **hooklog_custom_methods**

  사용자 정의 로그를 등록합니다. 임의의 로그 프레임워크 내용을 전달합니다. 사이트에서 개별로 만든 로그 모듈의 로그를 추적할때 사용하세요.
  
  ```java title='Java'
  package io.home.test;

  public class MyLog {  
    public void customLog(String log) { ... }
  }
  ```

  ```ini title='whatap.conf'
  hooklog_custom_methods=io.home.test.MyLog.customLog
  ```

* **logsink_enabled** <span class='type'>Boolean</span>

  기본값 `false`

  Log 모니터링 기능을 On/Off 합니다.

  :::caution

  애플리케이션 실행 전에 *whatap.conf*에 `hooklog_enabled` 옵션이 설정되어 있으면 본 옵션을 통해 로그 모니터링의 On/Off를 동적으로 제어할 수 있습니다.
  
  :::

* **logsink_trace_enabled** <span class='type'>Boolean</span>

  기본값 `false`

  Log에 트랜잭션 ID를 삽입하여, 트랜잭션 트레이스의 로그 탭을 노출할지 여부를 지정합니다.  

## 로그 모니터링 활성화

홈 화면 > 프로젝트 선택 > ***로그*** > ***로그 설정***

***로그 모니터링 시작하기*** 섹션의 ***로그 모니터링 활성화*** 탭에서 토글 버튼으로 와탭 로그 모니터링을 활성화 또는 비활성화 할 수 있습니다.

import Logjavastart from "../common-items/_log-java-start.mdx";

<Logjavastart />

import Logactivenote from "../common-items/_log-active-note.mdx";

<Logactivenote />