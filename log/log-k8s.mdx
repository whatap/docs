---
id: log-k8s
title: Kubernetes
description: 쿠버네티스 컨테이너와 컨테이너 내부 애플리케이션의 로그를 수집하는 방법을 안내합니다.
tags: [ 로그 모니터링, 쿠버네티스 ]
---

쿠버네티스 컨테이너와 컨테이너 내부 애플리케이션의 로그를 수집하려면 다음을 확인하세요. 

## 에이전트 업데이트

쿠버네티스 에이전트 1.1.35 버전부터 가능합니다. 업데이트 방법은 [다음 문서](../kubernetes/agent-update)를 참조하세요.

## 에이전트 설정 확인

홈 화면 > 프로젝트 선택 > ***로그*** > ***로그 설정***

와탭 모니터링 서비스 초기 화면에서 프로젝트를 선택한 다음 프로젝트 메뉴 하위에 ***로그*** > ***로그 설정*** 메뉴를 선택하세요. ***로그 모니터링 시작하기*** 섹션의 ***에이전트 설정 확인*** 탭의 안내를 참조해 진행하세요.

### 컨테이너 로그 수집 활성화

![쿠버네티스 로그 노드 에이전트 설정](/img/log-k8s-node-agent-setting.png)

1. ***에이전트 설정 확인*** 탭 하단의 ![number 1](/img/number-01.png) ![에이전트 설정 메뉴 아이콘](/img/ic-agent.svg) ***에이전트 설정*** 버튼을 선택하세요. 

1. ***노드 에이전트 설정*** 메뉴로 이동 후 ![number 2](/img/number-02.png) ***옵션 작성*** 창에서 ***직접 입력***을 선택하세요.

1. 다음의 에이전트 설정 명령어의 ***키*** `logsink_enabled` 와 ***값*** `true`를 ![number 3](/img/number-03.png) 입력창에 입력하세요.

    ```bash
    logsink_enabled=true 
    ```

1. ![number 4](/img/number-04.png) ***적용*** 버튼을 선택하세요. 쿠버네티스 컨테이너에 로그를 수집할 수 있습니다.

### 컨테이너 내부 애플리케이션 로그 수집 활성화

Java 2.1.1, Python 1.2.2 버전부터 가능합니다. 쿠버네티스 컨테이너 상에서 실행되는 애플리케이션의 로그를 수집할 수 있도록 다음을 참조하세요. 

![쿠버네티스 로그 애플리케이션 에이전트 설정](/img/log-k8s-app-agent-setting.png)

1. ***에이전트 설정 확인*** 탭 하단의 ![number 1](/img/number-01.png) ![에이전트 설정 메뉴 아이콘](/img/ic-agent.svg) ***에이전트 설정*** 버튼을 선택하세요. 

1. ***애플리케이션 에이전트 설정*** 메뉴로 이동 후 ![number 2](/img/number-02.png) ***옵션 작성*** 창에서 ***직접 입력***을 선택하세요.

1. 다음의 에이전트 설정 명령어의 ***키*** `logsink_enabled` 와 ***값*** `true`를 ![number 3](/img/number-03.png) 입력창에 입력하세요.

    ```bash
    logsink_enabled=true 
    ```

1. ![number 4](/img/number-04.png) ***적용*** 버튼을 선택하세요. 쿠버네티스 컨테이너 내 애플리케이션의 로그를 수집할 수 있습니다.

:::note

* Java 애플리케이션 로그 수집에 대한 자세한 내용은 [다음 문서](log-java)를 참조하세요.

* Python 애플리케이션 로그 수집에 대한 자세한 내용은 [다음 문서](log-python)를 참조하세요.

* Golang 애플리케이션 로그 수집에 대한 자세한 내용은 [다음 문서](log-go)를 참조하세요.

:::

## 로그 모니터링 활성화

홈 화면 > 프로젝트 선택 > ***로그*** > ***로그 설정***

***로그 모니터링 시작하기*** 섹션의 ***로그 모니터링 활성화*** 탭에서 토글 버튼으로 와탭 로그 모니터링을 활성화 또는 비활성화 할 수 있습니다. 

{@include: ../common-items/_log-java-start.mdx} 

{@include: ../common-items/_log-active-note.mdx} 

## 쿠버네티스 로그 모니터링 카테고리 안내

쿠버네티스 관련 다양한 로그를 확인할 수 있습니다. 와탭 쿠버네티스에서 제공하는 모니터링 카테고리는 다음과 같습니다. 설정에 따라 중복된 로그 내용이 저장될 수 있으니 반드시 중복 여부를 확인하세요.

| 카테고리 | 설명 |
| -- | -- |
| `#K8sEvent` | <ul><li>쿠버네티스에서 발생하는 이벤트가 저장된 로그</li><li>사용자 설정과 무관하게 기본 생성 </li></ul> |
| `#WhatapEvent` | <ul><li>와탭 이벤트 설정에 의해 발생한 이벤트가 저장된 로그</li><li>사용자 설정과 무관하게 기본 생성</li></ul> |
| `containerStdout` | <ul><li>컨테이너 Standard Out 로그</li><li>사용자 설정 시 생성</li><li>노드 에이전트에 `logsink_enabled=true` 설정 추가 시</li></ul>
| `AppLog` | <ul><li>컨테이너 내 애플리케이션 로그</li><li>사용자 설정 시 생성</li><li>애플리케이션 에이전트에 `logsink_enabled=true` 설정 추가 시</li></ul> |
