---
id: log-process
title: 로그 타임스탬프 기준
description: 로그 타임스탬프 기준 시간에 대해 안내합니다.
tags: [ 로그 모니터링, 로그 처리, 로그 타임스탬프 ]
---

<!-- >

와탭의 로그 모니터링은 대량의 로그 생성부터 수집, 저장, 처리 및 폐기까지 로그 생명 주기 전 과정을 통합 모니터링합니다.

-->

본 문서는 로그 모니터링 과정 중 **처리**(Processing) 단계에서 로그 ***타임스탬프*** 기준 시간에 대해 안내합니다.

## 타임스탬프 기준 시간

<ImgLang img="log-timestamp.png" desc="로그 타임스탬프 기준 시간 변경" />

로그 ***타임스탬프*** 기준 시간이 **와탭 에이전트가 로그를 수집한 시간**에서 **와탭 수집 서버의 로그 처리 시간**으로 변경되었습니다.

일반적인 상황에서는 변경 전과 큰 차이없이 기존 방식과 동일하게 로그를 검색할 수 있습니다. 변경 후 다음의 경우에도 사용자의 추가적인 수정 없이 로그 모니터링을 일관적으로 사용할 수 있습니다.

* NTP 사용 시, 모니터링 대상의 서버 시간이 표준 시간보다 과거 또는 미래 시간으로 설정되어있는 경우

* NTP 미사용 시, 2개 이상인 모니터링 대상의 서버 시간이 서로 다른 경우

### 타임셀렉터 조회 범위 지정

타임스탬프 기준 시간 변경으로 타임셀렉터 역시 **와탭 수집 서버 시간**을 기준으로 동작합니다. 이에 따라 **에이전트 수집 시간**과 **와탭 수집 서버 시간**에 차이가 생겨 조회 범위에 포함되지 않는 로그가 발생할 수 있습니다. 이 경우 조회 범위를 넓게 지정 시 조회가 가능합니다.

### 로그 트렌드

***로그 트렌드*** 추이 차트의 X축은 최소 1분 기준입니다. 로그 기준 시간이 변경된 후에도 차트를 통한 전체적인 추이 파악에는 영향을 주지 않습니다.

### 로그 검색 

로그 메시지에 로그 생성 시간을 나타내는 인덱스 `agenttime`이 추가되었습니다. `agenttime` 값을 통해 에이전트 수집 시간을 확인하세요.

:::note 

UTC를 따르는 **와탭 수집 서버 시간**은 사용자 브라우저 시간에 따라 변환해 표기합니다.

> 예시, 한국의 경우 UTC+9 기준으로 시간을 표기합니다. 

:::

## 단계별 기준 시간

로그는 다음의 3 단계를 거쳐 수집됩니다. 각 단계마다 서로 다른 기준 시간이 사용될 수 있습니다. 

<!-- > 
모니터링 대상에서 로그 발생 -> 에이전트 수집 -> 와탭 수집 서버 수집
이미지 만들기*
-->

1. **로그 발생 시간**

    모니터링 대상의 시간 또는 Logging 정책에 따라 편차가 발생할 수 있습니다. 

1. **에이전트 수집 시간** 

    사용 중인 상품 또는 에이전트가 로그를 수집하는 방법 및 생성되는 로그에 따라 편차가 발생할 수 있습니다. 

    * **Application**

      설정에 따라 로그 라이브러리 또는 로그 파일에서 실시간에 가깝게 로그를 수집합니다.

      :::note 

      로그 라이브러리는 Java 상품의 경우만 지원합니다. 

      :::

    * **Server** 

      로그 파일에서 실시간에 가깝게 로그를 수집합니다. 

    * **AWS Log**

      AWS Resource 정책에 따라 준 실시간 또는 수 분마다 로그를 수집합니다. 

1. **와탭 수집 서버 시간**

    모니터링 대상 또는 로그 생성 방법과 상관없이 수집 서버에 저장되는 시간을 사용합니다. 

**와탭 에이전트 수집 시간**과 **와탭 수집 서버 시간**은 큰 차이가 있습니다. 모니터링 대상의 서버 시간을 확인하세요. 모니터링 대상의 서버 시간이 과거 또는 미래 시간으로 설정된 경우 에이전트 수집 시간에 영향을 끼칩니다.



<!-- 

로그 모니터링 과정은 **수집**, **처리**, **저장**, **조회** 단계로 구성됩니다. 

-->