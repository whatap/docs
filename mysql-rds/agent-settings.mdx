---
id: agent-settings
title: 설정하기
description: 에이전트 설정 방법에 대해 알아봅니다.
tags: [ MySQL RDS, 데이터베이스, 데이터베이스 모니터링 ]
---

MySQL RDS에서는 기존 [MySQL 상품](../mysql/agent-settings)과 달리 에이전트가 와탭 자원에 있기 때문에 와탭 모니터링 서비스 화면에서 직접 설정할 수 있습니다. 홈 화면에서 프로젝트를 선택한 다음 ***관리*** > ***에이전트 설정*** 메뉴를 선택하세요. 에이전트 옵션을 설정할 수 있습니다.

:::note

***에이전트 설정*** 메뉴는 **수정** 권한을 가진 사용자만 옵션을 설정할 수 있습니다.

:::

## 에이전트 설정 적용하기

![에이전트 설정](/img/mysql-rds-agent-settings.png)

1. ***에이전트 목록***에서 에이전트 설정을 변경할 에이전트를 선택하세요.

1. ***옵션 작성***에서 ***옵션 선택***을 선택하세요.

1. 원하는 옵션을 선택하세요.

    옵션을 추가하려면 ***추가하기*** 버튼을 클릭한 다음 옵션을 선택하세요.

1. 화면 오른쪽 위에 ***적용*** 버튼을 선택하세요. 

에이전트를 재기동하면서 변경한 사항을 적용합니다.

:::note

추가한 옵션을 삭제하려면 옵션 이름 옆에 ![삭제 아이콘](/img/ico-trash.svg) 버튼을 선택하세요.

:::


## 에이전트 설정 옵션

데이터베이스 서버의 정보를 수집하는 에이전트에서 설정할 수 있는 옵션에 대한 설명입니다. 

* **deadlock_interval** <span class='type'>Int</span><br/>기본값 `60`<br/>
deadlock 정보를 가져오는 간격(단위: 분)을 설정합니다. deadlock 정보는 설정한 간격 동안 발생했던 가장 마지막의 deadlock 정보만을 가져옵니다.

* **tables_hour** <span class='type'>Int</span><br/>기본값 `20`<br/>
테이블 정보를 저장하기 위해 수집하는 시각(UTC기준)을 설정합니다. 기본값으로 UTC 기준 20시에 수집하며 한국 시간으로 새벽 5시입니다.

* **tables_min_row** <span class='type'>Int</span><br/>기본값 `10000`<br/>
테이블 정보를 수집할 때 설정한 값보다 작은 row 수를 가진 테이블 정보는 수집하지 않습니다.

* **replication_name** <span class='type'>String</span><br/>
replication 이름을 설정하면 동일한 `replication_name`을 갖는 DB 사이에 Master/Slave 관계가 있는 것으로 간주합니다.

* **skip_whatap_session** <span class='type'>Int</span><br/>기본값 `0`<br/>
`1`을 설정하면 와탭에서 수집하기 위한 query가 동작하는 세션을 active session list에 표시하지 않습니다.(기본값: 0)

* **skip_sys_session** <span class='type'>Int</span><br/>기본값 `1`<br/>
`2`를 설정하면 sys 세션(root,system user,event_scheduler)이 active session에서 보이지 않습니다. `1`을 설정하면 sys 세션이 보이지만 total runtime에서는 제외합니다.

## 에이전트 설정 내보내기 & 가져오기

에이전트 설정 내용을 json 파일 형식으로 저장해 다른 에이전트에 적용할 수 있습니다.

1. 에이전트 설정을 완료했다면 화면 오른쪽 위에 ![내보내기 아이콘](/img/ico-export.svg) 버튼을 선택하세요.

1. 선택한 에이전트의 이름으로 파일명을 저장합니다. 예를 들어 에이전트 이름이 **mysqlrds**이면 json 파일은 **mysqlrds.json**으로 저장합니다.

1. 에이전트 목록에서 다른 에이전트를 선택하세요.

1. 화면 오른쪽 위에 JSON ![가져오기 아이콘](/img/ico-import.svg) 버튼을 선택하세요.

json 파일을 통해 가져온 에이전트 설정을 확인하세요.


## 초기화

옵션을 추가하거나 변경 중인 내용을 초기화하려면 화면 오른쪽 위에 ![새로 고침 아이콘](/img/ico-refresh.svg) 버튼을 선택하세요.


## 에이전트 목록 필터링

프로젝트에 연결한 에이전트가 많을 경우 ***에이전트 목록***에서 검색 또는 정렬 방식을 선택해 원하는 에이전트를 찾을 수 있습니다.

* ***에이전트 검색*** 텍스트 상자에 찾으려고 하는 에이전트 이름을 입력하세요. 입력한 텍스트와 일치하는 에이전트 목록을 자동으로 갱신합니다.

* DB 연결을 성공한 에이전트 목록만 확인하려면 ***활성화된 에이전트***의 체크박스를 선택하세요. 

* 에이전트 목록을 이름, 포트, 에이전트 버전 등의 기준으로 정렬하려면 ***컬럼 선택***을 선택하세요. 선택한 컬럼을 기준으로 에이전트 목록을 정렬합니다. 정렬 순서를 변경하려면 테이블 헤더를 선택하세요.

* 위 설정한 기준을 초기화하려면 ***에이전트 목록*** 옆에 ![새로 고침 아이콘](/img/ico-refresh.svg) 버튼을 선택하세요.