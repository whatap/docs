---
id: agent-log
title: 에이전트 로그 설정
description: 에이전트 로그의 옵션을 설정할 수 있습니다.
keywords: [ Node.js, 로그 ]
---

## 로그 관리 옵션

애플리케이션 서버가 실행되면 모니터링 정보를 수집합니다. 수집한 정보는 로그 파일에 저장합니다.

* **log_rotation_enabled** <span class='type'>Boolean</span>

  기본값 `true`

  에이전트 로그 파일을 날짜 별로 저장하는 기능을 활성화합니다. 로그 파일명은 *whatap-`yyyymmdd`.log* 형태로 저장합니다. 값이 `false`이면 로그 파일명은 *whatap.log* 형태로 저장합니다.

* **log_keep_days** <span class='type'>Int</span>

  기본값 `7`

  로그 파일 보관 기간을 설정합니다. `log_rotation_enabled` 옵션의 값이 `true`인 경우에만 동작합니다.

* **log_datasource_lookup_enabled** <span class='type'>Boolean</span>

  기본값 `true`

  InitialContext Lookup 시 DataSource인 경우 로그를 기록하는 기능을 활성화합니다.

* **log_root** <span class='type'>String</span>

  에이전트 로그 파일의 경로를 설정할 수 있습니다. 설정된 경로 하위에 *logs* 폴더를 생성하며 해당 폴더에 whatap 로그 파일이 생성됩니다.

  다음 예제와 같이 에이전트 옵션을 설정하면 whatap 로그 파일의 생성 경로는 다음과 같습니다.

  > <em>/Users/sample_user/workspace/nodejs_application/whatap_logs/logs/</em>

  ```ini title="whatap.conf"
  log_root=/Users/sample_user/workspace/nodejs_application/whatap_logs/
  ```

## 로그싱크(LogSink) 설정

[Node.js 에이전트 0.5.1 버전](../release-notes/nodejs/nodejs-0_5_1) 이상부터는 애플리케이션 서버를 통합 모니터링하는 로그싱크(LogSink) 기능을 제공합니다.

- **logsink_enabled** <span class='type'>Boolean</span>

  기본값 `false`

  로그 모니터링 활성화 여부를 설정합니다.

  :::note

  * 로그 모니터링 활성화 방법에 대한 자세한 내용은 [다음 문서](../log/log-nodejs)를 참조하세요.

  * 로그 모니터링에 대한 자세한 내용은 [다음 문서](../log/learn-main-menu)를 참조하세요.

  :::

- **logsink_trace_txid_enabled** <span class='type'>Boolean</span>

  기본값 `true`

  로그에 트랜잭션 ID를 삽입하여 <Cmdname sid="TTL06209" className="uitext" />의 <Cmdname sid="TTL06128" className="uitext" /> 탭 노출 여부를 설정합니다.

  :::note

   <Cmdname sid="TTL06209" className="uitext" />의 <Cmdname sid="TTL06128" className="uitext" /> 탭에 대한 자세한 내용은 [다음 문서](dashboard-hitmap-trace#anlaysis-trace-transaction-log)를 참조하세요.

  :::

- **logsink_limit_content_enabled** <span class='type'>Boolean</span>

  기본값 `true`

  로그 메시지의 최대 크기 제한 여부를 설정합니다.

- **logsink_limit_content_length** <span class='type'>Number</span>

  기본값 `10,000`

  로그 메시지의 최대 길이를 설정합니다. 이 옵션은 `logsink_limit_content_enabled` 옵션의 값이 `true`로 설정되었을 때만 적용됩니다.