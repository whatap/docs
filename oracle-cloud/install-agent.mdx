---
id: install-agent
title: 설치하기
description: NCloud 아이템 설치를 안내합니다.
tags: [ 설치하기, Oracle Cloud Monitor, 클라우드 ]
---

import TR from '@site/src/components/TR';
import ProdImg from '@site/src/components/ChangeImgName.js';

와탭 Oracle Cloud Monitor는 API 연동을 통해 메트릭을 주기적으로 수집합니다. 수집을 원하는 서비스에 해당하는 Oracle Cloud Monitor 네임스페이스를 5분 기간으로 원하는 스탯을 취사선택해 수집합니다. 모니터링 시작 시 모든 리전의 사용자 자원을 검색하여 원클릭으로 모니터링을 시작할 수 있습니다. Oracle Cloud API 등록 시 필요한 ssh 공개 키를 자동 생성하여 안전하고 편리하게 사용할 수 있습니다. 

import Createprojectcloud from "../getting-started/_create-project-cloud.mdx";

<Createprojectcloud />

## 모니터링 절차

1. Oracle Cloud 인증 정보를 입력하세요.
1. Oracle Cloud Monitoring 네임스페이스 및 수집 주기를 선택하세요.
1. 리전, 메트릭, 스탯 등을 선택하세요.

:::note

설치 후 사용량에 따라 와탭 요금과는 별개로 클라우드에서 추가 비용이 발생할 수 있습니다. 설치 전 사용 중인 클라우드 서비스의 가격 정책을 [다음 문서](https://www.oracle.com/kr/cloud/price-list/)에서 확인하세요.

:::

### 인증 정보 입력

<ImgLang img='oci-install.png' desc='OCI Monitor' />

1. **RSA Public Key**를 생성 후 메모장에 복사하세요. 

    :::note

    이후 ***설치 안내*** 화면에서 ***RSA Public Key 생성*** 버튼을 선택하면 생성된 KEY를 언제든지 확인할 수 있습니다.
    
    :::

1. Oracle Cloud 콘솔 Identity & Security 메뉴로 이동하세요. 

1. Identity & Security 메뉴 하단 Groups를 선택해 모니터링에 사용할 **Group**을 신규 생성하거나 선택하세요.

1. Identity & Security 메뉴 하단 Policies를 선택해 모니터링용 **Policy**를 생성하세요.

    * Create Policy를 선택해 이름, Descrition 및 Compartment를 입력하세요.
    * Policy Builder에서 Show Manual Editor를 선택해 아래 권한을 입력 후 Create를 선택하세요.
        > * Allow group `{그룹}` to read metrics in compartment `{컴파트먼트}`
        > * Allow group `{그룹}` to inspect metrics in compartment `{컴파트먼트}`

1. Identity & Security 메뉴 하단 Users를 선택해 **User**를 생성하거나 선택하세요.

    * Create User를 선택해 신규 User를 생성하거나 User를 선택하세요.
    * User Details 화면에서 해당 유저를 3에서 선택한 Group에 추가하세요.
    * 왼쪽 하단의 API Keys를 선택하세요.
    * Add API Key 버튼을 선택하세요.
    * 라디오 버튼의 Paste Public Key를 선택하여 2단계에서 받은 **RSA Public Key**를 입력하세요.
    * 추가 완료 시 **User**, **Tenancy** 정보를 화면에서 확인할 수 있습니다. 이 정보를 메모장에 복사하세요.

1. Identity & Security 메뉴 하단 Compartments를 선택해 모니터링할 Compartment의 **OCID**를 확인 및 메모장에 복사하세요.

1. 와탭 ***관리*** > ***에이전트 설치*** 화면으로 돌아와 5에서 확인한 ***Tenancy***와 ***User*** 및 6에서 확인한 ***CompartmentID***를 입력하세요.

1. ***확인*** 버튼을 선택하세요.

### 네임스페이스 및 수집 주기 선택

import Namespacecollect from "../common-items/_namespace-collect.mdx";

<Namespacecollect />  

#### 와탭 수집 주기

import Collectingperiod from "../common-items/_collecting-period.mdx";

<Collectingperiod />

#### 네임스페이스

* API Gateway
* Bastion
* Big Data
* Blockchain Platform
* Block Volume
* Events
* Compute
* Compute Infrastructure Health
* ComputeAgent
* Data TransferData Flow
* Database Migration
* Data TransferDatacatalog
* Data TransferDataintegration
* DevOpsDevops Build
* DevOpsDevops Code Repos
* DevOpsDevops Deployment
* Digital Assistant
* DNS
* Email Delivery
* Functions
* NetworkingFastconnect
* File Storage
* GoldenGate
* Health Checks
* ComputeNstancepools
* IntegrationNtegration
* Java Management
* VaultKms Keys
* Load Balancing
* Logging Analytics
* Management Agent
* IntegrationMonitoring Metrics
* NoSQL
* Notifications
* Object Storage
* Container Engine for Kubernetes
* Operations Insights
* OS Management
* VaultSecrets
* Service Connector Hub
* NetworkingService Gateway
* Streaming
* NetworkingVcn
* NetworkingVpn
* Vulnerability Scanning
* WAF

### 리전, 메트릭스, 스탯 선택

import Regionmetricstats from "../common-items/_region-metric-stats.mdx";

![number 2](/img/number-02.png) <Regionmetricstats />

<ImgLang img='oci_region.png' desc='Oracle Cloud Monitor - Region, Metric, Stats' />

## 데이터 수집 비활성화 및 서비스 초기화{#data-deactivation}

<ImgLang img='cloud-deact.png' desc='비활성화 및 서비스 초기화 sc' />

* ![지시선 a](/img/char-a.svg) 수집 토글 ![아이콘](/img/ic-toggle-off.svg) 비활성화 시 데이터 수집이 중지됩니다.

* ![지시선 b](/img/char-b.svg) ***역할(Role) 변경*** 버튼을 선택해 ***에이전트 설치*** 화면에서 ![지시선 c](/img/char-c.svg) ***서비스 초기화*** 선택 시 메트릭을 수집 중인 모든 서비스를 비활성화 합니다.

* 완전한 비용 발생 방지를 위해서는 다음을 제거해야 합니다. 

    * Oracle Cloud 콘솔 Identity & Security 메뉴에서 도메인과 사용자 선택 후 API Keys의 Fingerprint를 제거하세요.