---
id: agent-log
title: 에이전트 로그 설정
description: PHP 에이전트 로그의 위치와 옵션을 설정할 수 있습니다.
tags:
    - PHP
    - 에이전트 로그
    - 설정하기
    - 애플리케이션
---

애플리케이션 서버가 실행되면 모니터링 정보를 수집합니다. 수집한 정보는 로그 파일에 저장합니다. 

## 로그 설정

* **whatap.log_keep_days** <span class='type'>Day</span>

  기본값 `7`

  로그 파일 보관 기간을 설정합니다.

## 로그싱크(LogSink) 설정

로그 데이터를 수집합니다.

### 기본 설정

* **whatap.logsink_enabled** <span class='type'>Boolean</span>

  기본값 `false`

  값이 `true`이면 로그 데이터를 수집합니다.

* **whatap.logsink_zip_enabled** <span class='type'>Boolean</span>

  기본값 `true`

  값이 `true`이면 로그 데이터를 압축해서 전송합니다. 기본은 GZIP 입니다.

### 로그 파일 설정

* **whatap.logsink.files** <span class='type'>String</span>

  전체 파일 경로와 파일명을 설정합니다. 콤마(,)로 여러 파일을 지정할 수 있습니다. 

### 예시

* **기본 설정**

  ```ini title='whatap.ini'
  whatap.logsink_enabled=true
  whatap.logsink_zip_enabled=true
  ```

* **Apache error log 및 access log 설정**

  ```ini title='whatap.ini'
  whatap.logsink_enabled=true
  whatap.logsink_zip_enabled=true
  whatap.logsink.files=/etc/httpd/logs/error_log, /etc/httpd/logs/access_log
  ```

:::tip

로그 모니터링 파일 이름에 날짜 형식의 변수를 사용할 수 있습니다. Python `strftime()` 사용 기준으로 적용하세요. 

> 예, 20240101: `%Y%m%d`

```ini title="whatap.ini"
whatap.logsink.files=/etc/httpd/logs/customlog-%Y%m%d
```

이 기능은 PHP 에이전트 2.7.2 버전 이상에서 지원합니다. 

:::