---
id: instance-monitoring
title: 인스턴스 모니터링
description: 인스턴스 모니터링 메뉴에서는 데이터베이스 서버의 핵심 지표들에 대한 상세 정보를 실시간으로 확인할 수 있습니다.
tags: [ PostgreSQL, 인스턴스, 대시보드, 데이터베이스 모니터링  ]
---

:::note

이 문서는 PostgreSQL 모니터링 V2를 기준으로 작성되었습니다. PostgreSQL 모니터링 V1 문서는 [다음 문서](../postgresql-v1/instance-monitoring)를 참조하세요.

:::

{@include: ../common-items/_db-instance-monitoring-desc.mdx}

## 기본 화면 안내

<ProdImg img='db-instance-monitoring.png' desc='인스턴스 모니터링' />

### ![](/img/number-01.png) 조회 시간 및 대상 선택하기

기본적으로 지난 10분간의 수집 데이터를 실시간으로 조회합니다. ***시간***과 ***인스턴스*** 항목에서 원하는 시간과 대상을 선택하면 수집 데이터가 ![숫자 2](/img/number-02.png) 그래프 차트와 ![숫자 4](/img/number-04.png) ***액티브 세션*** 테이블에 자동 반영됩니다.

* 과거 데이터를 조회하려면 녹색 버튼을 클릭한 다음 원하는 조회 시간을 선택하세요. 최대 지난 3주까지의 데이터를 조회할 수 있습니다. 

* 임의의 날짜와 시간을 조회하려면 시계 표시 부분을 선택하세요. 날짜와 시간 텍스트 영역을 클릭하면 날짜와 시간을 선택할 수 있는 옵션이 나타납니다. 다시 실시간으로 데이터를 조회하려면 ![실시간 아이콘](/img/ico-play-time.svg) 버튼을 선택하세요.

* 다른 인스턴스의 데이터를 조회하려면 ***인스턴스***를 클릭한 다음 원하는 데이터베이스 서버의 이름을 선택하세요.


### ![](/img/number-02.png) 그래프 차트 위젯 영역

![숫자 3](/img/number-03.png) ***Default*** 프리셋으로 저장한 16가지 지표를 그래프 차트 형식의 위젯으로 표시합니다. 가로축은 시간, 세로축은 각 지표의 수치입니다. 각 지표의 의미를 알고 싶다면 이름 옆에 <span class='mark'>i</span> 버튼을 선택하거나 [다음 문서](metrics-data-list)를 참조하세요.

* 다른 위젯과 위치를 변경하려면 위젯의 윗 부분을 선택한 상태에서 드래그하세요. 단 위젯의 크기는 변경할 수 없습니다.

* 위젯에서 차트의 특정 시간을 선택하면 **실시간 조회** 모드를 중지하고 선택한 시간에 수행한 세션 정보를 ![숫자 4](/img/number-04.png) ***액티브 세션*** 테이블에 표시합니다. 이후 ***액티브 세션*** 테이블 위에는 5초 단위로 데이터를 조회할 수 있는 버튼이 나타납니다.

  ![](/img/db-instance-monitoring-seltime-postgresql.png)

  :::note

  * 선택한 시간은 ***액티브 세션*** 테이블 오른쪽 위에서 확인할 수 있습니다.

  * ***액티브 세션*** 테이블 목록에 글자 색상은 검정색 → <span class='slow'>주황색</span> → <span class='vslow'>빨강색</span> 순으로 세션의 수행 속도가 느린 것을 의미합니다.

  :::

### ![](/img/number-04.png) 액티브 세션 / 락 트리 / 프로세스 정보

실시간 수행 중인 액티브 세션 및 락 트리, 프로세스 정보를 조회할 수 있습니다. 위젯에서 차트의 특정 시간을 선택하면 **실시간 조회** 모드를 중지하고 선택한 시간에 수행한 세션 정보를 테이블에 표시합니다. 테이블 위에 5초 단위로 데이터를 조회할 수 있는 시간 선택 버튼이 나타납니다.

{@include: ../common-items/_db-dashboard-activesession-desc.mdx}

{@include: ../common-items/_db-dashboard-locktree-desc.mdx}

{@include: ../common-items/_db-dashborad-process-info-desc.mdx}

:::note

테이블 목록에 글자 색상은 검정색 → <span class='slow'>주황색</span> → <span class='vslow'>빨강색</span> 순으로 세션의 수행 속도가 느린 것을 의미합니다.

:::


## 지표 선택하기

위젯에 지표 그래프를 추가하거나 교체하려면 위젯의 오른쪽 위에 ![설정 아이콘](/img/ico-setting.svg) 버튼을 선택하세요. ***Metric Select*** 창이 나타납니다. 원하는 설정을 완료한 다음 ***저장*** 버튼을 선택하세요.

<ProdImg img='db-metrics-select.png' desc='지표 선택'/>

* ![숫자 5](/img/number-05.png) ***미리보기***: 선택한 지표에 대한 그래프를 미리 볼 수 있습니다.

* ![숫자 6](/img/number-06.png) ***제목***: 위젯의 이름을 입력하세요.

* ![숫자 8](/img/number-08.png) ***추천 메트릭스*** / ***모든 메트릭스***: ***추천 메트릭스***를 선택하면 데이터베이스 모니터링에서 자주보는 지표를 목록으로 표시합니다. 목록에 표시된 지표를 위젯의 지표로 변경하거나 추가할 수 있습니다.

* ![숫자 9](/img/ic-number-09.svg) 영역에서 지표의 추이를 그래프로 확인하고 위젯을 추가하거나 변경할 수도 있습니다. 원하는 탭을 선택해 카테고리에 따라 지표 목록을 간추릴 수 있습니다.


### 지표 추가하기

하나의 위젯에 두 가지 이상의 지표를 추가할 수 있습니다. 최대 5개까지 추가할 수 있습니다.

1. 지표를 추가할 위젯의 오른쪽 위에 ![설정 아이콘](/img/ico-setting.svg) 버튼을 선택하세요.

1. ***Meric Select*** 창이 나타나면 ![숫자 8](/img/number-08.png) 메트릭스 목록 또는 [숫자 9](/img/ic-number-09.svg) 그래프 목록에서 추가할 지표의 오른쪽에 ![추가 아이콘](/img/ico-add.svg) 버튼을 선택하세요.

1. 지표를 더 추가하려면 **2**의 과정을 반복하세요.

1. 위젯을 쉽게 식별할 수 있도록 ![숫자 6](/img/number-06.png) ***제목***을 변경하세요.

1. 화면 오른쪽 아래에 ***저장*** 버튼을 선택하세요.

지표를 추가한 위젯에 추가한 지표의 수만큼 차트가 생성됩니다. 위젯의 이름 옆에 위치한 <span class='mark'>i</span> 버튼을 선택하면 추가한 지표의 이름과 내용을 확인할 수 있습니다. 또한 차트 위로 마우스를 오버하면 툴팁을 통해 수치를 확인할 수 있습니다.

### 지표 변경하기

위젯의 지표를 다른 지표로 변경할 수 있습니다.

1. 지표를 변경할 위젯의 오른쪽 위에 ![설정 아이콘](/img/ico-setting.svg) 버튼을 선택하세요.

1. ***Meric Select*** 창이 나타나면 ![숫자 7](/img/number-07.png) 영역에서 변경하려는 지표를 선택하세요.

1. ![숫자 8](/img/number-08.png) 메트릭스 목록 또는 ![숫자 9](/img/ic-number-09.svg) 그래프 목록에서 원하는 지표를 선택하세요.

1. ![숫자 7](/img/number-07.png) 영역에서 선택한 지표의 이름이 변경된 것을 확인하세요.

1. 화면 오른쪽 아래에 ***저장*** 버튼을 선택하세요.

### 지표 삭제하기

위젯에 여러 개의 지표를 설정한 상태에서 불필요한 지표를 삭제할 수 있습니다.

1. 지표를 삭제할 위젯의 오른쪽에 위에 ![설정 아이콘](/img/ico-setting.svg) 버튼을 선택하세요.

1. ***Meric Select*** 창이 나타나면 ![숫자 7](/img/number-07.png) 영역에서 삭제하려는 지표의 오른쪽에 ![삭제 아이콘](/img/ico-trash.svg) 버튼을 선택하세요.

1. 화면 오른쪽 아래에 ***저장*** 버튼을 선택하세요.

:::note

하나의 위젯에는 적어도 하나의 지표가 선택되어야 합니다. 위젯의 모든 지표를 삭제할 수는 없습니다.

:::


## 프리셋

사용자가 설정한 위젯의 설정을 프리셋으로 저장하고 불러올 수 있습니다. 다음의 프리셋을 기본 제공하며 ***Default*** 프리셋은 변경할 수 없습니다.

![Preset](/img/db-preset-list.png)

* ***Default***: 주요 DB 지표와 XOS 지표(CPU 및 메모리 사용률, 메모리 SWAP 사용, Disk I/O 등)로 구성되어 있습니다.

* ***Default(rds)***: 주요 DB 지표와 RDS CloudWatch 지표(CPU 사용율, 메모리 여유, 스토리지 여유, Network 등)로 구성되어 있습니다.


### 프리셋 저장하기

1. 위젯의 지표를 추가 또는 변경하세요.

1. 화면 오른쪽 위에 ***프리셋 저장*** 버튼을 선택하세요. 

1. 이름을 변경한 다음 ***저장*** 버튼을 선택하세요.

***프리셋*** 목록에서 저장한 항목을 선택해 설정을 불러올 수 있습니다.

:::note

* ***Default*** 프리셋은 수정할 수 없습니다. 

* 사용자 정의 프리셋은 최대 5개까지 생성할 수 있습니다. 변경한 지표 그래프뿐만 아니라 액티브 세션의 컬럼 순서, 컬럼 폭, 필터 적용 내용들도 함께 적용됩니다.

:::

### 프리셋 삭제하기

화면 오른쪽 위에 ***프리셋***을 선택하면 프리셋 목록이 나타납니다. 삭제하려는 프리셋 항목의 오른쪽에 ![삭제 아이콘](/img/ico-remove.svg) 버튼을 선택하세요.

<!--## 액티브 세션 영역 활용-->
{@include: ../common-items/_db-using-area-active-session.mdx} 

### 테이블 컬럼 변경하기{#change-column}

{@include: ../common-items/_db-data-edit-column.mdx} 

### 테이블 데이터 필터링하기

{@include: ../common-items/_db-table-data-filtering.mdx}

### 진행 중인 세션 중지하기

1. 테이블의 오른쪽 위에 ![세션 킬 아이콘](/img/ico-kill-session.svg) 버튼을 선택하세요.

1. 테이블 목록에서 중지시킬 세션을 선택하세요. 다중 선택 선택할 수 있습니다.

1. ***정지*** 버튼을 선택하세요.

1. ***세션 킬*** 창이 나타나면 비밀번호(***Parameter Key***) 값을 입력하세요.

    ![세션 킬](/img/db-kill-session-confirm.png)

1. ***적용*** 버튼을 선택하세요.

선택한 세션이 중지됩니다.

:::note

DBX 에이전트 설치 경로에 *paramkey.txt* 파일에서 비밀번호를 확인할 수 있습니다.

:::

<!--컬럼 정보 안내-->
{@include: ../common-items/_db_postgresql-column.mdx}  