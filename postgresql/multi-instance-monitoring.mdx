---
id: multi-instance-monitoring
title: 멀티 인스턴스 모니터링
description: 다수의 데이터베이스 인스턴스 핵심 지표를 통합해 확인할 수 있는 기능을 제공합니다.
tags: [ PostgreSQL, 인스턴스, 대시보드, 데이터베이스 모니터링, 멀티 인스턴스 모니터링 ]
---

:::note

이 문서는 PostgreSQL 모니터링 V2를 기준으로 작성되었습니다. PostgreSQL 모니터링 V1 문서는 [다음 문서](../postgresql-v1/multi-instance-monitoring)를 참조하세요.

:::

홈 화면 > 프로젝트 선택 > ***대시보드*** > ***멀티 인스턴스 모니터링***

***[인스턴스 모니터링](instance-monitoring)*** 메뉴에서는 하나의 인스턴스만 모니터링한다면, ***멀티 인스턴스 모니터링***은 여러 인스턴스들의 지표를 한 화면에서 확인하고 비교할 수 있습니다. 동작 중인 에이전트 수, 액티브 세션의 총합, 트랜잭션 정보 등의 인스턴스 지표를 그룹핑한 값을 통해 인스턴스들의 현황을 파악할 수 있습니다. 그래프 차트로 인스턴스의 지표 값 추이와 어떤 인스턴스의 지표 값이 높은지 쉽게 확인할 수 있습니다. 가장 오래 지속하는 액티브 세션 정보를 제공합니다.

{@include: ../common-items/_db-multi-instance-monitoring-desc-notes.mdx}

## 기본 화면 안내

<ProdImg img='db-multi-instance.png' desc='멀티 인스턴스 모니터링' />

### ![](/img/number-01.png) 인스턴스

에이전트를 설치를 통해 연결한 인스턴스 목록입니다. 인스턴스의 색상은 화면 가운데 영역에서 그래프 차트의 색상과 일치합니다. 인스턴스를 선택했을 때 색상이 회색으로 변하면 선택 해제된 상태입니다. 각 지표와 그래프 차트에서 해제한 인스턴스의 데이터를 제외합니다.

### ![](/img/number-02.png) 그래프 차트 영역

여러 인스턴스들의 중요 지표를 그래프 차트로 확인 및 비교할 수 있습니다. CPU 및 메모리 사용률, 액티브 세션, 슬로우 쿼리, 대기 중인 세션 정보 등을 실시간으로 확인할 수 있습니다. 그래프 차트의 색상은 ![숫자 1](/img/number-01.png) ***인스턴스***의 색상과 일치합니다. 그래프 차트 위로 마우스를 오버하면 툴팁을 통해 수치를 확인할 수 있습니다.

* ***CPU Usage (%)***: 인스턴스 별 CPU 사용률을 실시간으로 확인할 수 있습니다.

* ***Memory Usage (%)***: 인스턴스 별 메모리 사용률을 실시간으로 확인할 수 있습니다.

* ***XOS Disk Usage***: 인스턴스 별 디스크 사용률과 사용 가능 크기와 전체 크기 정보를 표시합니다. 위젯의 오른쪽 위에 ![아이콘](/img/ico-expander.svg) 버튼을 선택하면 새창으로 확인할 수 있습니다.

* ***Active Sessions***: 쿼리를 실행 중인 세션 수를 실시간 차트로 표시합니다.

* ***DML Count***: DML(Data Manipulation Language) 문법(statement)이 수행된 횟수를 실시간 차트로 표시합니다.

* ***Elapsed time***: 실행 중인 쿼리의 경과 시간을 실시간 차트로 표시합니다. 차트의 특정 영역을 드래그하면 ***Query List*** 목록을 확인할 수 있습니다. ![위 방향 아이콘](/img/up-arrow.svg) 또는 ![아래 방향 아이콘](/img/down-arrow.svg) 버튼을 선택해 위 아래로 차트를 이동할 수 있습니다.

* ***Logical Read***: 데이터를 buffer cache 내에서 읽은 횟수를 실시간 차트로 표시합니다.

* ***Slow Query***: 시간대별 슬로우 쿼리를 실시간 차트로 표시합니다. 차트의 특정 영역을 드래그하면 ***Slow Query List*** 목록을 확인할 수 있습니다. ![위 방향 아이콘](/img/up-arrow.svg) 또는 ![아래 방향 아이콘](/img/down-arrow.svg) 버튼을 선택해 위 아래로 차트를 이동할 수 있습니다.

* ***Lock Wait Sessions***: row lock을 획득하기 위해 대기 중인 수를 실시간 차트로 표시합니다.

* ***Commit Count***: 커밋된 트랜잭션의 수를 실시간 차트로 표시합니다.

* ***Replication Delay***: Replication 구조일 경우 replication db에 반영되는 지연 시간을 실시간 차트로 표시합니다.

* ***Physical Read***: 데이터를 물리적인 disk에서 읽은 횟수를 실시간 차트로 표시합니다.

* ***Wait Event***: 해당 백엔드 프로세스가 현재 대기 중인 경우 대기 이벤트 이름과 수를 확인할 수 있습니다. 차트 위로 마우스를 오버하면 툴팁을 통해 정보를 표시합니다.

### ![](/img/number-03.png) 액티브 세션 / 락 트리

실시간 수행 중인 액티브 세션 및 락 트리 정보를 조회할 수 있습니다. 

{@include: ../common-items/_db-dashboard-activesession-desc.mdx}

{@include: ../common-items/_db-dashboard-locktree-desc.mdx}

:::note

테이블 목록에 글자 색상은 검정색 → <span class='slow'>주황색</span> → <span class='vslow'>빨강색</span> 순으로 세션의 수행 속도가 느린 것을 의미합니다.

:::

## 테이블 데이터 필터링하기

{@include: ../common-items/_db-table-data-filtering.mdx}

## 테이블 컬럼 변경하기{#change-column}

{@include: ../common-items/_db-data-edit-column.mdx}

<!-- 컬럼 정보 안내 -->
{@include: ../common-items/_db_postgresql-column.mdx} 