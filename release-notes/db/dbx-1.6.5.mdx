---
id: dbx-1_6_5
title: DBX 1.6.5
toc_max_heading_level: 2
---

## 공통

* 에이전트 업데이트 기능 추가: MySQL, PostgreSQL 상품의 `node_state` 지표 추가

* *whatap.conf* 파일의 `slow_query_log` 옵션값을 대소문자 구분하지 않도록 수정

* xos 에이전트의 tcp 통신 기능 추가

  ```ini title=whatap.conf
  use_tcp=1
  ```

* `cpu_cores` 지표 추가 및 rds cpu core 에러 수정

* cpu core 수 에러 수정

* sql text literal 변수 '$' 문자 등 처리하도록 수정

* CloudWatch `assume-role` 추가

  ```ini title=whatap.conf
  aws_arn=''
  ```

* autoscale assume-role 기능 추가

* DocumentDB, CloudWatch 정보 수집 기능 추가


## PostgreSQL

* `slowoquery` 수집 기능 추가

* `replay_lag`, `replication_broken`, `replication_count` 지표 추가

* `session count` 수집을 위한 버전 처리 init 수정

* `max_connection` 지표 추가

* lock 쿼리 개선(9.6 버전 이상 지원)

  ```ini title=whatap.conf
  lock_update=true
  ```

* `uptime` 지표 추가

* **Aurora PostgreSQL**: `instance_name` 지표를 가져오기 위해 추가하던 *whatap.conf* 파일의 `rds_instance={instance_name}` 옵션을 `cloud_watch_instance`로 변경

  ```ini title=whatap.conf
  cloud_watch_instance={instance_name}
  ```


## Oracle

***테이블스페이스 사이즈*** 메뉴에 temp 파일 사이즈 조회 기능 추가


## MySQL

* Aurora MySQL: replication 정보 추가

* `active session` 수집 시 `command`, `user` 별 필터링 기능 추가

  ```ini title=whatap.conf
  skip_command='{command name}'
  skip_user='{user name}'
  ```

* `max_connection` 지표 추가

* RDS MySQL driver 사용할 수 있도록 옵션 추가

  ```ini title=whatap.conf
  rds_driver=true
  ```


## Tibero

* ***테이블스페이스 사이즈*** 메뉴에 temp 파일 사이즈 조회 기능 추가

* `session stat` 수집 시 API 사용 기능 추가


## CUBRID

* 테이블 사이즈 증감 기능 추가(xcub 에이전트 0.9.6 버전 이상 필요)

  ```ini title=whatap.conf
  tables=1
  ```

* 킬세션(kill session) 기능 추가

* 테이블사이즈 증감 버전별 내용 수정

* `pageSize` 데이터베이스 파라미터 내용 추가, CUBRID `tps`, `qps`, `psize`, `executions` 지표 추가, CUBRID `broker`가 broker1, query_editor, 이 두 가지가 아닐 경우 *whatap.conf* 파일에 `broker=`에 기입

  ```ini title=whatap.conf
  broker=broker1,broker2,query_editor
  ```

* `pagesize` 데이터베이스 파라미터 오류 수정

* 테이블 사이즈 증감 로그 내용 수정

* `tps`, `qps` 지표 뒤바뀌었던 내용 수정

* `broker_count` 지표 추가


## Redis

`active session` 수집 on/off 기능 추가(*whatap.conf* 파일에 `active_session=true/false` 추가)

```ini title=whatap.conf
active_session=true/false
```


## MongoDB

cpu 개수 에러 수정
