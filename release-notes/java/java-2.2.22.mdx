---
id: java-2_2_22
title: Java Agent v2.2.22
toc_max_heading_level: 2
pagination_next: release-notes/java/java-2_2_21
displayed_sidebar: releaseSidebar
---

2023년 11월 16일

- <Status>Feature</Status> log4j-2.17 appender 로그 추적(log4j-2.17 버전 이상)

  ```ini title='whatap.conf'
  # requires agent restart
  weaving=log4j-2.17

  # default
  trace_log4j_stack_depth=50
  trace_log4j_appender_enabled=false
  trace_log4j_appender_set=

  # example
  trace_log4j_appender_enabled=true
  trace_log4j_appender_set=Console,AccessLog,ErrorLog
  ```

- <Status>Changed</Status> logback-1.2.8 appender 로그 설정 변경

  ```ini title='whatap.conf'
  # requires agent restart
  weaving=logback-1.2.8

  # default
  trace_logback_stack_depth=50
  trace_logback_appender_enabled=false
  trace_logback_appender_set=
  ```

- <Status>Fixed</Status> 에이전트 기동 시 에러 방지 위해 <code>hook_db_native_enabled</code> 옵션의 기본값을 <code>false</code>로 수정

  ```ini title='whatap.conf'
  # default
  hook_db_native_enabled=false
  ```

- <Status>Fixed</Status> r2dbc 호출 시 일부 파라미터 수집이 되지 않는 현상 수정

import DownloadJava from './_import_dl-java-agent.mdx';

<DownloadJava ver="2.2.22" />