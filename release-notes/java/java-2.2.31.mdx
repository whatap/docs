---
id: java-2_2_31
title: Java Agent v2.2.31
toc_max_heading_level: 2
pagination_next: release-notes/java/java-2_2_30
displayed_sidebar: releaseSidebar
---

2024년 04월 03일

- <Status>Feature</Status> spring-boot-2.7.x에서 kafka-batch 추적

  ```ini title="whatap.conf"
  weaving=spring-boot-2.7
  ```

- <Status>Feature</Status> JDBC 드라이버에서 SqlException 발생 시 추적 여부 설정 옵션 추가

  옵션 값을 `false`로 설정하면 사용자 정의 예외 처리로 `biz_exceptions` 처리할 수 있습니다.

  ```ini title="whatap.conf"
  # default: true
  trace_sql_exception_enabled=true
  ```

- <Status>Feature</Status> URL + HTTP method 설정 옵션 추가

  - 예시, /api/user+GET, /api/user+POST
  - <Cmdname sid="side_statistics" className="uitext" /> 또는 <Cmdname sid="side_txSearch" className="uitext" /> 메뉴에서 URL+method로 확인 가능
  - 통계 데이터를 URL로 변경한 URL+method로 수집

  ```ini title="whatap.conf"
  # default: false
  trace_tx_name_with_method_enabled=false
  ```

- <Status>Feature</Status> oshi-core-6.1.6으로 업데이트

- <Status>Feature</Status> 자바 에이전트에서 netstat 지표 수집, Maximum Transmission Unit(MTU) 지표 추가

  ```ini title="whatap.conf"
  # default: false
  oshi_enabled=false
  
  # default: false
  oshi_netstat_enabled=false
  ```

- <Status>Changed</Status> <code>trace_basetime</code> 또는 <code>profile_basetime</code> 옵션과 무관하게 에러가 있는 상세 트레이스를 기본 수집하도록 수정

  ```ini title="whatap.conf"
  # default: false -> true
  trace_concern_error_enabled=true
  ```

- <Status>Changed</Status> oshi 배포 디렉토리를 lib4에서 lib5로 업데이트

- <Status>Fixed</Status> oshi, sigar 라이브러리 적용 시 에이전트 로그 오타 수정
