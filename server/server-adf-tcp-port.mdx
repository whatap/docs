---
id: server-adf-tct
title: TCP 포트 감시
description: 서버 에이전트의 고급 기능 중 TCP 포트 감시 방법을 안내합니다.
tags: [ 서버, 고급 기능 ]
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

데몬형 프로세스가 bind 해서 사용하는 listen 포트가 접속이 안되면 알림을 받을 수 있습니다.

홈 화면 > 프로젝트 선택 > ***경고 알림*** > ***이벤트 설정*** > ***서버*** 탭을 선택하고 ***+ 이벤트 추가*** 버튼을 선택하세요.

![](/img/server-adf-tcp-port.png)

* ![number-s](/img/number-01.png) 포트 지표 토글 버튼을 클릭하여 ***사용*** 상태로 변경하세요.
* ![number-s](/img/number-01.png) ***저장*** 버튼을 선택하여 저장하세요.
* 대상 서버에서 다음 명령으로 추가하세요. 
    <Tabs>
    <TabItem value="lxs" label="Linux Shell">

    ```bash title=SH
    #아래 변수에 모니터링 대상 아이피를 지정합니다.
    export TARGET_IP=127.0.0.1
    #아래 변수에 모니터링 대상 포트를 지정합니다.
    export TARGET_PORT=80
    echo "tcp.check.$TARGET_PORT=tcp://$TARGET_IP:$TARGET_PORT" |sudo tee -a /usr/whatap/infra/conf/whatap.conf
    ```

    </TabItem>
    <TabItem value="wps" label="Windows Powershell">

    ```bash title=SH
    #아래 변수에 모니터링 대상 아이피를 지정합니다.
    $TARGET_IP="127.0.0.1"
    #아래 변수에 모니터링 대상 포트를 지정합니다.
    $TARGET_PORT="80"
    Add-Content -Path "C:\Program Files\WhatapInfra\whatap.conf" -Value "tcp.check.$TARGET_PORT=tcp://$TARGET_IP:$TARGET_PORT"
    ```
    
    </TabItem>
    </Tabs>

<!-- * 모든 설정을 완료한 후 ![number-s](/img/number-01.png) ***저장*** 버튼을 선택하여 저장하세요. -->    
