---
id: warning-notice
title: 서버 경고 알림
description: 서버 이벤트 조건 설정을 통해 경고 알림을 보냅니다.
tags: [ 경고 알림, 서버, UI ]
---

홈 화면 > 프로젝트 선택 > ***경고 알림*** > ***이벤트 설정*** 

<!--
> ***서버*** 탭 선택
<span class='vslow'>위험</span>, <span class='slow'>경고</span> 수준으로 나누어 알림을 보낼 수 있습니다.
-->

***서버***, ***프로세스***, ***로그 파일*** 및 ***윈도우 이벤트*** 등의 이벤트 정책을 생성, 수정, 삭제할 수 있습니다. 이벤트 타입을 선택해 서버 재시작 여부, 에이전트의 통신 장애 지속 시간, 자원 사용량 등에 따라 이벤트를 설정할 수 있습니다.

![이벤트 설정 - 서버 sc](/img/server-warning.png)

* ![지시선 1](/img/number-01.png) ***+ 이벤트 추가***  
    해당 이벤트를 추가할 수 있습니다.
* ![지시선 2](/img/number-02.png) ***이름***  
    해당 이벤트의 이름을 표시합니다
* ![지시선 3](/img/number-03.png) ***조건***  
    해당 이벤트의 조건을 표시합니다.
* ![지시선 4](/img/number-04.png) ***서버***  
    해당 이벤트가 설정된 서버를 표시합니다.    
* ![지시선 5](/img/number-05.png) ***수정***과 ***복사***  
    * ![수정 아이콘](/img/ico-edit.svg) 버튼을 선택해 저장된 이벤트 설정을 ***수정***할 수 있습니다. 
    * ![복제 아이콘](/img/ico-copy.svg) 버튼을 선택해 다른 인프라에 해당 이벤트를 ***복사***할 수 있습니다.    

:::note

* ***메트릭스*** 이벤트 추가는 [다음 문서](metric-warning-notice)를 참조하세요.

* ***이상치 탐지*** 이벤트 추가는 [다음 문서](set-event-detect-anomal)를 참조하세요.

* ***로그*** 이벤트 추가는 [다음 문서](set-event-log)를 참조하세요.

:::

## 서버 이벤트 추가

홈 화면 > 프로젝트 선택 > ***경고 알림*** > ***이벤트 설정*** > ***서버*** 탭 > ***+ 이벤트 추가*** 버튼 선택

특정 서버에 대한 전반적인 이벤트를 설정할 수 있습니다. 

![이벤트 추가 - 서버 sc](/img/server-server-event.png)

1. ***이벤트 추가*** 창이 뜨면 ![number 1](/img/number-01.png) 이벤트 ***제목***을 입력하세요.

1. ![number 2](/img/number-02.png) ***서버 목록***을 확인하거나 검색창을 통해 모니터링을 원하는 서버를 선택하세요. 

1. ![number 3](/img/number-03.png) ***이벤트 발행 조건*** 탭에서 원하는 ***지표***의 ***조건***, ***레벨***, ***지속 시간***, ***활성화*** 여부를 설정하세요.

    * ***레벨***: <span class='slow'>경고</span> 혹은 <span class='vslow'>위험</span> 수준을 선택할 수 있습니다.

    * ***지속 시간***:  설정한 ***지속 시간*** 이후 서버의 상태가 <span class='slow'>경고</span>, <span class='vslow'>위험</span> 수준으로 변경됩니다.

    ***지표*** 안내는 다음을 참고하세요. 

    * ***재시작***  
        서버 재시작 시 발생하는 이벤트입니다.
    * ***미수신***  
        에이전트로부터 ***지속 시간***동안 정상적인 데이터를 수신하지 못했을 경우 발생하는 통신 장애 이벤트입니다.
    * ***포트***  
        포트 접속 불가 이벤트입니다. 프로젝트 내 등록된 에이전트는 **10120 포트**를 통해 서로의 상태를 확인합니다. ***지속 시간***동안 통신이 이루어지지 않을 경우 발생하는 이벤트입니다.  
    * ***CPU, Memory, 스왑***  
        CPU, Memory, SWAP 메모리 등의 사용량에 대한 이벤트를 설정합니다. 
    * ***Steal***  
        CPU Steal Time에 대한 이벤트를 설정합니다. 리눅스 계열 OS만 설정할 수 있습니다. 
    * ***Disk***  
        디스크 사용량과 I/O 사용량 및 Inode 사용량을 기반으로 이벤트를 설정합니다. 
    * ***Network***  
        네트워크 사용량과 관련한 이벤트를 설정합니다. 트래픽 양과 초당 패킷을 기준으로 설정할 수 있습니다. 

1. 이벤트 설정을 마쳤으면 ![number 4](/img/number-04.png) ***저장*** 버튼을 선택하세요.

:::caution
하나의 서버에 하나의 이벤트를 할당할 수 있습니다.
:::

## 프로세스 이벤트 추가{#process-event}

홈 화면 > 프로젝트 선택 > ***경고 알림*** > ***이벤트 설정*** > ***프로세스*** 탭 > ***+ 이벤트 추가*** 버튼 선택

특정 프로세스에 대한 이벤트 정책을 설정할 수 있습니다.

![이벤트 추가 - 프로세스 sc](/img/server-process-event.png)

1. ***이벤트 추가*** 창이 뜨면 ![number 1](/img/number-01.png) 이벤트 ***제목***을 입력하세요.

1. ![number 2](/img/number-02.png) ***이벤트 발행 조건*** 탭에서 ***서버 목록***의 ***선택된 에이전트가 없습니다*** 버튼을 클릭해 ***서버 목록*** 창에서 서버를 선택하세요. 

    :::note

    ***프로젝트 기본 정책*** 옵션 토글 ![아이콘](/img/ic-toggle-on.svg) 활성화 시 프로젝트가 관리하는 서버에 기본 알림 정책을 적용합니다.

    :::

1. ***프로세스*** 선택창에서 프로세스 혹은 프로세스 그룹을 선택하세요. 

    :::note

    프로세스 그룹 추가 방법에 대한 자세한 내용은 [다음 문서](server-detail-process-group.mdx)를 참조하세요.
    
    :::

1. ***프로세스 소유자***를 선택하세요. 

    * ***프로세스 소유자***를 지정하지 않을 시 소유자와 관계없이 같은 이름의 모든 프로세스에 해당 설정이 적용됩니다.
    * 이벤트 조건은 ***프로세스 소유자***를 생략한 경우라도 소유자-프로세스 단위로 동작합니다.

1. 원하는 ***지표***의 ***레벨***, ***지속 시간***, ***활성화*** 여부를 설정하세요.

    * ***레벨***: <span class='slow'>경고</span> 혹은 <span class='vslow'>위험</span> 수준을 선택할 수 있습니다.

    * ***지속 시간***:  설정한 임곗값의 ***지속 시간*** 이후 서버의 상태가 <span class='slow'>경고</span>, <span class='vslow'>위험</span> 수준으로 변경됩니다.

    ***지표*** 안내는 다음을 참고하세요. 

    * ***프로세스 수***  
        동일한 이름의 프로세스의 개수에 대한 이벤트를 설정할 수 있습니다. ***위험***과 ***경고*** 조건의 개수를 지정하세요.
    * ***프로세스 CPU***  
        CPU 사용량에 따라 이벤트를 설정할 수 있습니다.
    * ***프로세스 메모리***  
        메모리 사용량에 따라 이벤트를 설정할 수 있습니다.

1. 이벤트 설정을 마쳤으면 ![number 3](/img/number-03.png) ***저장*** 버튼을 선택하세요.

:::note

* 프로세스 알림 ***조건***을 잘못 설정한 경우 해당 알림을 비활성화하거나 알림 ***조건***을 재설정하세요.
* ***프로세스*** 및 ***프로세스 소유자***를 잘못 지정한 경우 해당 알림을 비활성화해 진행 중인 알림을 해소한 후 알림 ***조건***을 재설정하세요.

:::

## 로그 파일 및 윈도우 이벤트 추가

홈 화면 > 프로젝트 선택 > ***경고 알림*** > ***이벤트 설정*** > ***로그 파일/윈도우 이벤트*** 탭 > ***+ 이벤트 추가*** 버튼 선택

특정 로그 파일과 윈도우 이벤트 설정을 관리할 수 있습니다.

### 로그 파일{#log-file-event}

***로그 파일*** 이벤트를 추가하려면 다음을 참고해 ***이벤트 발생 조건***을 지정하세요. 

![이벤트 추가 - 로그 파일 sc](/img/server-log-file.png)

1. ***이벤트 추가*** 창이 뜨면 ![number 1](/img/number-01.png) 이벤트 ***제목***을 입력하세요.

1. ![number 2](/img/number-02.png) ***서버 목록***을 확인하거나 검색창을 통해 모니터링을 원하는 서버를 선택하세요. 

    :::note

    ***프로젝트 기본 정책*** 옵션 토글 ![아이콘](/img/ic-toggle-on.svg) 활성화 시 프로젝트가 관리하는 서버에 기본 알림 정책을 적용합니다.

    :::

1. ![number 3](/img/number-03.png) ***이벤트 발행 조건*** 탭에서 ***로그 종류***를 ***로그 파일***로 선택하세요.

1. 예시를 참고해 ***파일 경로***를 정규식대로 입력하세요. 

    > 예시, */var/log/mylogfile_%Y-%m-%d_%H:%M:%S.log*

1. 이벤트를 발생시킬 ***검색 키워드***를 입력하세요. 복수 개 지정할 수 있습니다.

1. 알림에서 제외할 ***검출 제외 문자열***을 입력하세요. 복수 개 지정할 수 있습니다.

1. 몇 초 동안 몇 회 지정한 ***키워드*** 검출 시 알림을 받을 지 ***반복 횟수***와 ***기간***을 입력하세요. 

1. 이벤트의 ***위험도***를 선택하세요. <span class='vslow'>위험</span> 혹은 <span class='slow'>경고</span> 수준을 선택할 수 있습니다.

1. ![number 4](/img/number-04.png) ***저장*** 버튼을 선택하세요.

### 윈도우 이벤트{#windows-event}

***윈도우 이벤트***를 추가하려면 다음을 참고해 ***이벤트 발행 조건***을 지정하세요. Windows 환경에서만 사용 가능합니다.

![이벤트 추가 - 이벤트 로그 sc](/img/server-window-event.png)

1. ***이벤트 추가*** 창이 뜨면 ![number 1](/img/number-01.png) 이벤트 ***제목***을 입력하세요.

1. ![number 2](/img/number-02.png) ***서버 목록***을 확인하거나 검색창을 통해 모니터링을 원하는 서버를 선택하세요. 

    :::note

    ***프로젝트 기본 정책*** 옵션 토글 ![아이콘](/img/ic-toggle-on.svg) 활성화 시 프로젝트가 관리하는 서버에 기본 알림 정책을 적용합니다.

    :::

1. ![number 3](/img/number-03.png) ***이벤트 발행 조건*** 탭에서 ***로그 종류***를 ***윈도우 이벤트***로 선택하세요.

1. 다음 예시를 참고해 ***로그명***을 선택하세요.<br/>
    ![로그명](https://img.whatap.io/media/user_guide_server/noti/1530.png)

1. 다음 예시를 참고해 ***수준***, ***원본***(이벤트 소스), ***이벤트 ID***, ***검색 키워드***를 지정하세요. ***검색 키워드***는 복수 개 지정할 수 있습니다.<br/>
    ![수준 이벤트 소스 등](https://img.whatap.io/media/user_guide_server/noti/1540.png)

1. 알림에서 제외할 ***검출 제외 문자열***을 입력하세요. 복수 개 지정할 수 있습니다.

1. 이벤트의 ***위험도***를 선택하세요. <span class='vslow'>위험</span> 혹은 <span class='slow'>경고</span> 수준을 선택할 수 있습니다.

1. ![number 4](/img/number-04.png) ***저장*** 버튼을 선택하세요.

#### 로그 파일 처리량

로그 파일 처리량은 로그 라인 기준으로 다음과 같이 설정되어 있습니다. 로그 과다 발생 시 와탭 서버 모니터링 에이전트 CPU 과다 사용 방지를 위해서입니다. 초과량은 처리하지 않습니다.

* 버전 1.3.6 이하 : 약 2초당 60 라인을 처리합니다. 
* 버전 1.3.7 이상 : 약 2초당 1000 라인을 처리합니다. 

다음 옵션으로 2초당 초과량을 조절할 수 있습니다.

* **Linux**  
    > */usr/whatap/infra/conf/whatap.conf* 파일에 `log.skip.threshold=2초당 처리 가능 라인 수`
* **Windows**  
    > *C:\Program Files\WhatapInfra\whatap.conf* 파일에 `log.skip.threshold=2초당 처리 가능 라인 수`


## 이벤트 수정

1. 이벤트 목록 오른쪽의 ![수정 아이콘](/img/ico-edit.svg)***수정*** 아이콘을 선택하세요. 

1. ***이벤트 발행 조건*** 탭에서 원하는 ***지표***의 ***조건***, ***레벨***, ***지속 시간***, ***활성화*** 여부를 수정하세요.

1. 이벤트 수정을 마쳤으면 ***저장*** 버튼을 선택하세요.

:::note

* 이벤트 수정 시 특정 지표에 대한 변경 사항이 있는 경우 해당 지표에 걸려있던 진행 중 알림은 <span class='vslow'>Disabled</span> 됩니다.
* 수정 후 조건에 맞는 데이터가 유입되면 새로운 알림이 발생합니다.
* 프로세스 알림의 ***제목***, ***프로세스***, ***프로세스 소유자*** 중 하나 이상의 값을 수정하는 경우 해당 조건에 걸린 모든 알림이 <span class='vslow'>Disabled</span> 됩니다.

:::

## 이벤트 삭제 

1. 이벤트 목록 오른쪽의 ![수정 아이콘](/img/ico-edit.svg)***수정*** 아이콘을 선택하세요. 

1. 수정 화면 상단 오른쪽의 ![삭제 아이콘](/img/ic-delete-critical.svg)***삭제*** 아이콘을 선택하세요.

<!-- 로그 파일 처리량 삭제 예정 -->

<!--

파일 경로와 키워드를 입력하세요. 

파일 로그 처리량 아래 다음 문장 의미 모호함
2초당 초과량의 조절은 다음 옵션으로 조절할 수 있습니다.

* ***파일 경로***  
    감시할 파일의 경로입니다.
* ***키워드***  
    해당 파일의 로그에서 해당 키워드가 발생하면 이벤트를 발생시킵니다.
* ***위험도***  
    이벤트가 발생하였을 때 위험도를 지정합니다.

-->

<!-- 

* **로그명**<br/>
    ![로그명](https://img.whatap.io/media/user_guide_server/noti/1530.png)
* **수준**, **이벤트 소스**, **이벤트 ID**, **키워드**<br/>
    ![수준 이벤트 소스 등](https://img.whatap.io/media/user_guide_server/noti/1540.png)
* **위험도**<br/>
    이벤트가 발생했을 때 해당 이벤트의 위험도를 지정할 수 있습니다.


:::note

특정 로그가 발생할 때 서버 상에서 자동 실행되는 스크립트를 지정할 수 있습니다.  
![이벤트 추가 - 로그 파일 - 자동 스크립트](https://img.whatap.io/media/user_guide_server/alert/alert_autoscript.png)

:::

대상 파일이 모든 서버에 존재할 경우 ***프로젝트 기본 정책*** 옵션 토글을 ![아이콘](/img/ic-toggle-on.svg) 활성화하세요. 프로젝트가 관리하는 서버에 기본 알림 정책을 자동으로 적용합니다.

-->

<!-- 

해당 알림을 비활성화 하거나 알림 조건을 재설정 후 알림 해소 조건에 맞는 데이터가 들어오면 잘못 발생한 진행 중 알림을 해소시킬 수 있습니다. 

프로세스 이벤트

![이벤트 추가 - 프로세스](https://img.whatap.io/media/images/process_event_setting_editor.png)

    * ***Enable as Project-Wide***  
        해당 프로젝트에 있는 모든 서버들에 해당 이벤트를 적용합니다.
    * ***Count***  
        해당 프로세스의 개수 증감에 대하여 이벤트를 설정할 수 있습니다. 좌측의 경우 최저치, 우측의 경우 최대치 알림입니다. 프로세스가 슬라이더 좌측보다 적거나 많다면 이벤트가 발생합니다.
    * ***CPU***  
        CPU 사용량에 따라 이벤트를 설정할 수 있습니다.
    * ***Memory***  
        메모리 사용량에 따라 이벤트를 설정할 수 있습니다.
    * ***이벤트 적용***  
        해당 프로세스에 대한 이벤트를 단일 서버가 아닌 다중 서버에 대한 정책으로 설정할 수 있습니다.
    * ***임곗값 지속 시간***     
        해당 설정된 임곗값의 지속시간 이후 서버 상태가 <span class='slow'>Warning</span>, <span class='vslow'>Fatal</span>로 변경됩니다.

서버 이벤트

![이벤트 추가 - 서버](https://img.whatap.io/media/images/server_event_setting_editor.png)

    * ***지속 시간***  
        설정한 ***지속 시간*** 이후 서버의 상태가 <span class='slow'>경고</span>, <span class='vslow'>위험</span> 수준으로 변경됩니다.


로그 싱크 제외

로그 싱크 이벤트 

로그명과 수준을 선택하고, 알림 소스, 알림 ID, 키워드를 입력하세요.

![로그 싱크 이벤트](https://img.whatap.io/media/images/logsink_event_setting_editor.png)

입력창에 다음 예시에서 해당하는 값을 선택해 추가하세요.


-->

<!-- 

로그 파일 및 윈도우 이벤트 아래 기존 안내

![이벤트 추가 - 로그 파일](https://img.whatap.io/media/images/logfile_event_setting_editor.png)

1. 해당 정책의 이름을 지정하세요.
1. 새로운 규칙을 생성하세요.
1. 지정된 규칙을 삭제하세요.
1. 삭제하거나 적용될 규칙을 선택하세요.
1. 적용될 서버를 선택하세요.
1. 특정 로그가 발생할 때 서버상에서 자동 실행되는 스크립트를 지정할 수 있습니다.  
    ![이벤트 추가 - 로그 파일 - 자동 스크립트](https://img.whatap.io/media/user_guide_server/alert/alert_autoscript.png)


-->

<!-- 

## 프로세스 그룹 이벤트{#process-group-event}

:::note
프로세스 그룹 추가 방법에 대한 자세한 내용은 [다음 문서](server-detail-process-group.mdx)를 참조하세요.
:::

프로세스 그룹의 자원 사용량 합계치가 특정 기준을 넘으면 이벤트를 받도록 지정할 수 있습니다. 프로세스 그룹을 추가하고 다음 절차를 따라 진행하세요.

### 프로세스 그룹 이벤트 추가{#process-group-event-add}

1. ***경고 알림*** > ***이벤트 설정***에서 ***+ 이벤트 추가***를 선택하세요.
1. 제목을 입력하세요.
1. 이벤트 타입을 ***프로세스***로 선택하세요.
1. ***선택된 에이전트가 없습니다*** 버튼을 선택하면 서버 목록을 조회할 수 있습니다. 
1. 해당 이벤트를 이용할 서버를 선택한 후 ***적용*** 버튼을 누르세요.
:::caution
선택한 서버가 다른 이벤트 정책을 따르고 있는 경우 현재 설정으로 이벤트 정책이 변경됩니다.
:::
1. 프로세스 목록에서 등록한 프로세스 그룹을 선택하세요.
1. 프로세스 소유자를 선택 후 ***저장*** 버튼을 선택하세요.  
    * 생략하면 소유자와 관계없이 같은 이름의 모든 프로세스에 설정이 적용됩니다.  
    * 이벤트 조건은 소유자를 생략한 경우라도 소유자-프로세스 단위로 동작합니다.

이 과정을 마치면 다음과 같이 프로세스 밑에 새로 생성한 프로세스 그룹 이벤트를 확인할 수 있습니다. 

![프로세스 그룹 이벤트](https://img.whatap.io/media/images/process_group_alarm_result.jpg)

:::note
프로세스 그룹 이벤트는 프로세스 그룹명이 아닌 이벤트 제목으로 뜹니다. 
:::


-->