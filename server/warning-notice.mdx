---
id: warning-notice
title: 서버 경고 알림
description: 서버 이벤트 조건 설정을 통해 경고 알림을 보냅니다.
tags: [ 경고 알림, 서버, UI ]
---

홈 화면 > 프로젝트 선택 > ***경고 알림*** > ***이벤트 설정*** 

***서버***, ***프로세스***, ***로그 파일*** 및 ***윈도우 이벤트*** 등의 이벤트 정책을 생성, 수정, 삭제할 수 있습니다. 이벤트 타입을 선택해 서버 재시작 여부, 에이전트의 통신 장애 지속 시간, 자원 사용량 등에 따라 이벤트를 설정할 수 있습니다.

<ImgLang img='server-warning.png' desc='이벤트 설정 서버 sc'/>

* ![지시선 1](/img/number-01.png) ***+ 이벤트 추가***

  해당 이벤트를 추가할 수 있습니다.

* ![지시선 2](/img/number-02.png) ***이름***

  해당 이벤트의 이름을 표시합니다

* ![지시선 3](/img/number-03.png) ***조건***

  해당 이벤트의 조건을 표시합니다.

* ![지시선 4](/img/number-04.png) ***서버***

  해당 이벤트가 설정된 서버를 표시합니다.    

* ![지시선 5](/img/number-05.png) ***수정***과 ***복사***

  * ![수정 아이콘](/img/ico-edit.svg) 버튼을 선택해 저장된 이벤트 설정을 ***수정***할 수 있습니다. 

  * ![복제 아이콘](/img/ico-copy.svg) 버튼을 선택해 다른 인프라에 해당 이벤트를 ***복사***할 수 있습니다.

:::note

* ***메트릭스*** 이벤트 추가는 [다음 문서](metric-warning-notice)를 참조하세요.

* ***이상치 탐지*** 이벤트 추가는 [다음 문서](set-event-detect-anomal)를 참조하세요.

* ***로그*** 이벤트 추가는 [다음 문서](set-event-log)를 참조하세요.

:::

## 서버 이벤트 추가{#add-server-event}

홈 화면 > 프로젝트 선택 > ***경고 알림*** > ***이벤트 설정*** > ***서버*** 탭 > ***+ 이벤트 추가*** 버튼 선택

특정 서버에 대한 전반적인 이벤트를 설정해 경고 알림을 받을 수 있습니다. 

<ImgLang img='server-server-event.png' desc='서버 이벤트 추가 sc'/>

1. ***이벤트 추가*** 창이 뜨면 ![number 1](/img/number-01.png) 이벤트 ***제목***을 입력하세요.

1. ![number 2](/img/number-02.png) ***서버 목록***을 확인하거나 검색창을 통해 모니터링을 원하는 서버를 선택하세요. 

1. ![number 3](/img/number-03.png) ***이벤트 발행 조건*** 탭에서 원하는 ***지표***의 ***조건***, ***레벨***, ***지속 시간***, ***활성화*** 여부를 설정하세요.

    * ***레벨***: <span class='slow'>경고</span> 혹은 <span class='vslow'>위험</span> 수준을 선택할 수 있습니다.

    * ***지속 시간***:  설정한 ***지속 시간*** 이후 서버의 상태가 <span class='slow'>경고</span>, <span class='vslow'>위험</span> 수준으로 변경됩니다.

    ***지표*** 안내는 다음을 참고하세요. 

    * ***재시작***: 서버 재시작 시 발생하는 이벤트입니다.

    * ***미수신***: 에이전트로부터 ***지속 시간***동안 정상적인 데이터를 수신하지 못했을 경우 발생하는 통신 장애 이벤트입니다.

    * ***포트***: 포트 접속 불가 이벤트입니다. 프로젝트 내 등록된 에이전트는 **10120 포트**를 통해 서로의 상태를 확인합니다. ***지속 시간***동안 통신이 이루어지지 않을 경우 발생하는 이벤트입니다.  

    * ***CPU, Memory, 스왑***: CPU, Memory, SWAP 메모리 등의 사용량에 대한 이벤트를 설정합니다. 

    * ***Steal***: CPU Steal Time에 대한 이벤트를 설정합니다. 리눅스 계열 OS만 설정할 수 있습니다. 

    * ***Disk***: 디스크 사용량과 I/O 사용량 및 Inode 사용량을 기반으로 이벤트를 설정합니다.

    * ***Network***: 네트워크 사용량과 관련한 이벤트를 설정합니다. 트래픽 양과 초당 패킷을 기준으로 설정할 수 있습니다. 

1. ![number 4](/img/number-04.png) <Cmdname sid="event_tag" className="uitext" />를 설정하세요. 

    * 이벤트 수신 태그를 선택하면 해당 태그를 가진 프로젝트 멤버와 3rd-party 플러그인에 알림을 전송할 수 있습니다. 이벤트 수신 태그를 선택하지 않으면 프로젝트 전체 멤버에게 경고 알림을 보냅니다. 
    
    * <span class="uitext">+</span> <Cmdname sid="add_tag" className="uitext" />를 클릭한 다음 <Cmdname sid="event_tag_list" className="uitext" />에서 경고 알림 수신 대상을 선택하세요. <span class="uitext">+</span> <Cmdname sid="create_new_eventtag" className="uitext" />을 선택해 태그를 추가할 수도 있습니다.

    * <Cmdname sid="event_statistic" className="uitext" /> &gt; <Cmdname sid="event_receive_configuration" className="uitext" /> 메뉴에서 프로젝트 멤버와 3rd-party 플러그인에 태그를 설정할 수 있습니다. <Cmdname sid="event_receive_configuration" className="uitext" /> 메뉴에 대한 자세한 내용은 <Link to="set-receive-event#set-notice-by-team-or-users">다음 문서</Link>를 참조하세요.

1. 이벤트 설정을 마쳤으면 ![number 5](/img/number-05.png) ***저장*** 버튼을 선택하세요.

:::caution

하나의 서버에 하나의 이벤트를 할당할 수 있습니다.

:::

<details>
<summary> 서버 이벤트 기본 설정 </summary>

와탭 서버 모니터링 서비스는 에이전트 설치와 동시에 다음과 같은 기본 이벤트 설정을 제공합니다. 

![서버 기본 알람 sc](/img/server-default-notice-setting.png)

* ***재시작***: 활성화

* ***네트워크 IOPS***

  * <span class='slow'>경고</span>: 45,000 pps / 지속 시간: 5분
  * <span class='vslow'>위험</span>: 50,000 pps / 지속 시간: 5분

* ***네트워크 BPS***

  * <span class='slow'>경고</span>: 5000,000,000 bps / 지속 시간: 5분
  * <span class='vslow'>위험</span>: 7000,000,000 bps / 지속 시간: 5분

* ***디스크 I/O***

  * <span class='slow'>경고</span>: 90% / 지속 시간: 5분
  * <span class='vslow'>위험</span>: 95% / 지속 시간: 5분

* ***디스크 사용량***

  * <span class='slow'>경고</span>: 90% / 지속 시간: 5분
  * <span class='vslow'>위험</span>: 95% / 지속 시간: 5분

* ***inode***

  * <span class='slow'>경고</span>: 90% / 지속 시간: 5분
  * <span class='vslow'>위험</span>: 95% / 지속 시간: 5분

* ***CPU***

  * <span class='slow'>경고</span>: 70% / 지속 시간: 1분
  * <span class='vslow'>위험</span>: 90% / 지속 시간: 1분

* ***메모리***

  * <span class='slow'>경고</span>: 70% / 지속 시간: 1분
  * <span class='vslow'>위험</span>: 90% / 지속 시간: 1분

* ***steal***

  * <span class='slow'>경고</span>: 5% / 지속 시간: 1분
  * <span class='vslow'>위험</span>: 10% / 지속 시간: 1분

* ***스왑***

  * <span class='slow'>경고</span>: 50% / 지속 시간: 1분
  * <span class='vslow'>위험</span>: 90% / 지속 시간: 1분

</details>

## 프로세스 이벤트 추가{#process-event}

홈 화면 > 프로젝트 선택 > ***경고 알림*** > ***이벤트 설정*** > ***프로세스*** 탭 > ***+ 이벤트 추가*** 버튼 선택

특정 프로세스에 대한 이벤트를 설정하여 경고 알림을 받을 수 있습니다. 주요 지표인 ***프로세스 수***, ***프로세스 CPU*** 사용량, ***프로세스 메모리*** 사용량을 기준으로 조건을 지정하면 해당 프로세스가 예기치 않게 종료되거나 성능이 급격히 변동하는 경우 실시간으로 경고를 받을 수 있습니다.

경고 및 위험 수준, 그리고 설정한 임계치가 유지되는 ***지속 시간***을 설정하여 이벤트의 심각성을 평가할 수 있습니다. 또한 ***이벤트 수신 태그***를 활용해 특정 프로젝트 멤버에게 알림을 전송할 수 있습니다. 이를 통해 효율적으로 우선순위에 따른 조치를 취할 수 있습니다.

{/* 

이벤트의 심각성을 평가하고 우선순위에 따라 조치를 취할 수 있습니다. 또한 ***이벤트 수신 태그 설정***을 통해 전체 프로젝트 멤버 대신 알림을 받을 대상을 지정할 수 있습니다.

일시적인 상황을 구분해 보다 정확한 알림을 제공합니다. 또한 ***이벤트 수신 태그 설정***을 통해 전체 프로젝트 멤버 대신 알림을 받을 대상을 지정할 수 있습니다.  */}

<ImgLang img='server-process-event.png' desc='프로세스 이벤트 추가 sc'/>

1. ***이벤트 추가*** 창이 뜨면 ![number 1](/img/number-01.png) 이벤트 ***제목***을 입력하세요.

1. ![number 2](/img/number-02.png) ***이벤트 발행 조건*** 탭에서 ***서버 목록***의 ***선택된 에이전트가 없습니다*** 버튼을 클릭해 ***서버 목록*** 창에서 서버를 선택하세요. 

    :::note

    ***프로젝트 기본 정책*** 옵션 토글 ![아이콘](/img/ic-toggle-on.svg) 활성화 시 프로젝트가 관리하는 서버에 기본 알림 정책을 적용합니다.

    :::

1. ***프로세스*** 선택창에서 프로세스 혹은 프로세스 그룹을 선택하세요. 

    :::note

    프로세스 그룹 추가 방법에 대한 자세한 내용은 [다음 문서](server-detail-process-group.mdx)를 참조하세요.
    
    :::

1. ***프로세스 소유자***를 선택하세요. 

    * ***프로세스 소유자***를 지정하지 않을 시 소유자와 관계없이 같은 이름의 모든 프로세스에 해당 설정이 적용됩니다.
    * 이벤트 조건은 ***프로세스 소유자***를 생략한 경우라도 소유자-프로세스 단위로 동작합니다.

1. 원하는 ***지표***의 ***레벨***, ***지속 시간***, ***활성화*** 여부를 설정하세요.

    * ***레벨***: <span class='slow'>경고</span> 혹은 <span class='vslow'>위험</span> 수준을 선택할 수 있습니다.

    * ***지속 시간***:  설정한 임곗값의 ***지속 시간*** 이후 서버의 상태가 <span class='slow'>경고</span>, <span class='vslow'>위험</span> 수준으로 변경됩니다.

    ***지표*** 안내는 다음을 참고하세요. 

    * ***프로세스 수***: 동일한 이름의 프로세스의 개수에 대한 이벤트를 설정할 수 있습니다. ***위험***과 ***경고*** 조건의 개수를 지정하세요.
    * ***프로세스 CPU***: CPU 사용량에 따라 이벤트를 설정할 수 있습니다.
    * ***프로세스 메모리***: 메모리 사용량에 따라 이벤트를 설정할 수 있습니다.

1. ![number 3](/img/number-03.png) <Cmdname sid="event_tag" className="uitext" />를 설정하세요. 

    * 이벤트 수신 태그를 선택하면 해당 태그를 가진 프로젝트 멤버와 3rd-party 플러그인에 알림을 전송할 수 있습니다. 이벤트 수신 태그를 선택하지 않으면 프로젝트 전체 멤버에게 경고 알림을 보냅니다. 
    
    * <span class="uitext">+</span> <Cmdname sid="add_tag" className="uitext" />를 클릭한 다음 <Cmdname sid="event_tag_list" className="uitext" />에서 경고 알림 수신 대상을 선택하세요. <span class="uitext">+</span> <Cmdname sid="create_new_eventtag" className="uitext" />을 선택해 태그를 추가할 수도 있습니다.

    * <Cmdname sid="event_statistic" className="uitext" /> &gt; <Cmdname sid="event_receive_configuration" className="uitext" /> 메뉴에서 프로젝트 멤버와 3rd-party 플러그인에 태그를 설정할 수 있습니다. <Cmdname sid="event_receive_configuration" className="uitext" /> 메뉴에 대한 자세한 내용은 <Link to="set-receive-event#set-notice-by-team-or-users">다음 문서</Link>를 참조하세요.

1. 이벤트 설정을 마쳤으면 ![number 4](/img/number-04.png) ***저장*** 버튼을 선택하세요.

:::note

* 프로세스 알림 ***조건***을 잘못 설정한 경우 해당 알림을 비활성화하거나 알림 ***조건***을 재설정하세요.
* ***프로세스*** 및 ***프로세스 소유자***를 잘못 지정한 경우 해당 알림을 비활성화해 진행 중인 알림을 해소한 후 알림 ***조건***을 재설정하세요.

:::

## 로그 파일 및 윈도우 이벤트 추가

홈 화면 > 프로젝트 선택 > ***경고 알림*** > ***이벤트 설정*** > ***로그 파일/윈도우 이벤트*** 탭 > ***+ 이벤트 추가*** 버튼 선택

특정 로그 파일과 윈도우 이벤트 설정을 관리할 수 있습니다.

### 로그 파일{#log-file-event}

***로그 파일*** 이벤트를 추가하려면 다음을 참고해 ***이벤트 발생 조건***을 지정하세요. 

<ImgLang img='server-log-file.png' desc='로그 파일 이벤트 추가 sc'/>

1. ***이벤트 추가*** 창이 뜨면 ![number 1](/img/number-01.png) 이벤트 ***제목***을 입력하세요.

1. ![number 2](/img/number-02.png) ***서버 목록***을 확인하거나 검색창을 통해 모니터링을 원하는 서버를 선택하세요. 

    :::note

    ***프로젝트 기본 정책*** 옵션 토글 ![아이콘](/img/ic-toggle-on.svg) 활성화 시 프로젝트가 관리하는 서버에 기본 알림 정책을 적용합니다.

    :::

1. ![number 3](/img/number-03.png) ***이벤트 발행 조건*** 탭에서 ***로그 종류***를 ***로그 파일***로 선택하세요.

1. 예시를 참고해 ***파일 경로***를 정규식대로 입력하세요. 

    > 예시, */var/log/mylogfile_%Y-%m-%d_%H:%M:%S.log*

1. 이벤트를 발생시킬 ***검색 키워드***를 입력하세요. 복수 개 지정할 수 있습니다.

1. 알림에서 제외할 ***검출 제외 문자열***을 입력하세요. 복수 개 지정할 수 있습니다.

1. 몇 초 동안 몇 회 지정한 ***키워드*** 검출 시 알림을 받을 지 ***반복 횟수***와 ***기간***을 입력하세요. 

1. 이벤트의 ***위험도***를 선택하세요. <span class='vslow'>위험</span> 혹은 <span class='slow'>경고</span> 수준을 선택할 수 있습니다.

1. ![number 4](/img/number-04.png) ***저장*** 버튼을 선택하세요.

### 윈도우 이벤트{#windows-event}

***윈도우 이벤트***를 추가하려면 다음을 참고해 ***이벤트 발행 조건***을 지정하세요. Windows 환경에서만 사용 가능합니다.

<ImgLang img='server-log-windows.png' desc='윈도우 이벤트 추가 sc'/>

1. ***이벤트 추가*** 창이 뜨면 ![number 1](/img/number-01.png) 이벤트 ***제목***을 입력하세요.

1. ![number 2](/img/number-02.png) ***서버 목록***을 확인하거나 검색창을 통해 모니터링을 원하는 서버를 선택하세요. 

    :::note

    ***프로젝트 기본 정책*** 옵션 토글 ![아이콘](/img/ic-toggle-on.svg) 활성화 시 프로젝트가 관리하는 서버에 기본 알림 정책을 적용합니다.

    :::

1. ![number 3](/img/number-03.png) ***이벤트 발행 조건*** 탭에서 ***로그 종류***를 ***윈도우 이벤트***로 선택하세요.

1. 다음 예시를 참고해 ***로그명***을 선택하세요.

    <ImgLang img='server-log-windows-a-01.png' desc='로그명'/>

1. 다음 예시를 참고해 ***수준***, ***원본***(이벤트 소스), ***이벤트 ID***, ***검색 키워드***를 지정하세요. ***검색 키워드***는 복수 개 지정할 수 있습니다.

    <ImgLang img='server-log-windows-a-02.png' desc='수준, 이벤트 소스 등'/>

1. 알림에서 제외할 ***검출 제외 문자열***을 입력하세요. 복수 개 지정할 수 있습니다.

1. 이벤트의 ***위험도***를 선택하세요. <span class='vslow'>위험</span> 혹은 <span class='slow'>경고</span> 수준을 선택할 수 있습니다.

1. ![number 4](/img/number-04.png) ***저장*** 버튼을 선택하세요.

#### 로그 파일 처리량

로그 파일 처리량은 로그 라인 기준으로 다음과 같이 설정되어 있습니다. 로그 과다 발생 시 와탭 서버 모니터링 에이전트 CPU 과다 사용 방지를 위해서입니다. 초과량은 처리하지 않습니다.

* 버전 1.3.6 이하 : 약 2초당 60 라인을 처리합니다. 
* 버전 1.3.7 이상 : 약 2초당 1000 라인을 처리합니다. 

다음 옵션으로 2초당 초과량을 조절할 수 있습니다.

* **Linux**

  > */usr/whatap/infra/conf/whatap.conf* 파일에 `log.skip.threshold=2초당 처리 가능 라인 수`

* **Windows**

  > *C:\Program Files\WhatapInfra\whatap.conf* 파일에 `log.skip.threshold=2초당 처리 가능 라인 수`


## 이벤트 수정 {#event-edit}

1. 이벤트 목록 오른쪽의 ![수정 아이콘](/img/ico-edit.svg)***수정*** 아이콘을 선택하세요. 

1. ***이벤트 발행 조건*** 탭에서 원하는 ***지표***의 ***조건***, ***레벨***, ***지속 시간***, ***활성화*** 여부를 수정하세요.

1. 이벤트 수정을 마쳤으면 ***저장*** 버튼을 선택하세요.

:::note

* 이벤트 수정 시 특정 지표에 대한 변경 사항이 있는 경우 해당 지표에 걸려있던 진행 중 알림은 <span class='vslow'>Disabled</span> 됩니다.
* 수정 후 조건에 맞는 데이터가 유입되면 새로운 알림이 발생합니다.
* 프로세스 알림의 ***제목***, ***프로세스***, ***프로세스 소유자*** 중 하나 이상의 값을 수정하는 경우 해당 조건에 걸린 모든 알림이 <span class='vslow'>Disabled</span> 됩니다.

:::

## 이벤트 삭제{#event-delete}

1. 이벤트 목록 오른쪽의 ![수정 아이콘](/img/ico-edit.svg)***수정*** 아이콘을 선택하세요. 

1. 수정 화면 상단 오른쪽의 ![삭제 아이콘](/img/ic-delete-critical.svg)***삭제*** 아이콘을 선택하세요.

## 이벤트 복사{#event-copy}

1. 이벤트 목록 오른쪽의 ![복사 아이콘](/img/ico-copy.svg)***복사*** 아이콘을 선택하세요.

1. ***이벤트 설정 복사*** 창이 뜨면 원하는 프로젝트를 선택하거나 하단의 ***현재 프로젝트에 복사***를 선택하세요.

1. 이벤트 설정을 복사할 프로젝트를 지정했으면 ***복사*** 버튼을 선택하세요.

:::note

* 동일 프로젝트 내 이벤트 중복 복사 시 복사 횟수만큼 이벤트가 생성됩니다.

* 복사한 이벤트명은 접미사 ***(copy)*** 표기가 추가됩니다. 
  > 예, 기존 이벤트명 ***Default*** → 복사 이벤트명 ***Default(copy)***

:::


{/* 

* 프로젝트 간 또는 동일 프로젝트 내 이벤트 설정을 복사할 수 있습니다.

*/}